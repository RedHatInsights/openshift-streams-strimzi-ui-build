"use strict";(self.webpackChunkkafka_ui=self.webpackChunkkafka_ui||[]).push([[460],{38296:(e,t,o)=>{function r(...e){const t=[],o={}.hasOwnProperty;return e.filter(Boolean).forEach((e=>{const n=typeof e;if("string"===n||"number"===n)t.push(e);else if(Array.isArray(e)&&e.length){const o=r(...e);o&&t.push(o)}else if("object"===n)for(const r in e)o.call(e,r)&&e[r]&&t.push(r)})),t.join(" ")}o.d(t,{i:()=>r})},28942:(e,t,o)=>{o.d(t,{w:()=>f});var r=o(75418),n=o.n(r),a=o(94550),l=o(38296),i=function(){return(i=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},s=function(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(o[r[n]]=e[r[n]])}return o},u=(0,r.createContext)({activeRow:"",onRowClick:function(){return""},loggedInUser:""}),c=u.Provider,p=function(e){var t=(0,r.useContext)(u),o=t.activeRow,a=t.onRowClick,c=t.rowDataTestId,p=e||{},m=p.trRef,g=p.className,f=p.rowProps,d=p.row,v=s(p,["trRef","className","rowProps","row"]),b=f.rowIndex,w=d.isExpanded,y=d.originalData;return n().createElement("tr",i({"data-testid":c,tabIndex:0,ref:m,className:(0,l.i)(g,"pf-c-table-row__item",o&&o===(null==y?void 0:y.rowId)&&"pf-m-selected pf-m-selectable"),hidden:void 0!==w&&!w,onClick:function(e){return a&&a(e,b,d)}},v))},m=function(){return(m=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},g=function(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(o[r[n]]=e[r[n]])}return o},f=function(e){var t=e.tableProps,o=e.tableHeaderProps,r=e.tableBodyProps,i=e.children,s=e.activeRow,u=e.onRowClick,f=e.rowDataTestId,d=e.loggedInUser,v=t.cells,b=t.rows,w=t.actionResolver,y=t.onSort,h=t.sortBy,_=t["aria-label"],P=t.variant,O=t.className,C=t.shouldDefaultCustomRowWrapper,I=void 0!==C&&C,E=g(t,["cells","rows","actionResolver","onSort","sortBy","aria-label","variant","className","shouldDefaultCustomRowWrapper"]);return I&&(E.rowWrapper=p),n().createElement(c,{value:{activeRow:s,onRowClick:u,rowDataTestId:f,loggedInUser:d}},n().createElement(a.Table,m({className:(0,l.i)(I&&"mas--table-view__table",O),cells:v,variant:P,rows:b,"aria-label":_,actionResolver:w,onSort:y,sortBy:h},E),n().createElement(a.TableHeader,m({},o)),n().createElement(a.TableBody,m({},r)),i))}},97416:(e,t,o)=>{o.d(t,{L:()=>s});var r=o(75418),n=o.n(r),a=o(58788),l=function(){return(l=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},i=function(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(o[r[n]]=e[r[n]])}return o},s=function(e){var t=e.toolbarProps,o=e.toggleGroupProps,r=e.toolbarItems,s=e.toggleGroupItems,u=t.id,c=t.clearAllFilters,p=t.collapseListedFiltersBreakpoint,m=void 0===p?"md":p,g=t.inset,f=i(t,["id","clearAllFilters","collapseListedFiltersBreakpoint","inset"]);return n().createElement(n().Fragment,null,n().createElement(a.Toolbar,l({id:u,clearAllFilters:c,inset:g,collapseListedFiltersBreakpoint:m},f),n().createElement(a.ToolbarContent,null,o&&n().createElement(a.ToolbarToggleGroup,l({toggleIcon:o.toggleIcon},o),s),null==r?void 0:r.map((function(e,t){var o=e.key,r=void 0===o?"mas":o,s=e.variant,u=e.className,c=e.id,p=e.alignment,m=e.item,g=i(e,["key","variant","className","id","alignment","item"]);return n().createElement(a.ToolbarItem,l({key:r+"-"+t,variant:s,className:u,id:c,alignment:p},g),m)})))))}},95460:(e,t,o)=>{o.r(t),o.d(t,{ConsumerGroupsTable:()=>b,default:()=>w});var r=o(75418),n=o.n(r),a=o(54532),l=o(58788),i=o(94550),s=o(41861),u=o(52049),c=o(28942),p=o(91070),m=o(82639),g=o(97416),f=o(14708),d=function(e){var t=e.search,o=e.setSearch,i=e.total,s=e.page,u=e.perPage,c=(0,a.useTranslation)().t,p=(0,r.useState)(""),d=p[0],v=p[1],b=n().createElement(n().Fragment,null,n().createElement(l.ToolbarFilter,{chips:t?[t]:[],deleteChip:function(){o("")},categoryName:""},n().createElement(l.InputGroup,null,n().createElement(l.TextInput,{name:"searchConsumerGroups",id:"search-consumer-groups-input",type:"search","aria-label":c("consumerGroup.consumer_group_search_input"),placeholder:c("common.search"),value:d,onChange:function(e){v(e)}}),n().createElement(l.Button,{variant:l.ButtonVariant.control,isDisabled:!d.length,onClick:function(){o(d),v("")},"aria-label":c("consumerGroup.consumer_group_search")},n().createElement(f.SearchIcon,null))))),w=[];return i&&i>0&&w.push({item:n().createElement(m.wu,{widgetId:"consumer-group-pagination-options-menu-top",itemCount:i,page:s,perPage:u,titles:{paginationTitle:c("common.minimal_pagination"),perPageSuffix:c("common.per_page_suffix"),toFirstPage:c("common.to_first_page"),toPreviousPage:c("common.to_previous_page"),toLastPage:c("common.to_last_page"),toNextPage:c("common.to_next_page"),optionsToggle:c("common.options_toggle"),currPage:c("common.curr_page")}}),variant:"pagination",alignment:{default:"alignRight"}}),n().createElement(g.L,{toolbarProps:{id:"instance-toolbar",clearAllFilters:function(){o("")},collapseListedFiltersBreakpoint:"md",inset:{xl:"insetLg"}},toggleGroupProps:{toggleIcon:"",breakpoint:"md"},toggleGroupItems:b,toolbarItems:w})},v=function(){return(v=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},b=function(e){var t=e.consumerGroups,o=e.total,g=e.page,f=e.perPage,b=e.search,w=e.setSearch,y=e.rowDataTestId,h=e.isDrawerOpen,_=e.onViewConsumerGroup,P=e.refreshConsumerGroups,O=e.consumerGroupByTopic,C=e.onSort,I=e.sortBy,E=(0,a.useTranslation)().t,k=(0,s.dd)().showModal,G=(0,s.dd)().showModal,T=(0,r.useState)(),j=T[0],R=T[1],S=[{title:E("consumerGroup.consumer_group_id"),transforms:[i.sortable]},{title:E("consumerGroup.active_members")},{title:E("consumerGroup.partitions_with_lag")}];(0,r.useEffect)((function(){h||R("")}),[h]);var x,D=function(e,t){var o,r,n,a,l=t.groupId,i=t.state;R(l),function(e,t){k(u.w.DeleteConsumerGroup,{consumerName:e,refreshConsumerGroups:P,state:t})}(l,i),null===(a=null===(n=null===(r=null===(o=null==e?void 0:e.target)||void 0===o?void 0:o.parentElement)||void 0===r?void 0:r.parentElement)||void 0===n?void 0:n.previousSibling)||void 0===a||a.focus()},B=function(e,t){var o;o=t,G(u.w.ConsumerGroupResetOffset,{refreshConsumerGroups:P,consumerGroupData:o})};return n().createElement(n().Fragment,null,n().createElement(d,{search:b,setSearch:w,total:o,perPage:f,page:g}),n().createElement(c.w,{tableProps:{cells:S,rows:(x=[],null==t||t.map((function(e){var t=e.groupId,o=e.consumers;x.push({cells:[t,o.reduce((function(e,t){return e+(-1!=t.partition?1:0)}),0),o.reduce((function(e,t){return e+(t.lag>0?1:0)}),0)],originalData:v(v({},e),{rowId:t})})})),x),"aria-label":E("consumerGroup.consumer_group_list"),actionResolver:function(e){var t,o,r;if(O)return[];var n=e.originalData;return[(t={title:E("common.delete")},t["data-testid"]="tableConsumers-actionDelete",t.onClick=function(e){return D(e,n)},t),(o={title:E("consumerGroup.view_partitions_offsets")},o["data-testid"]="tableConsumers-actionOpenDrawer",o.onClick=function(e,t,o){return function(e){var t=e.originalData;_(t),R(null==t?void 0:t.groupId)}(o)},o),(r={title:E("consumerGroup.reset_offset")},r["data-testid"]="tableConsumers-resetOffset",r.onClick=function(e){return B(0,n)},r)]},shouldDefaultCustomRowWrapper:!0,variant:i.TableVariant.compact,onSort:C,sortBy:I},activeRow:j,onRowClick:function(e,t,o){var r,n,a=o.originalData,l=null===(r=null==e?void 0:e.target)||void 0===r?void 0:r.type,i=null===(n=null==e?void 0:e.target)||void 0===n?void 0:n.tagName;"button"!==l&&"a"!==(null==i?void 0:i.toLowerCase())&&(_(a),R(null==a?void 0:a.groupId))},rowDataTestId:y||"tableConsumers-row"}),o<1&&b.length>0&&n().createElement(p.u,{emptyStateProps:{variant:p.j.NoResult},titleProps:{title:E("common.no_results_title")},emptyStateBodyProps:{body:E("common.no_results_body")}}),o>0&&n().createElement(m.wu,{widgetId:"consumer-group-pagination-options-menu-bottom",itemCount:o,variant:l.PaginationVariant.bottom,page:g,perPage:f,titles:{paginationTitle:E("common.full_pagination"),perPageSuffix:E("common.per_page_suffix"),toFirstPage:E("common.to_first_page"),toPreviousPage:E("common.to_previous_page"),toLastPage:E("common.to_last_page"),toNextPage:E("common.to_next_page"),optionsToggle:E("common.options_toggle"),currPage:E("common.curr_page")}}))};const w=b}}]);
//# sourceMappingURL=460.e4644d60.js.map