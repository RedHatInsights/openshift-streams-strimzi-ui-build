"use strict";(self.webpackChunkkafka_ui=self.webpackChunkkafka_ui||[]).push([[535],{38296:(e,t,n)=>{function r(...e){const t=[],n={}.hasOwnProperty;return e.filter(Boolean).forEach((e=>{const a=typeof e;if("string"===a||"number"===a)t.push(e);else if(Array.isArray(e)&&e.length){const n=r(...e);n&&t.push(n)}else if("object"===a)for(const r in e)n.call(e,r)&&e[r]&&t.push(r)})),t.join(" ")}n.r(t),n.d(t,{css:()=>r})},28942:(e,t,n)=>{n.d(t,{w:()=>d});var r=n(75418),a=n.n(r),o=n(27577),i=n(38296),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},c=(0,r.createContext)({activeRow:"",onRowClick:function(){return""},loggedInUser:""}),u=c.Provider,p=function(e){var t=(0,r.useContext)(c),n=t.activeRow,o=t.onRowClick,u=t.rowDataTestId,p=e||{},m=p.trRef,f=p.className,d=p.rowProps,b=p.row,g=s(p,["trRef","className","rowProps","row"]),v=d.rowIndex,y=b.isExpanded,h=b.originalData;return a().createElement("tr",l({"data-testid":u,tabIndex:0,ref:m,className:(0,i.css)(f,"pf-c-table-row__item",n&&n===(null==h?void 0:h.rowId)&&"pf-m-selected pf-m-selectable"),hidden:void 0!==y&&!y,onClick:function(e){return o&&o(e,v,b)}},g))},m=function(){return(m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},d=function(e){var t=e.tableProps,n=e.tableHeaderProps,r=e.tableBodyProps,l=e.children,s=e.activeRow,c=e.onRowClick,d=e.rowDataTestId,b=e.loggedInUser,g=t.cells,v=t.rows,y=t.actionResolver,h=t.onSort,T=t.sortBy,w=t["aria-label"],k=t.variant,P=t.className,E=t.shouldDefaultCustomRowWrapper,_=void 0!==E&&E,C=f(t,["cells","rows","actionResolver","onSort","sortBy","aria-label","variant","className","shouldDefaultCustomRowWrapper"]);return _&&(C.rowWrapper=p),a().createElement(u,{value:{activeRow:s,onRowClick:c,rowDataTestId:d,loggedInUser:b}},a().createElement(o.Table,m({className:(0,i.css)(_&&"mas--table-view__table",P),cells:g,variant:k,rows:v,"aria-label":w,actionResolver:y,onSort:h,sortBy:T},C),a().createElement(o.TableHeader,m({},n)),a().createElement(o.TableBody,m({},r)),l))}},97416:(e,t,n)=>{n.d(t,{L:()=>s});var r=n(75418),a=n.n(r),o=n(84669),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},s=function(e){var t=e.toolbarProps,n=e.toggleGroupProps,r=e.toolbarItems,s=e.toggleGroupItems,c=t.id,u=t.clearAllFilters,p=t.collapseListedFiltersBreakpoint,m=void 0===p?"md":p,f=t.inset,d=l(t,["id","clearAllFilters","collapseListedFiltersBreakpoint","inset"]);return a().createElement(a().Fragment,null,a().createElement(o.Toolbar,i({id:c,clearAllFilters:u,inset:f,collapseListedFiltersBreakpoint:m},d),a().createElement(o.ToolbarContent,null,n&&a().createElement(o.ToolbarToggleGroup,i({toggleIcon:n.toggleIcon},n),s),null==r?void 0:r.map((function(e,t){var n=e.key,r=void 0===n?"mas":n,s=e.variant,c=e.className,u=e.id,p=e.alignment,m=e.item,f=l(e,["key","variant","className","id","alignment","item"]);return a().createElement(o.ToolbarItem,i({key:r+"-"+t,variant:s,className:c,id:u,alignment:p},f),m)})))))}},43667:(e,t,n)=>{n.d(t,{QG:()=>m,w7:()=>f,dg:()=>d,C8:()=>b});var r=n(54532),a=n(70251),o=n(70853),i=n(84669),l=n(75418),s=n.n(l),c=n(95216),u=function(){var e=(0,r.useTranslation)().t;return s().createElement(s().Fragment,null,s().createElement("div",null,e("permission.table.all_accounts")," ",s().createElement(a.InfoCircleIcon,{color:"grey"})),s().createElement("div",{className:"pf-u-font-size-xs"},e("permission.table.all_accounts_help")))},p=function(e){var t=e.acl,n=(0,c.usePrincipals)().getAllPrincipals().filter((function(e){return e.id===t.principalDisplay}));return 1===n.length?n[0].principalType===c.PrincipalType.ServiceAccount?s().createElement(i.Tooltip,{content:s().createElement("div",null,"Type: ",n[0].principalType," ",s().createElement("br",null))},s().createElement("span",{tabIndex:0}," ",t.principalDisplay," ",s().createElement(a.InfoCircleIcon,{color:"grey"}))):s().createElement(i.Tooltip,{content:s().createElement("div",null,"Type: ",n[0].principalType," ",s().createElement("br",null),"Name: ",n[0].displayName," ",s().createElement("br",null),"Email: ",n[0].emailAddress)},s().createElement("span",{tabIndex:0}," ",t.principalDisplay," ",s().createElement(a.InfoCircleIcon,{color:"grey"}))):s().createElement("span",null," ",t.principalDisplay)},m=function(e){switch(e.principal){case"User:*":return{title:s().createElement(u,null)};default:return{title:s().createElement(p,{acl:e})}}},f=function(e){return e.permission===o.AclPermissionType.Deny?{title:s().createElement(i.Label,{color:"red",variant:"outline"},e.permissionDisplay)}:""},d=function(e){return{title:s().createElement(i.Label,{color:e.operationColor},e.operationDisplay)}},b=function(e){return{title:s().createElement(s().Fragment,null,s().createElement("div",null,e.resourceTypeDisplay," ",e.patternType===o.AclPatternType.Prefixed?"name starts with":"is"),s().createElement("div",{className:"pf-u-font-size-lg"},e.resourceName))}}},65535:(e,t,n)=>{n.d(t,{v:()=>F});var r=n(75418),a=n.n(r),o=n(54532),i=n(84669),l=n(64517),s=n(4055),c=(n(41781),n(76621)),u=n(27577),p=n(41861),m=n(52049),f=n(28942),d=n(82639),b=n(97416),g=function(e){var t=e.deleteSelectedEnabled,n=e.onDeleteSelected,l=(0,o.useTranslation)().t,s=(0,r.useState)(!1),c=s[0],u=s[1],p=function(){var e=document.getElementById("permissions-toolbar-kebab-toggle");null==e||e.focus()},m=[a().createElement(i.DropdownItem,{key:"delete_selected",onClick:n,isDisabled:!t},l("permission.table.delete_selected"))];return a().createElement(i.Dropdown,{onSelect:function(){u((function(e){return!e})),p()},toggle:a().createElement(i.KebabToggle,{onToggle:function(e){u(e)},id:"permissions-toolbar-kebab-toggle"}),isOpen:c,isPlain:!0,dropdownItems:m})},v=function(e){var t=e.total,n=void 0===t?0:t,r=e.page,l=e.perPage,s=e.setFilteredValue,c=e.openManagePermissions,u=e.onDeleteSelected,p=e.deletedSelectedEnabled,m=(0,o.useTranslation)().t,f=a().createElement(a().Fragment,null),v=[{item:a().createElement(i.Button,{id:"permissions-toolbar-manage-permissions-button","data-testid":"actionManagePermissions",onClick:c},m("permission.table.manage_button"))},{item:a().createElement(g,{deleteSelectedEnabled:p,onDeleteSelected:u})}];return n>0&&v.push({item:a().createElement(d.wu,{widgetId:"permissions-pagination-options-menu-top",itemCount:n,page:r,perPage:l,titles:{paginationTitle:m("common.minimal_pagination"),perPageSuffix:m("common.per_page_suffix"),toFirstPage:m("common.to_first_page"),toPreviousPage:m("common.to_previous_page"),toLastPage:m("common.to_last_page"),toNextPage:m("common.to_next_page"),optionsToggle:m("common.options_toggle"),currPage:m("common.curr_page")},isCompact:!0}),variant:"pagination",alignment:{default:"alignRight"}}),a().createElement(b.L,{toolbarProps:{id:"instance-toolbar",clearAllFilters:function(){s("")},collapseListedFiltersBreakpoint:"md",inset:{xl:"insetLg"}},toggleGroupProps:{toggleIcon:"",breakpoint:"md"},toggleGroupItems:f,toolbarItems:v})},y=n(63052),h=n(43667),T=n(91070),w=function(e){var t=e.openManagePermissions,n=(0,o.useTranslation)().t;return a().createElement(T.u,{emptyStateProps:{variant:T.j.NoResult},titleProps:{title:n("permission.table.no_results_title")},emptyStateBodyProps:{body:n("permission.table.no_results_body")},buttonProps:{title:n("permission.table.manage_permissions_button"),onClick:t,"data-testid":"actionManagePermissions"}})},k=n(70853),P=function(){return(P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},E=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))},_=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},C=function(e){var t=e.permissionsService,n=e.kafkaName,l=e.topicNames,s=e.consumerGroupIds,b=(0,o.useTranslation)().t,g=(0,r.useState)(""),T=g[0],C=g[1],O=((0,p.dd)()||{}).showModal,I=(0,r.useState)(),S=I[0],N=I[1],x=function(){return E(void 0,void 0,void 0,(function(){var e;return _(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.getPermissions({resourceName:""!==T?T:void 0})];case 1:return e=n.sent(),N((function(t){var n;return{items:null===(n=e.items)||void 0===n?void 0:n.map((function(e){var n,r=null===(n=null==t?void 0:t.items)||void 0===n?void 0:n.filter((function(t){return t.hash()===e.hash()})),a=0!==(null==r?void 0:r.length)&&(null==r?void 0:r.every((function(e){return e.selected})))||!1;return P({selected:a},e)})),page:e.page,size:e.size,total:e.total}})),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}}))}))};(0,r.useEffect)((function(){x()}),[]),(0,y.K)((function(){return x()}),5e3);var A=[h.QG,h.w7,h.dg,h.C8],D=function(e){O&&O(m.w.ManagePermissions,{selectedAccountId:e,kafkaName:n,acls:(null==S?void 0:S.items)||[],topicNames:l,consumerGroupIds:s,onSave:function(){return E(void 0,void 0,void 0,(function(){return _(this,(function(e){switch(e.label){case 0:return[4,x()];case 1:return e.sent(),[2]}}))}))}})};return void 0===S||void 0===S.items||0===S.items.length?a().createElement(w,null):a().createElement(a().Fragment,null,a().createElement(v,{total:S.total||0,page:S.page||1,perPage:S.size||10,openManagePermissions:function(){return D()},setFilteredValue:C,filteredValue:T,deletedSelectedEnabled:S.items.some((function(e){return e.selected})),onDeleteSelected:function(){var e;null===(e=null==S?void 0:S.items)||void 0===e||e.filter((function(e){return e.selected})).forEach((function(e){t.deletePermission({resourceName:e.resourceName,patternType:(0,c.L2)(e.patternType,k.AclPatternTypeFilter),permissionType:(0,c.L2)(e.permission,k.AclPermissionTypeFilter),resourceType:(0,c.L2)(e.resourceType,k.AclResourceTypeFilter),operation:(0,c.L2)(e.operation,k.AclOperationFilter),principal:e.principal})}))}}),a().createElement(f.w,{tableProps:{cells:[{title:""},{title:""},{title:""},{title:""}],rows:S.items.map((function(e,t){return{cells:A.map((function(n){return n(e,t)})),selected:e.selected,originalData:e}})),"aria-label":b("permission.table.permission_list_table"),shouldDefaultCustomRowWrapper:!0,variant:u.TableVariant.compact,onSelect:function(e,t,n){N(-1===n?function(e){var n;if(e)return P({items:null===(n=null==e?void 0:e.items)||void 0===n?void 0:n.map((function(e){return e.selected=t,e}))},e)}:function(e){if(e){var r=null==e?void 0:e.items;return void 0!==r&&(r[n].selected=t),P({items:r},e)}})},actionResolver:function(e,n){var r,a,o=n.rowIndex;return[(r={title:b("permission.table.row_kebab.manage")},r["data-testid"]="permission-table-row-manage",r.onClick=function(){void 0!==(null==S?void 0:S.items)&&void 0!==o&&D(S.items[o].principalDisplay)},r),(a={title:b("permission.table.row_kebab.delete")},a["data-testid"]="permission-table-row-delete",a.onClick=function(){return function(e){if(void 0!==e&&void 0!==(null==S?void 0:S.items)){var n=S.items[e];t.deletePermission({resourceName:n.resourceName,patternType:(0,c.L2)(n.patternType,k.AclPatternTypeFilter),permissionType:(0,c.L2)(n.permission,k.AclPermissionTypeFilter),resourceType:(0,c.L2)(n.resourceType,k.AclResourceTypeFilter),operation:(0,c.L2)(n.operation,k.AclOperationFilter),principal:n.principal})}}(o)},a)]},canSelectAll:!1},rowDataTestId:"tablePermissions-row"}),a().createElement(d.wu,{widgetId:"permissions-pagination-options-menu-bottom",itemCount:S.total||0,variant:i.PaginationVariant.bottom,page:S.page,perPage:S.size,titles:{paginationTitle:b("common.full_pagination"),perPageSuffix:b("common.per_page_suffix"),toFirstPage:b("common.to_first_page"),toPreviousPage:b("common.to_previous_page"),toLastPage:b("common.to_last_page"),toNextPage:b("common.to_next_page"),optionsToggle:b("common.options_toggle"),currPage:b("common.curr_page")}}))},O=n(3654),I=n(60540),S=n(10708),N=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))},x=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};const A=function(e){var t=e.kafkaName,n=(0,r.useContext)(O.E),o=(0,c.PO)(n),i=(0,r.useState)([]),l=i[0],s=i[1],u=(0,r.useState)([]),p=u[0],m=u[1];return(0,r.useEffect)((function(){N(void 0,void 0,void 0,(function(){var e,t,r;return x(this,(function(a){switch(a.label){case 0:return[4,(0,I.BB)(n)];case 1:return e=a.sent(),t=null===(r=e.items)||void 0===r?void 0:r.map((function(e){return e.name||""})),s(t||[]),[2]}}))}))}),[n]),(0,r.useEffect)((function(){N(void 0,void 0,void 0,(function(){var e,t,r;return x(this,(function(a){switch(a.label){case 0:return[4,(0,S.e5)(n)];case 1:return e=a.sent(),t=null===(r=e.items)||void 0===r?void 0:r.map((function(e){return e.groupId||""})),m(t||[]),[2]}}))}))}),[n]),a().createElement(C,{permissionsService:o,kafkaName:t,topicNames:l,consumerGroupIds:p})};var D=n(95216),R=(0,r.lazy)((function(){return Promise.all([n.e(68),n.e(380)]).then(n.bind(n,93380))})),j=(0,r.lazy)((function(){return n.e(131).then(n.bind(n,70705))})),F=function(){var e=(0,o.useTranslation)().t,t=(0,l.S)()||{},n=t.kafkaPageLink,c=t.kafkaName,u=t.handleInstanceDrawer,p=t.setIsOpenDeleteInstanceModal,m=t.showMetrics,f=t.activeTab,d=(0,D.usePrincipals)(),b=(0,r.useState)(f||1),g=b[0],v=b[1],y=a().createRef(),h=a().createRef(),T=a().createRef(),w=a().createRef(),k=(0,r.useState)(),P=k[0],E=k[1],_=function(e){u&&u(!0,e)},C=[a().createElement(i.DropdownItem,{key:"view-kafka",onClick:function(){return _("details")}},e("common.view_instance")),a().createElement(i.DropdownItem,{key:"connect-kafka",onClick:function(){return _("connection")}},e("common.view_connection")),a().createElement(i.DropdownItem,{key:"delete-kafka",onClick:function(){p&&p(!0)}},e("common.delete_instance"))],O=a().createElement(i.Breadcrumb,null,a().createElement(i.BreadcrumbItem,{to:n||"#"},e("common.kafka_instance")),a().createElement(i.BreadcrumbItem,{to:"#",isActive:!0},c||e("common.kafka_instance_name")));return a().createElement(a().Fragment,null,a().createElement("section",{className:"pf-c-page__main-breadcrumb"},O),a().createElement(i.PageSection,{variant:i.PageSectionVariants.light},a().createElement(i.Level,null,a().createElement(i.Title,{headingLevel:"h1"},c||e("common.kafka_instance_name")),a().createElement(i.Dropdown,{onSelect:function(){E(!P)},toggle:a().createElement(i.KebabToggle,{onToggle:function(e){E(e)},id:"toggle-data-plane"}),isOpen:P,isPlain:!0,dropdownItems:C,position:i.DropdownPosition.right}))),a().createElement(a().Suspense,{fallback:a().createElement(s.y,null)},a().createElement(i.PageSection,{variant:i.PageSectionVariants.light,padding:{default:"noPadding"},className:"pf-c-page__main-tabs"},a().createElement(i.Tabs,{activeKey:g,onSelect:function(e,t){v(t)},"data-testid":"pageKafka-tabProperties",className:"pf-m-page-insets"},a().createElement(i.Tab,{title:a().createElement(i.TabTitleText,null,e("dashboard.dashboard")),eventKey:1,"data-testid":"pageKafka-tabDashboard",id:"dashboard-tab-section","aria-label":e("dashboard.dashboard"),tabContentRef:T,tabContentId:"kafka-ui-TabcontentDashboard"}),a().createElement(i.Tab,{title:a().createElement(i.TabTitleText,null,e("topic.topics")),eventKey:2,"data-testid":"pageKafka-tabTopics",id:"topics-tab-section","aria-label":e("topic.topics"),tabContentRef:h,tabContentId:"kafka-ui-TabcontentTopicsList"}),a().createElement(i.Tab,{title:a().createElement(i.TabTitleText,null,e("consumerGroup.consumer_groups")),eventKey:3,"data-testid":"pageKafka-tabConsumers",id:"consumer-groups-tab-section","aria-label":e("consumerGroup.consumer_groups"),tabContentRef:y,tabContentId:"kafka-ui-TabcontentConsumersList"}),void 0!==d?a().createElement(i.Tab,{title:a().createElement(i.TabTitleText,null,e("permission.tab.label")),eventKey:4,"data-testid":"pageKafka-tabPermissions",id:"permissions-tab-section","aria-label":e("permission.tab.label"),tabContentRef:w,tabContentId:"kafka-ui-TabcontentPermissions"}):a().createElement(a().Fragment,null))),a().createElement(i.PageSection,{isFilled:!0},a().createElement(i.TabContent,{eventKey:1,ref:T,id:"kafka-ui-TabcontentDashboard",className:"kafka-ui-m-full-height","aria-label":e("dashboard.dashboard"),hidden:1!==g},m),a().createElement(i.TabContent,{eventKey:2,ref:h,id:"kafka-ui-TabcontentTopicsList",className:"kafka-ui-m-full-height","aria-label":e("topic.topics"),hidden:2!==g},a().createElement(R,null)),a().createElement(i.TabContent,{eventKey:3,ref:y,id:"kafka-ui-TabcontentConsumersList",className:"kafka-ui-m-full-height","aria-label":e("consumerGroup.consumer_groups"),hidden:3!=g},a().createElement(j,{consumerGroupByTopic:!1})),void 0!==d?a().createElement(i.TabContent,{eventKey:4,ref:w,id:"kafka-ui-TabcontentPermissions",className:"kafka-ui-m-full-height","aria-label":e("permission.tab.label"),hidden:!0},a().createElement(A,{kafkaName:c})):a().createElement(a().Fragment,null))))}},76621:(e,t,n)=>{n.d(t,{L2:()=>u,PO:()=>p,mv:()=>f,G6:()=>d,yN:()=>b,t:()=>g});var r=n(70853),a=n(73866),o=n(45330),i=n.n(o),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},s=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))},c=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},u=function(e,t){return(Object.entries(t).find((function(t){return t[1]===e.toString()}))||[])[1]},p=function(e){return{getPermissions:function(t,n,a){return s(void 0,void 0,Promise,(function(){var o,i;return c(this,(function(l){switch(l.label){case 0:return[4,null==e?void 0:e.getToken()];case 1:return o=l.sent(),[4,new r.AclsApi(new r.Configuration({accessToken:o,basePath:null==e?void 0:e.basePath})).getAcls(t.resourceType,t.resourceName,t.patternType,t.principal,t.operation,t.permissionType,a,n)];case 2:return i=l.sent(),[2,m(i)]}}))}))},addPermission:function(t){return s(void 0,void 0,void 0,(function(){var n;return c(this,(function(a){switch(a.label){case 0:return[4,null==e?void 0:e.getToken()];case 1:return n=a.sent(),[4,new r.AclsApi(new r.Configuration({accessToken:n,basePath:null==e?void 0:e.basePath})).createAcl(t)];case 2:return a.sent(),[2]}}))}))},deletePermission:function(t){return s(void 0,void 0,void 0,(function(){var n;return c(this,(function(a){switch(a.label){case 0:return[4,null==e?void 0:e.getToken()];case 1:return n=a.sent(),[4,new r.AclsApi(new r.Configuration({accessToken:n,basePath:null==e?void 0:e.basePath})).deleteAcls(t.resourceType,t.resourceName,t.patternType,t.principal,t.operation,t.permissionType)];case 2:return a.sent(),[2]}}))}))},getResourceOperations:function(){return s(void 0,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return[4,null==e?void 0:e.getToken()];case 1:return t=n.sent(),[4,new r.AclsApi(new r.Configuration({accessToken:t,basePath:null==e?void 0:e.basePath})).getAclResourceOperations().then((function(e){return e.data}))];case 2:return[2,n.sent()]}}))}))}}},m=function(e){var t;return{total:e.data.total,size:e.data.size,page:e.data.page,items:null===(t=e.data.items)||void 0===t?void 0:t.map((function(e){var t,n;switch(e.resourceType){case r.AclResourceType.Group:t="green",n="Consumer group";break;case r.AclResourceType.Topic:t="blue",n="Topic";break;case r.AclResourceType.Cluster:n="Kafka Instance",t="grey";break;case r.AclResourceType.TransactionalId:n="Transactional id",t="orange";break;default:t=void 0,n=(0,a.sentenceCase)(e.resourceType)}return l(l({operationColor:t,operationDisplay:(0,a.sentenceCase)(e.operation),resourceTypeDisplay:n,permissionDisplay:(0,a.sentenceCase)(e.permission),principalDisplay:e.principal.substring(5)},e),{toString:function(){return e.principal+" "+e.permission+" "+e.operation+" "+e.patternType+" "+e.resourceType+" "+e.resourceName},hash:function(){return i()(e)}})})).sort((function(e,t){return e.permission!==t.permission?"DENY"===e.permission?-1:1:e.principal!==t.principal?e.principal.localeCompare(t.principal):e.resourceType!==t.resourceType?e.resourceType.localeCompare(t.resourceType):e.resourceName!==t.resourceName?e.resourceName.localeCompare(t.resourceName):e.operation!==t.operation?e.operation.localeCompare(t.operation):0}))}},f=function(){return Object.values(r.AclPermissionType)},d=function(){return Object.values(r.AclOperation)},b=function(){return Object.values(r.AclResourceType)},g=function(){return Object.values(r.AclPatternType)}}}]);
//# sourceMappingURL=535.2cea6be6.js.map