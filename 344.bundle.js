/*!
 * Copyright Strimzi authors.
 * License: Apache License 2.0 (see the file LICENSE or http://apache.org/licenses/LICENSE-2.0.html).
 *
 */
(self.webpackChunkstrimzi_ui=self.webpackChunkstrimzi_ui||[]).push([[344],{5183:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createIcon=t.getSize=t.IconSize=void 0;const r=n(655),l=r.__importStar(n(2491));var a;!function(e){e.sm="sm",e.md="md",e.lg="lg",e.xl="xl"}(a=t.IconSize||(t.IconSize={})),t.getSize=e=>{switch(e){case a.sm:return"1em";case a.md:return"1.5em";case a.lg:return"2em";case a.xl:return"3em";default:return"1em"}};let i=0;t.createIcon=function createIcon({name:e,xOffset:n=0,yOffset:o=0,width:c,height:u,svgPath:s}){var f;return(f=class SVGIcon extends l.Component{constructor(){super(...arguments),this.id="icon-title-"+i++}render(){const e=this.props,{size:a,color:i,title:f,noVerticalAlign:p}=e,m=r.__rest(e,["size","color","title","noVerticalAlign"]),d=Boolean(f),h=t.getSize(a),v=-.125*Number.parseFloat(h),b=p?null:{verticalAlign:v+"em"},g=[n,o,c,u].join(" ");return l.createElement("svg",Object.assign({style:b,fill:i,height:h,width:h,viewBox:g,"aria-labelledby":d?this.id:null,"aria-hidden":!d||null,role:"img"},m),d&&l.createElement("title",{id:this.id},f),l.createElement("path",{d:s}))}}).displayName=e,f.defaultProps={color:"currentColor",size:a.sm,noVerticalAlign:!1},f}},777:(e,t,n)=>{"use strict";t.lb={name:"PlusCircleIcon",height:512,width:512,svgPath:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z",yOffset:0,xOffset:0},t.wl=n(5183).createIcon(t.lb),t.ZP=t.wl},1070:(e,t,n)=>{"use strict";t.xQ={name:"SearchIcon",height:512,width:512,svgPath:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z",yOffset:0,xOffset:0},t.W1=n(5183).createIcon(t.xQ),t.ZP=t.W1},3544:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FederatedTopics:()=>FederatedTopics,default:()=>m});var r=n(2491),l=n.n(r),a=(n(8482),n(7345)),i=n(8443),SearchTopics=function(e){var t=e.search,n=e.setSearch,r=e.onClear;return l().createElement(a.InputGroup,null,l().createElement(a.SearchInput,{name:"searchName",id:"search-topics-input",type:"search","aria-label":"search input ",placeholder:"Search",value:t,onChange:function(e){n(e)},onClear:function(){r(),n("")}}))},o=n(777),EmptyTopics=function(e){var t=e.onCreateTopic;return l().createElement(a.EmptyState,null,l().createElement(a.EmptyStateIcon,{icon:o.ZP}),l().createElement(a.Title,{headingLevel:"h5",size:"lg"},"You don't have any topics yet"),l().createElement(a.EmptyStateBody,null,"Create a topic by clicking the button below to get started"),l().createElement(a.Button,{variant:"primary",className:"topics-empty-page",onClick:t},"Create Topic"))},c=n(1070),EmptySearch=function(){return l().createElement(a.EmptyState,null,l().createElement(a.EmptyStateIcon,{icon:c.ZP}),l().createElement(a.Title,{headingLevel:"h5",size:"lg"},"No results found"),l().createElement(a.EmptyStateBody,null,"No result match the filter criteria. Remove filter or clear all filters to show results"))},u=n(7446),s=n(9804),__awaiter=function(e,t,n,r){return new(n||(n=Promise))((function(l,a){function fulfilled(e){try{step(r.next(e))}catch(t){a(t)}}function rejected(e){try{step(r.throw(e))}catch(t){a(t)}}function step(e){e.done?l(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))},__generator=function(e,t){var n,r,l,a,i={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return a={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function verb(a){return function(o){return function step(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(l=2&a[0]?r.return:a[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,a[1])).done)return l;switch(r=0,l&&(a=[2&a[0],l.value]),a[0]){case 0:case 1:l=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(l=i.trys,(l=l.length>0&&l[l.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!l||a[1]>l[0]&&a[1]<l[3])){i.label=a[1];break}if(6===a[0]&&i.label<l[1]){i.label=l[1],l=a;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(a);break}l[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(o){a=[6,o],r=0}finally{n=l=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},getTopics=function(e){return __awaiter(void 0,void 0,void 0,(function(){var t;return __generator(this,(function(n){switch(n.label){case 0:return[4,null==e?void 0:e.getToken()];case 1:return t=n.sent(),[4,new u.M2(new s.VK({accessToken:t,basePath:null==e?void 0:e.basePath})).getTopicsList()];case 2:return[2,n.sent().data]}}))}))},f=n(69),DeleteTopics=function(e){var t=e.setDeleteModal,n=e.deleteModal,i=e.topicName,onClose=function(){t(!1)},o=(0,r.useContext)(f.E);return l().createElement(a.Modal,{variant:a.ModalVariant.small,isOpen:n,"aria-label":"Modal warning example",title:" Delete Topic  ?",titleIconVariant:"warning",showClose:!0,"aria-describedby":"no-header-example",onClose:onClose},l().createElement(a.Text,null," The Topic will be deleted "),l().createElement("br",null),l().createElement(a.Flex,null,l().createElement(a.FlexItem,null,l().createElement(a.Button,{variant:"danger",onClick:function(){i&&function(e,t){return __awaiter(void 0,void 0,void 0,(function(){var n;return __generator(this,(function(r){switch(r.label){case 0:return[4,null==t?void 0:t.getToken()];case 1:return n=r.sent(),[4,new u.M2(new s.VK({accessToken:n,basePath:null==t?void 0:t.basePath})).deleteTopic(e)];case 2:return r.sent(),[2]}}))}))}(i,o).then((function(){return onClose()}))}},"Delete Topic")),l().createElement(a.FlexItem,null,l().createElement(a.Button,{variant:"link",onClick:onClose},"Cancel"))))},p=n(5977),Loading=function(){return l().createElement(a.Bullseye,null,l().createElement(a.Spinner,null))},__assign=function(){return(__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},TopicsList_awaiter=function(e,t,n,r){return new(n||(n=Promise))((function(l,a){function fulfilled(e){try{step(r.next(e))}catch(t){a(t)}}function rejected(e){try{step(r.throw(e))}catch(t){a(t)}}function step(e){e.done?l(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))},TopicsList_generator=function(e,t){var n,r,l,a,i={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return a={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function verb(a){return function(o){return function step(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(l=2&a[0]?r.return:a[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,a[1])).done)return l;switch(r=0,l&&(a=[2&a[0],l.value]),a[0]){case 0:case 1:l=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(l=i.trys,(l=l.length>0&&l[l.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!l||a[1]>l[0]&&a[1]<l[3])){i.label=a[1];break}if(6===a[0]&&i.label<l[1]){i.label=l[1],l=a;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(a);break}l[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(o){a=[6,o],r=0}finally{n=l=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},TopicsListComponent=function(e){var t,n=e.onCreateTopic,o=(0,r.useState)(!0),c=o[0],u=o[1],s=(0,r.useState)(1),m=s[0],d=s[1],h=(0,r.useState)(10),v=h[0],b=h[1],g=(0,r.useState)(0),E=g[0],y=g[1],w=(0,r.useState)(""),S=w[0],T=w[1],C=(0,r.useState)(),P=C[0],k=C[1],x=(0,r.useState)(),I=x[0],z=x[1],M=(0,r.useState)(!1),B=M[0],O=M[1],N=(0,r.useState)(),V=N[0],j=N[1],_=(0,p.k6)(),D=(0,r.useContext)(f.E);(0,r.useEffect)((function(){u(!0),TopicsList_awaiter(void 0,void 0,void 0,(function(){var e;return TopicsList_generator(this,(function(t){switch(t.label){case 0:return[4,getTopics(D)];case 1:return(e=t.sent())&&(k(e),z(e)),u(!1),[2]}}))}))}),[B]);var onSetPage=function(e,t){d(t),y(m*v)},onPerPageSelect=function(e,t){b(t)},F=(null===(t=null==I?void 0:I.items)||void 0===t?void 0:t.map((function(e){var t,n;return[{title:l().createElement(a.Button,{variant:"link",onClick:function(){return function(e){_.push("/topics/consumerGroups/"+e)}(e&&e.name&&e.name.toString()||"")}},null==e?void 0:e.name)},null===(t=e.partitions)||void 0===t?void 0:t.map((function(e){return e.replicas?e.replicas.length:0})).reduce((function(e,t){return e+t}),0),null===(n=e.partitions)||void 0===n?void 0:n.length]})))||[];(0,r.useEffect)((function(){if(S&&""!=S.trim()&&(null==P?void 0:P.items)&&P.items.length>0){var e=null==P?void 0:P.items.filter((function(e){return(null==e?void 0:e.name)&&e.name.includes(S)}));z((function(t){return t?__assign(__assign({},t),{items:e}):void 0}))}else z(P)}),[S]);var G=[{title:"Delete",onClick:function(e,t){return function(e){(null==I?void 0:I.items)&&j(I.items[e].name),O(!0)}(t)}},{title:"Edit"}];return c?l().createElement(Loading,null):l().createElement(l().Fragment,null,l().createElement(a.Title,{headingLevel:"h2",size:"lg"},"Topics"),B&&l().createElement(DeleteTopics,{topicName:V,setDeleteModal:O,deleteModal:B}),F.length<1&&S.length<1?l().createElement(EmptyTopics,{onCreateTopic:n}):l().createElement(a.Card,null,l().createElement(a.Toolbar,null,l().createElement(a.ToolbarContent,null,l().createElement(a.ToolbarItem,null,l().createElement(SearchTopics,{onClear:function(){z(P)},search:S,setSearch:T})),l().createElement(a.ToolbarItem,null,l().createElement(a.Button,{id:"topic-list-create-topic-button",className:"topics-per-page",onClick:function(){n()}},"Create topic")),l().createElement(a.ToolbarItem,{variant:"pagination"},l().createElement(a.Pagination,{itemCount:F.length,perPage:v,page:m,onSetPage:onSetPage,widgetId:"topic-list-pagination-top",onPerPageSelect:onPerPageSelect})))),l().createElement(a.Divider,null),l().createElement(i.Table,{"aria-label":"Compact Table",variant:i.TableVariant.compact,cells:[{title:"Name"},{title:"Replicas"},{title:"Partitions"}],rows:1!=m?F.slice(E,E+v):F.slice(0,v),actions:G},l().createElement(i.TableHeader,null),l().createElement(i.TableBody,null))),F.length<1&&S.length>1&&l().createElement(EmptySearch,null),F.length>1&&l().createElement(a.Pagination,{itemCount:F.length,perPage:v,page:m,onSetPage:onSetPage,widgetId:"topic-list-pagination-bottom",onPerPageSelect:onPerPageSelect,offset:0}))},FederatedTopics=function(e){var t=e.getToken,n=e.apiBasePath,r=e.onCreateTopic;return l().createElement(f.E.Provider,{value:{basePath:n,getToken:t}},l().createElement(a.PageSection,{variant:a.PageSectionVariants.light},l().createElement(TopicsListComponent,{onCreateTopic:r})))};const m=FederatedTopics}}]);