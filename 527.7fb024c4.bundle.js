(self.webpackChunkkafka_ui=self.webpackChunkkafka_ui||[]).push([[527],{777:(e,t,n)=>{"use strict";t.lb={name:"PlusCircleIcon",height:512,width:512,svgPath:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z",yOffset:0,xOffset:0},t.wl=n(5183).createIcon(t.lb),t.ZP=t.wl},1070:(e,t,n)=>{"use strict";t.xQ={name:"SearchIcon",height:512,width:512,svgPath:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z",yOffset:0,xOffset:0},t.W1=n(5183).createIcon(t.xQ),t.ZP=t.W1},3526:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});var a=n(7522),r=(n(3004),(0,a.createContext)({}))},3384:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FederatedMainView:()=>S,default:()=>P});var a=n(7522),r=n.n(a),l=(n(6351),n(3004)),o=n(6401),i=n(9058),c=function(e){var t=e.search,n=e.setSearch,a=e.onClear;return r().createElement(l.InputGroup,null,r().createElement(l.SearchInput,{name:"searchName",id:"search-topics-input",type:"search","aria-label":"search input ",placeholder:"Search",value:t,onChange:function(e){n(e)},onClear:function(){a(),n("")}}))},s=n(777),u=function(e){var t=e.onCreateTopic;return r().createElement(l.EmptyState,null,r().createElement(l.EmptyStateIcon,{icon:s.ZP}),r().createElement(l.Title,{headingLevel:"h5",size:"lg"},"You don't have any topics yet"),r().createElement(l.EmptyStateBody,null,"Create a topic by clicking the button below to get started"),r().createElement(l.Button,{variant:"primary",className:"topics-empty-page",onClick:t},"Create Topic"))},m=n(1070),d=function(){return r().createElement(l.EmptyState,null,r().createElement(l.EmptyStateIcon,{icon:m.ZP}),r().createElement(l.Title,{headingLevel:"h5",size:"lg"},"No results found"),r().createElement(l.EmptyStateBody,null,"No result match the filter criteria. Remove filter or clear all filters to show results"))},p=n(9492),f=n(699),h=n(9115),b=n(7955),v=n(3526),g=n(7194),E=function(){return(E=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},T=function(e){var t,n,s,m=e.onCreateTopic,T=e.getTopicDetailsPath,y=e.onClickTopic,k=e.onDeleteTopic,C=e.onError,S=(0,a.useState)(!0),P=S[0],w=S[1],I=(0,a.useState)(1),M=I[0],x=I[1],B=(0,a.useState)(10),D=B[0],N=B[1],K=(0,a.useState)(0),z=K[0],L=K[1],O=(0,a.useState)(""),G=O[0],A=O[1],V=(0,a.useState)(),Z=V[0],R=V[1],_=(0,a.useState)(),F=_[0],j=_[1],H=(0,a.useState)(!1),Q=H[0],U=H[1],W=(0,a.useState)(),Y=W[0],q=W[1],J=(0,a.useContext)(v.w).addAlert,X=(0,a.useContext)(h.E),$=function(){return e=void 0,t=void 0,a=function(){var e,t;return function(e,t){var n,a,r,l,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,a=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,p.BB)(X)];case 1:return(e=n.sent())&&(R(e),j(e)),[3,3];case 2:return t=n.sent(),C&&401===t.response.data.code?C(t.response.data.code,t.response.data.error_message):J(t.response.data.error_message,l.AlertVariant.danger),[3,3];case 3:return w(!1),[2]}}))},new((n=void 0)||(n=Promise))((function(r,l){function o(e){try{c(a.next(e))}catch(e){l(e)}}function i(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}c((a=a.apply(e,t||[])).next())}));var e,t,n,a};(0,a.useEffect)((function(){w(!0),$()}),[Q]),(0,i.K)((function(){return $()}),5e3);var ee=function(e,t){x(t),L(M*D)},te=function(e,t){N(t)},ne=[{title:"Name"},{title:"Partitions",transforms:[o.sortable]},{title:"Retention Time",transforms:[o.sortable]},{title:"Retention Size",transforms:[o.sortable]}],ae=(null===(s=null==F?void 0:F.items)||void 0===s?void 0:s.map((function(e){var t,n,a,l,o,i,c,s,u;return[{title:r().createElement(g.Link,{"data-testid":"tableTopics-linkTopic",to:T(e.name),onClick:function(t){t.preventDefault(),y(e.name)}},null==e?void 0:e.name)},null===(t=e.partitions)||void 0===t?void 0:t.length,(s=Number((null===(a=null===(n=e.config)||void 0===n?void 0:n.filter((function(e){return"retention.ms"===e.key}))[0])||void 0===a?void 0:a.value)||0),-1===s?"Unlimited":s<6e4?1===s?s+" millisecond":s+" milliseconds":s>=6e4&&s<36e5?(u=s/6e4,1==(u=Math.round(100*u)/100)?u+" minute":u+" minutes"):s>=36e5&&s<1728e5?(u=s/36e5,1==(u=Math.round(100*u)/100)?u+" hour":u+" hours"):s>=1728e5?(u=s/864e5,(u=Math.round(100*u)/100)+" days"):void 0),(i=Number((null===(o=null===(l=e.config)||void 0===l?void 0:l.filter((function(e){return"retention.bytes"===e.key}))[0])||void 0===o?void 0:o.value)||0),-1===i?"Unlimited":Math.abs(i)<1e3?1===i?i+" byte":i+" bytes":Math.abs(i)>=1e3&&Math.abs(i)<1e6?1==(c=i/1e3)?c+" kilobyte":c+" kilobytes":Math.abs(i)>=1e6&&Math.abs(i)<1e9?1==(c=i/1e6)?c+" megabyte":c+" megabytes":Math.abs(i)>=1e9&&Math.abs(i)<1e12?1==(c=i/1e9)?c+" gigabyte":c+" gigabytes":Math.abs(i)>=1e12?1==(c=i/1e12)?c+" terabyte":c+" terabytes":void 0)]})))||[];(0,a.useEffect)((function(){if(G&&""!=G.trim()&&(null==Z?void 0:Z.items)&&Z.items.length>0){var e=null==Z?void 0:Z.items.filter((function(e){return(null==e?void 0:e.name)&&e.name.includes(G)}));j((function(t){return t?E(E({},t),{items:e}):void 0}))}else j(Z)}),[G,Z]);var re=[(t={title:"Delete"},t["data-testid"]="tableTopics-actionDelete",t.onClick=function(e,t){return function(e){(null==F?void 0:F.items)&&q(F.items[e].name),U(!0)}(t)},t),(n={title:"Edit"},n["data-testid"]="tableTopics-actionEdit",n.onClick=function(e,t){return function(e){(null==F?void 0:F.items)&&y(F.items[e].name)}(t)},n)];return P?r().createElement(b.g,null):r().createElement(r().Fragment,null,Q&&r().createElement(f.i,{topicName:Y,setDeleteModal:U,deleteModal:Q,onDeleteTopic:k}),ae.length<1&&G.length<1?r().createElement(u,{onCreateTopic:m}):r().createElement(l.Card,null,r().createElement(l.Toolbar,null,r().createElement(l.ToolbarContent,null,r().createElement(l.ToolbarItem,{className:"pf-c-toolbar-item--search"},r().createElement(c,{onClear:function(){j(Z)},search:G,setSearch:A})),r().createElement(l.ToolbarItem,null,r().createElement(l.Button,{id:"topic-list-create-topic-button",className:"topics-per-page","data-testid":"tabTopics-actionCreate",onClick:function(){m()}},"Create topic")),r().createElement(l.ToolbarItem,{variant:"pagination"},r().createElement(l.Pagination,{itemCount:ae.length,perPage:D,page:M,onSetPage:ee,widgetId:"topic-list-pagination-top",onPerPageSelect:te})))),r().createElement(o.Table,{"aria-label":"Compact Table",variant:o.TableVariant.compact,cells:ne,rows:1!=M?ae.slice(z,z+D):ae.slice(0,D),actions:re},r().createElement(o.TableHeader,null),r().createElement(o.TableBody,null))),r().createElement(l.Divider,null),ae.length<1&&G.length>1&&r().createElement(d,null),ae.length>1&&r().createElement(l.Card,null,r().createElement(l.Pagination,{itemCount:ae.length,perPage:D,page:M,onSetPage:ee,widgetId:"topic-list-pagination-bottom",onPerPageSelect:te,offset:0,variant:l.PaginationVariant.bottom})))},y=n(6302),k=n(3006),C=n(8794),S=function(e){var t,n=e.getToken,o=e.activeTab,i=void 0===o?0:o,c=e.apiBasePath,s=e.kafkaName,u=e.kafkaPageLink,m=e.onCreateTopic,d=e.getTopicDetailsPath,p=e.onClickTopic,f=e.addAlert,b=e.onDeleteConsumer,E=e.onDeleteTopic,S=e.onError,P={addAlert:f},w=(0,a.useState)(i),I=w[0],M=w[1];return r().createElement(g.BrowserRouter,null,r().createElement(k.I18nextProvider,{i18n:y.Z},r().createElement(h.E.Provider,{value:{basePath:c,getToken:n}},r().createElement(v.w.Provider,{value:P},r().createElement(l.PageSection,{variant:l.PageSectionVariants.light},(t=r().createElement(l.Breadcrumb,null,r().createElement(l.BreadcrumbItem,{to:u||"#"},"Kafka Instances"),r().createElement(l.BreadcrumbItem,{to:"#",isActive:!0},s||"Kafka Instance Name")),r().createElement(r().Fragment,null,t,r().createElement(l.Level,null,r().createElement(l.Title,{headingLevel:"h1"},s||"Kafka Instance Name")),r().createElement(l.Tabs,{activeKey:I,onSelect:function(e,t){M(t)}},r().createElement(l.Tab,{title:r().createElement(l.TabTitleText,null,"Topics"),eventKey:0,id:"topics-tab-section","aria-label":"Topics Tab","data-testid":"pageKafka-tabTopics"},r().createElement(T,{onCreateTopic:m,onClickTopic:p,getTopicDetailsPath:d,onDeleteTopic:E,onError:S})),r().createElement(l.Tab,{title:r().createElement(l.TabTitleText,null,"Consumer Groups"),eventKey:1,id:"consumer-groups-tab-section","aria-label":"Consumer Groups Tab","data-testid":"pageKafka-tabConsumers",className:1===I?"kafka-ui--consumer-content":""},r().createElement(C.B,{onDeleteConsumerGroup:b,consumerGroupByTopic:!1}))))))))))};const P=S}}]);
//# sourceMappingURL=527.7fb024c4.bundle.js.map