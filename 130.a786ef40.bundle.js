(self.webpackChunkkafka_ui=self.webpackChunkkafka_ui||[]).push([[130],{3526:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});var a=n(7522),r=(n(3004),(0,a.createContext)({}))},7796:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FederatedUpdateTopicView:()=>E,default:()=>y});var a=n(7522),r=n.n(a),i=(n(6351),n(3004)),o=n(2300),c=(n(3174),n(8102)),l=n(5977),u=n(9492),s=n(9284),p=n(699),f=n(3526),d=n(9115),v=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{l(a.next(e))}catch(e){i(e)}}function c(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}l((a=a.apply(e,t||[])).next())}))},m=function(e,t){var n,a,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},h=function(e){var t=e.topicName,n=e.onCancelUpdateTopic,o=e.onDeleteTopic,h=r().useContext(s.J),T=h.store,b=h.updateBulkStore,g=(0,a.useState)(!1),k=g[0],E=g[1],y=(0,a.useState)(),w=y[0],P=y[1],C=(0,a.useContext)(d.E),x=(0,a.useContext)(f.w).addAlert,S=(0,l.k6)();(0,a.useEffect)((function(){!function(){v(this,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return[4,b(s.E3)];case 1:return e.sent(),function(e){v(void 0,void 0,void 0,(function(){var t;return m(this,(function(n){switch(n.label){case 0:return[4,(0,u.BN)(e,C)];case 1:return t=n.sent(),P(t),t&&N(t),[2]}}))}))}(t),[2]}}))}))}()}),[]);var N=function(e){var t,n,a=T;a.numPartitions=(null===(t=null==e?void 0:e.partitions)||void 0===t?void 0:t.length.toString())||"0",a.name=e.name||"",null===(n=e.config)||void 0===n||n.forEach((function(e){a[e.key||""]=e.value||""})),b(a)},L=function(e){var t;return(null===(t=e.config)||void 0===t?void 0:t.length)?e.config.filter((function(e){if(e.key&&T[e.key]!=e.value)return{key:e.key,value:T[e.key]}})):Object.keys(T).map((function(e){return{key:e,value:T[e]}}))};return r().createElement(r().Fragment,null,r().createElement(c.W,{isCreate:!1,saveTopic:function(){return v(void 0,void 0,void 0,(function(){var e,n,a,r;return m(this,(function(o){switch(o.label){case 0:return(n=w)?[4,L(w)]:[3,2];case 1:n=o.sent(),o.label=2;case 2:e=n,a={numPartitions:Number(T.numPartitions),config:e},o.label=3;case 3:return o.trys.push([3,5,,6]),[4,(0,u.eR)(T.name,a,C)];case 4:return 200===o.sent()&&(x("The topic was successfully updated in the Kafka instance",i.AlertVariant.success),S.push("/topic/"+t)),[3,6];case 5:return r=o.sent(),x(r.response.data.error,i.AlertVariant.danger),[3,6];case 6:return b(s.E3),[2]}}))}))},handleCancel:n}),r().createElement("br",null),r().createElement("br",null),k&&r().createElement(p.i,{deleteModal:k,setDeleteModal:E,topicName:t,onDeleteTopic:o}))},T=n(8719),b=function(e){var t=e.topicName,n=e.getTopicListPath,a=e.onClickTopicList,c=e.onCancelUpdateTopic,l=e.onDeleteTopic;return r().createElement(r().Fragment,null,r().createElement(T.I,{topicName:t,getTopicListPath:n,onClickTopicList:a}),r().createElement(i.PageSection,{variant:i.PageSectionVariants.light,padding:{default:"noPadding"}},r().createElement(i.Tabs,{activeKey:1,onSelect:function(){},isBox:!1,className:"tab-padding"},r().createElement(i.Tab,{eventKey:0,title:r().createElement(i.TabTitleText,null,"Consumer Groups")},r().createElement(o.G,null)),r().createElement(i.Tab,{eventKey:1,title:r().createElement(i.TabTitleText,null,"Properties")},r().createElement(i.PageSection,{variant:"light"},r().createElement(h,{topicName:t,onCancelUpdateTopic:c,onDeleteTopic:l}))))))},g=n(6302),k=n(3006),E=function(e){var t=e.getToken,n=e.apiBasePath,a=e.currentTopic,o=e.getTopicListPath,c=e.onClickTopicList,l=e.onCancelUpdateTopic,u=e.addAlert,p=e.onDeleteTopic,v={addAlert:u};return r().createElement(k.I18nextProvider,{i18n:g.Z},r().createElement(d.E.Provider,{value:{basePath:n,getToken:t}},r().createElement(f.w.Provider,{value:v},r().createElement(s.M5,null,r().createElement(i.PageSection,{variant:i.PageSectionVariants.light},r().createElement(b,{topicName:a,getTopicListPath:o,onClickTopicList:c,onCancelUpdateTopic:l,onDeleteTopic:p}))))))};const y=E}}]);
//# sourceMappingURL=130.a786ef40.bundle.js.map