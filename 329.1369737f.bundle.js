"use strict";(self.webpackChunkkafka_ui=self.webpackChunkkafka_ui||[]).push([[329],{98329:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var a=n(93264),o=n.n(a),r=n(54532),i=n(10107),l=n(71302),u=n(26585),c=n(30621),s=function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function i(e){try{u(a.next(e))}catch(e){r(e)}}function l(e){try{u(a.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((a=a.apply(e,t||[])).next())}))},d=function(e,t){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};const f=function(e){var t=e.topicName,n=e.onDeleteTopic,f=e.refreshTopics,v=e.hideModal,p=(0,a.useContext)(u.E),h=(0,r.useTranslation)().t,b=(0,a.useState)(""),m=b[0],w=b[1],y=(0,c.useAlert)().addAlert,g=(0,a.useState)(!1),k=g[0],T=g[1],x=function(){v()};return o().createElement(i.Modal,{variant:i.ModalVariant.small,isOpen:!0,"aria-label":h("topic.delete_modal_title"),title:h("topic.delete_modal_title"),titleIconVariant:"warning",showClose:!0,"aria-describedby":"modal-message",onClose:x,actions:[o().createElement(i.Button,{variant:"danger",onClick:function(){return s(void 0,void 0,void 0,(function(){var e;return d(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),t?(T(!0),[4,(0,l.BK)(t,p).then((function(){y({title:h("topic.topic_successfully_deleted",{name:t}),variant:i.AlertVariant.success}),n&&n(),f&&f()}))]):[3,2];case 1:a.sent(),a.label=2;case 2:return[3,4];case 3:return e=a.sent(),T(!1),y({title:e.response.data.error_message,variant:i.AlertVariant.danger}),[3,4];case 4:return x(),[2]}}))}))},key:1,"data-testid":"modalDeleteTopic-buttonDelete",isDisabled:"DELETE"!=m.toUpperCase(),isLoading:k},h("common.delete")),o().createElement(i.Button,{variant:"link",onClick:x,key:2},h("common.cancel"))]},o().createElement(i.Text,{id:"modal-message"}," ",o().createElement("label",{htmlFor:"instance-name-input",dangerouslySetInnerHTML:{__html:h("common.confirm_delete_modal_text",{name:t})}})),o().createElement("br",null),o().createElement("label",{htmlFor:"delete-text-input"},h("common.confirm_delete")),o().createElement(i.TextInput,{value:m,id:"delete-text-input",name:"delete-text-input",type:"text",onChange:function(e){w(e)},autoFocus:!0}))}},71302:(e,t,n)=>{n.d(t,{BB:()=>u,Rh:()=>c,eR:()=>d,BN:()=>f,BK:()=>v});var a,o=n(28696),r=n(72721),i=function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function i(e){try{u(a.next(e))}catch(e){r(e)}}function l(e){try{u(a.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((a=a.apply(e,t||[])).next())}))},l=function(e,t){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};!function(e){e.name="name",e.partitions="partitions",e.retentionMs="retention.ms",e.retentionSize="retention.bytes"}(a||(a={}));var u=function(e,t,n,a,u,c,s){return void 0===c&&(c=r.SortByDirection.asc),i(void 0,void 0,void 0,(function(){var r;return l(this,(function(i){switch(i.label){case 0:return[4,null==e?void 0:e.getToken()];case 1:return r=i.sent(),[4,new o.DefaultApi(new o.Configuration({accessToken:r,basePath:null==e?void 0:e.basePath})).getTopics(u,t,n,a,void 0,c,s)];case 2:return[2,i.sent().data]}}))}))},c=function(e,t){return i(void 0,void 0,void 0,(function(){var n,a;return l(this,(function(r){switch(r.label){case 0:return[4,null==t?void 0:t.getToken()];case 1:return n=r.sent(),[4,new o.DefaultApi(new o.Configuration({accessToken:n,basePath:null==t?void 0:t.basePath})).getTopic(e)];case 2:return a=r.sent().data,[2,s(a)]}}))}))},s=function(e){var t,n,a={};return a.name=e.name,null===(t=e.config)||void 0===t||t.forEach((function(e){e.key&&(a[e.key]=e.value)})),a.numPartitions=(null===(n=null==e?void 0:e.partitions)||void 0===n?void 0:n.length)||0,a},d=function(e,t,n){return i(void 0,void 0,void 0,(function(){var a;return l(this,(function(r){switch(r.label){case 0:return[4,null==n?void 0:n.getToken()];case 1:return a=r.sent(),[4,new o.DefaultApi(new o.Configuration({accessToken:a,basePath:null==n?void 0:n.basePath})).updateTopic(e,t)];case 2:return[2,r.sent().status]}}))}))},f=function(e,t){return i(void 0,void 0,void 0,(function(){var n,a,r,i,u,c;return l(this,(function(l){switch(l.label){case 0:return[4,null==t?void 0:t.getToken()];case 1:return n=l.sent(),[4,new o.DefaultApi(new o.Configuration({accessToken:n,basePath:null==t?void 0:t.basePath})).getTopic(e)];case 2:return a=l.sent(),(r=a.data).config=r.config||[],r.config.push({key:"replicationFactor",value:null===(c=null===(u=null===(i=a.data)||void 0===i?void 0:i.partitions)||void 0===u?void 0:u.map((function(e){var t;return null===(t=e.replicas)||void 0===t?void 0:t.length})).reduce((function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),e+t})))||void 0===c?void 0:c.toString()}),[2,a.data]}}))}))},v=function(e,t){return i(void 0,void 0,void 0,(function(){var n;return l(this,(function(a){switch(a.label){case 0:return[4,null==t?void 0:t.getToken()];case 1:return n=a.sent(),[4,new o.DefaultApi(new o.Configuration({accessToken:n,basePath:null==t?void 0:t.basePath})).deleteTopic(e)];case 2:return a.sent(),[2]}}))}))}}}]);
//# sourceMappingURL=329.1369737f.bundle.js.map