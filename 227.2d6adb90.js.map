{"version":3,"file":"227.2d6adb90.js","mappings":"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","sources":["webpack://kafka-ui/./src/contexts/federated.ts","webpack://kafka-ui/./src/modules/Topics/pages/MainView/MainView.tsx","webpack://kafka-ui/./src/modules/Topics/pages/MainView/MainViewFederated.tsx"],"sourcesContent":["import React, { useContext } from 'react';\n\nexport type FederatedProps = {\n  activeTab?: number;\n  kafkaName?: string;\n  kafkaPageLink?: string;\n  kafkaInstanceLink?: string;\n  topicName?: string;\n  onError?: (errorCode: number, message?: string) => void;\n  handleInstanceDrawer?: (isOpen: boolean, activeTab?: string) => void;\n  setIsOpenDeleteInstanceModal?: (isOpenModal: boolean) => void;\n  showMetrics?: JSX.Element | undefined;\n  onClickCreateTopic?: () => void;\n  onEditTopic?: (topicName: string | undefined) => void;\n  onCancelUpdateTopic?: () => void;\n  updateTopic?: (topicName?: string | undefined) => void;\n};\n\nexport const FederatedContext =\n  React.createContext<FederatedProps | undefined>(undefined);\nexport const useFederated = (): FederatedProps | undefined => useContext(FederatedContext);\n","import React, { useState, lazy } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Breadcrumb,\n  BreadcrumbItem,\n  PageSection,\n  PageSectionVariants,\n  Title,\n  Tabs,\n  Level,\n  Tab,\n  TabTitleText,\n  TabContent,\n  Dropdown,\n  DropdownPosition,\n  KebabToggle,\n  DropdownItem,\n} from '@patternfly/react-core';\nimport { useFederated } from '@app/contexts';\nimport { MASLoading } from '@app/components';\nimport '../style.css';\n\nconst Topics = lazy(() => import('@app/modules/Topics/Topics'));\nconst ConsumerGroups = lazy(\n  () => import('@app/modules/ConsumerGroups/ConsumerGroups')\n);\n\nexport const MainView: React.FC = () => {\n  const { t } = useTranslation();\n  const {\n    kafkaPageLink,\n    kafkaName,\n    handleInstanceDrawer,\n    setIsOpenDeleteInstanceModal,\n    showMetrics,\n    activeTab,\n  } = useFederated() || {};\n\n  const [activeTabKey, setActiveTabKey] = useState(activeTab || 1);\n  const contentRefConsumerGroups = React.createRef<HTMLElement>();\n  const contentRefTopics = React.createRef<HTMLElement>();\n  const contentRefDashboard = React.createRef<HTMLElement>();\n\n  const handleTabClick = (_event, tabIndex) => {\n    setActiveTabKey(tabIndex);\n  };\n\n  const [isOpen, setIsOpen] = useState<boolean>();\n\n  const onToggle = (isOpen: boolean) => {\n    setIsOpen(isOpen);\n  };\n\n  const onSelect = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const onSelectKebabOption = (activeTab: string) => {\n    handleInstanceDrawer && handleInstanceDrawer(true, activeTab);\n  };\n\n  const onDeleteInstance = () => {\n    setIsOpenDeleteInstanceModal && setIsOpenDeleteInstanceModal(true);\n  };\n\n  const dropdownItems = [\n    <DropdownItem\n      key='view-kafka'\n      onClick={() => onSelectKebabOption('details')}\n    >\n      {t('common.view_instance')}\n    </DropdownItem>,\n    <DropdownItem\n      key='connect-kafka'\n      onClick={() => onSelectKebabOption('connection')}\n    >\n      {t('common.view_connection')}\n    </DropdownItem>,\n    <DropdownItem key='delete-kafka' onClick={onDeleteInstance}>\n      {t('common.delete_instance')}\n    </DropdownItem>,\n  ];\n\n  const mainBreadcrumbs = (\n    <Breadcrumb>\n      <BreadcrumbItem to={kafkaPageLink || '#'}>\n        {t('common.kafka_instance')}\n      </BreadcrumbItem>\n      <BreadcrumbItem to='#' isActive>\n        {kafkaName || t('common.kafka_instance_name')}\n      </BreadcrumbItem>\n    </Breadcrumb>\n  );\n\n  return (\n    <>\n      <section className='pf-c-page__main-breadcrumb'>\n        {mainBreadcrumbs}\n      </section>\n\n      <PageSection variant={PageSectionVariants.light}>\n        <Level>\n          <Title headingLevel='h1'>\n            {kafkaName ? kafkaName : t('common.kafka_instance_name')}\n          </Title>\n          <Dropdown\n            onSelect={onSelect}\n            toggle={<KebabToggle onToggle={onToggle} id='toggle-data-plane' />}\n            isOpen={isOpen}\n            isPlain\n            dropdownItems={dropdownItems}\n            position={DropdownPosition.right}\n          />\n        </Level>\n      </PageSection>\n      <React.Suspense fallback={<MASLoading />}>\n        <PageSection\n          variant={PageSectionVariants.light}\n          padding={{ default: 'noPadding' }}\n          className='pf-c-page__main-tabs'\n        >\n          <Tabs\n            activeKey={activeTabKey}\n            onSelect={handleTabClick}\n            data-testid='pageKafka-tabProperties'\n            className='pf-m-page-insets'\n          >\n            <Tab\n              title={<TabTitleText>{t('dashboard.dashboard')}</TabTitleText>}\n              eventKey={1}\n              data-testid='pageKafka-tabDashboard'\n              id='dashboard-tab-section'\n              aria-label={t('dashboard.dashboard')}\n              tabContentRef={contentRefDashboard}\n              tabContentId='kafka-ui-TabcontentDashboard'             \n            />\n            <Tab\n              title={<TabTitleText>{t('topic.topics')}</TabTitleText>}\n              eventKey={2}\n              data-testid='pageKafka-tabTopics'\n              id='topics-tab-section'\n              aria-label={t('topic.topics')}\n              tabContentRef={contentRefTopics}\n              tabContentId='kafka-ui-TabcontentTopicsList'             \n            />\n            <Tab\n              title={\n                <TabTitleText>\n                  {t('consumerGroup.consumer_groups')}\n                </TabTitleText>\n              }\n              eventKey={3}\n              data-testid='pageKafka-tabConsumers'\n              id='consumer-groups-tab-section'\n              aria-label={t('consumerGroup.consumer_groups')}\n              tabContentRef={contentRefConsumerGroups}\n              tabContentId='kafka-ui-TabcontentConsumersList'             \n            />\n          </Tabs>\n        </PageSection>\n        <PageSection isFilled>\n          <TabContent\n            eventKey={1}\n            ref={contentRefDashboard}\n            id='kafka-ui-TabcontentDashboard'\n            className='kafka-ui-m-full-height'\n            aria-label={t('dashboard.dashboard')}\n            hidden={activeTabKey!==1}\n          >\n            {showMetrics}\n          </TabContent>\n          <TabContent\n            eventKey={2}\n            ref={contentRefTopics}\n            id='kafka-ui-TabcontentTopicsList'\n            className='kafka-ui-m-full-height'\n            aria-label={t('topic.topics')}\n            hidden={activeTabKey!==2}\n          >\n            <Topics />\n          </TabContent>\n          <TabContent\n            eventKey={3}\n            ref={contentRefConsumerGroups}\n            id='kafka-ui-TabcontentConsumersList'\n            className='kafka-ui-m-full-height'\n            aria-label={t('consumerGroup.consumer_groups')}\n            hidden={activeTabKey!=3}\n          >\n            <ConsumerGroups consumerGroupByTopic={false} />\n          </TabContent>\n        </PageSection>\n      </React.Suspense>\n    </>\n  );\n};\n","import React, { FunctionComponent } from \"react\";\nimport { I18nextProvider } from \"react-i18next\";\nimport {\n  FederatedContext,\n  FederatedProps,\n  ConfigContext,\n  IConfiguration,\n} from '@app/contexts';\nimport kafkai18n from '@app/i18n';\nimport { MainView } from './MainView';\nimport { ModalProvider } from '@app/components/KafkaModal';\n\nexport type MainViewFederatedProps = FederatedProps &\n  IConfiguration & {\n    apiBasePath: string;\n  };\n\nconst MainViewFederated: FunctionComponent<MainViewFederatedProps> = ({\n  getToken,\n  apiBasePath,\n  kafkaName,\n  kafkaPageLink,\n  onError,\n  handleInstanceDrawer,\n  setIsOpenDeleteInstanceModal,\n  showMetrics,\n  activeTab = 1,\n}) => {\n\n  return (\n    <I18nextProvider i18n={kafkai18n}>\n      <ConfigContext.Provider value={{ basePath: apiBasePath, getToken }}>\n        <FederatedContext.Provider\n          value={{\n            kafkaName,\n            kafkaPageLink,\n            onError,\n            handleInstanceDrawer,\n            setIsOpenDeleteInstanceModal,\n            showMetrics,\n            activeTab        \n          }}\n        >\n          <ModalProvider>\n            <MainView />\n          </ModalProvider>\n        </FederatedContext.Provider>\n      </ConfigContext.Provider>\n    </I18nextProvider>\n  );\n};\n\nexport default MainViewFederated;\n"],"names":["FederatedContext","undefined","useFederated","useContext","Topics","lazy","ConsumerGroups","MainView","t","useTranslation","kafkaPageLink","kafkaName","handleInstanceDrawer","setIsOpenDeleteInstanceModal","showMetrics","activeTab","useState","activeTabKey","setActiveTabKey","contentRefConsumerGroups","contentRefTopics","contentRefDashboard","isOpen","setIsOpen","onSelectKebabOption","dropdownItems","DropdownItem","key","onClick","mainBreadcrumbs","Breadcrumb","BreadcrumbItem","to","isActive","className","PageSection","variant","PageSectionVariants","Level","Title","headingLevel","Dropdown","onSelect","toggle","KebabToggle","onToggle","id","isPlain","position","DropdownPosition","fallback","MASLoading","padding","default","Tabs","activeKey","_event","tabIndex","Tab","title","TabTitleText","eventKey","tabContentRef","tabContentId","isFilled","TabContent","ref","hidden","consumerGroupByTopic","getToken","apiBasePath","onError","I18nextProvider","i18n","value","basePath"],"sourceRoot":""}