(self.webpackChunkkafka_ui=self.webpackChunkkafka_ui||[]).push([[75],{84564:(e,t,n)=>{"use strict";t.MX={name:"ExclamationCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},t.$O=n(35183).createIcon(t.MX),t.ZP=t.$O},41768:()=>{},77588:(e,t,n)=>{"use strict";n.r(t);var a,r=n(93264),o=n.n(r),i=n(3644),c=n.n(i),l=n(54532),u=n(55399),s=(n(41768),n(2181)),p=n(26585),m=n(46999),f=n(84564),d=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasError:!1},t.onClickButton=function(){var e=t.props.history;t.setState({hasError:!1}),e&&e.push("/")},t}return d(t,e),t.getDerivedStateFromError=function(e){return{hasError:!0}},t.prototype.componentDidCatch=function(e,t){console.error("error:",e,t)},t.prototype.render=function(){var e=this.props.t;return this.state.hasError?o().createElement(m.PageSection,{padding:{default:"noPadding"}},o().createElement(m.EmptyState,{variant:m.EmptyStateVariant.full},o().createElement(m.EmptyStateIcon,{icon:f.ZP}),o().createElement(m.Title,{headingLevel:"h1",size:m.TitleSizes.lg},e("common.error_boundary_title")),o().createElement(m.EmptyStateBody,null,e("common.unexpected_error")),o().createElement(m.Button,{variant:m.ButtonVariant.primary,onClick:this.onClickButton},e("common.return_to_home")))):this.props.children},t}(r.Component),b=(0,u.withRouter)((0,l.withTranslation)()(h)),v=function(){return(v=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},g=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},E=function(e){var t=e.alerts,n=e.onCloseAlert;return o().createElement(m.AlertGroup,{isToast:!0},t.map((function(e){var t=e.id,a=e.variant,r=e.title,i=e.description,c=e.dataTestId,l=g(e,["id","variant","title","description","dataTestId"]);return o().createElement(m.Alert,v({key:t,isLiveRegion:!0,variant:m.AlertVariant[a],variantLabel:"",title:r,actionClose:o().createElement(m.AlertActionCloseButton,{title:r,onClose:function(){return n(t)}}),"data-testid":c},l),i)})))},y=n(30621),k=function(){return(k=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},T=function(e,t){for(var n=0,a=t.length,r=e.length;n<a;n++,r++)e[r]=t[n];return e},w=function(e){var t=e.children,n=(0,r.useState)([]),a=n[0],i=n[1],c=(0,r.useState)([]),l=c[0],u=c[1];(0,r.useEffect)((function(){var e=l.map((function(e){return e.key})),t=a.filter((function(t){return!e.includes(null==t?void 0:t.id)})).map((function(e){var t=e.id,n=void 0===t?"":t,a=setTimeout((function(){return s(n)}),8e3);return{key:e.id,timeOut:a}}));return u(T(T([],l),t)),function(){return l.forEach((function(e){return(null==e?void 0:e.timeOut)&&clearTimeout(e.timeOut)}))}}),[a]);var s=function(e){i((function(t){return T([],t.filter((function(t){return t.id!==e})))})),u((function(t){return T([],t.filter((function(t){return t.key===e})))}))};return o().createElement(y.AlertContext.Provider,{value:{addAlert:function(e){var t=(new Date).getTime().toString();i(T(T([],a),[k(k({},e),{id:t})]))}}},o().createElement(E,{alerts:a,onCloseAlert:s}),t)},P=n(47443),C=n(97059),S=n(5509),O=n(35351),_=function(e){var t=e.children,n=(0,l.useTranslation)().t,a=(0,r.useState)(!1),i=a[0],c=a[1],u=[o().createElement(m.DropdownItem,{key:"logout"},"Logout")],s=o().createElement(m.Brand,{src:O,alt:n("common.red_hat_logo")}),p=o().createElement(m.DropdownToggle,{id:"user-dropdown-toggle",onToggle:function(){c(!i)},toggleIndicator:C.CaretDownIcon},"Ned Username"),f=o().createElement(m.Dropdown,{onSelect:function(){c(!i)},toggle:p,isOpen:i,isPlain:!0,dropdownItems:u}),d=o().createElement(o().Fragment,null,o().createElement(m.Avatar,{src:S,className:"app-masthead-avatar",alt:"avatar"})),h=o().createElement(m.PageHeaderTools,null,f,d);return o().createElement(m.Page,{mainContainerId:"scrollablePageMain",header:o().createElement((function(){return o().createElement(m.PageHeader,{logo:s,logoComponent:"h1",headerTools:h})}),null)},t)},x=n(37009),I=n(87887),N=(n(41781),(0,r.lazy)((function(){return Promise.all([n.e(696),n.e(191),n.e(621),n.e(912),n.e(235),n.e(59),n.e(315)]).then(n.bind(n,94315))}))),D=(0,r.lazy)((function(){return Promise.all([n.e(696),n.e(191),n.e(912),n.e(235),n.e(663)]).then(n.bind(n,95663))})),R=function(e){var t=e.onCreateTopic,n=e.onEditTopic,a=e.activeTab,i=(0,l.useTranslation)().t,c=(0,x.S)(),u=c.kafkaPageLink,s=c.kafkaName,p=c.handleInstanceDrawer,f=c.setIsOpenDeleteInstanceModal,d=c.showMetrics,h=(0,r.useState)(a),b=h[0],v=h[1],g=o().createRef(),E=o().createRef(),y=o().createRef(),k=(0,r.useState)(),T=k[0],w=k[1],P=function(e){p&&p(!0,e)},C=[o().createElement(m.DropdownItem,{key:"view-kafka",onClick:function(){return P("details")}},i("common.view_instance")),o().createElement(m.DropdownItem,{key:"connect-kafka",onClick:function(){return P("connection")}},i("common.view_connection")),o().createElement(m.DropdownItem,{key:"delete-kafka",onClick:function(){f&&f(!0)}},i("common.delete_instance"))],S=o().createElement(m.Breadcrumb,null,o().createElement(m.BreadcrumbItem,{to:u||"#"},i("common.kafka_instance")),o().createElement(m.BreadcrumbItem,{to:"#",isActive:!0},s||i("common.kafka_instance_name")));return o().createElement(o().Fragment,null,o().createElement("section",{className:"pf-c-page__main-breadcrumb"},S),o().createElement(m.PageSection,{variant:m.PageSectionVariants.light},o().createElement(m.Level,null,o().createElement(m.Title,{headingLevel:"h1"},s||i("common.kafka_instance_name")),o().createElement(m.Dropdown,{onSelect:function(){w(!T)},toggle:o().createElement(m.KebabToggle,{onToggle:function(e){w(e)},id:"toggle-data-plane"}),isOpen:T,isPlain:!0,dropdownItems:C,position:m.DropdownPosition.right}))),o().createElement(o().Suspense,{fallback:o().createElement(I.y,null)},o().createElement(m.PageSection,{variant:m.PageSectionVariants.light,padding:{default:"noPadding"},className:"pf-c-page__main-tabs"},o().createElement(m.Tabs,{activeKey:b,onSelect:function(e,t){v(t)},"data-testid":"pageKafka-tabProperties",className:"pf-m-page-insets"},o().createElement(m.Tab,{title:o().createElement(m.TabTitleText,null,i("dashboard.dashboard")),eventKey:1,"data-testid":"pageKafka-tabDashboard",id:"dashboard-tab-section","aria-label":i("dashboard.dashboard"),tabContentRef:y,tabContentId:"kafka-ui-TabcontentDashboard"}),o().createElement(m.Tab,{title:o().createElement(m.TabTitleText,null,i("topic.topics")),eventKey:2,"data-testid":"pageKafka-tabTopics",id:"topics-tab-section","aria-label":i("topic.topics"),tabContentRef:E,tabContentId:"kafka-ui-TabcontentTopicsList"}),o().createElement(m.Tab,{title:o().createElement(m.TabTitleText,null,i("consumerGroup.consumer_groups")),eventKey:3,"data-testid":"pageKafka-tabConsumers",id:"consumer-groups-tab-section","aria-label":i("consumerGroup.consumer_groups"),tabContentRef:g,tabContentId:"kafka-ui-TabcontentConsumersList"}))),o().createElement(m.PageSection,{isFilled:!0},o().createElement(m.TabContent,{eventKey:1,ref:y,id:"kafka-ui-TabcontentDashboard",className:"kafka-ui-m-full-height","aria-label":i("dashboard.dashboard")},d),o().createElement(m.TabContent,{eventKey:2,ref:E,id:"kafka-ui-TabcontentTopicsList",className:"kafka-ui-m-full-height","aria-label":i("topic.topics"),hidden:!0},o().createElement(N,{onCreateTopic:t,onEditTopic:n})),o().createElement(m.TabContent,{eventKey:3,ref:g,id:"kafka-ui-TabcontentConsumersList",className:"kafka-ui-m-full-height","aria-label":i("consumerGroup.consumer_groups"),hidden:!0},o().createElement(D,{consumerGroupByTopic:!1})))))},L=function(){var e=(0,u.useHistory)(),t=function(t){e.push("/"+t)};return o().createElement(x.J.Provider,{value:{onConnectToRoute:t,getConnectToRoutePath:function(t,n){return n?e.createHref({pathname:"/"+t,key:n}):e.createHref({pathname:"/"+t})}}},o().createElement(R,{onCreateTopic:function(){t("topic/create")},onEditTopic:function(e){t("topic/update/"+e)},activeTab:1}))},j=n(47566),A=function(){var e=(0,u.useHistory)(),t=(0,u.useParams)().topicName;return o().createElement(x.J.Provider,{value:{topicName:t,activeTab:2}},o().createElement(j.o,{updateTopic:function(){e.push("/topic/update/"+t)},onDeleteTopic:function(){e.push("/topics")}}))},K=n(40568),B=function(){var e=(0,u.useHistory)();return o().createElement(K.e,{onCloseCreateTopic:function(){e.push("/topics")}})},G=n(95663),V=n(67568),H=n(72645),z=n(71302),F=n(53443),M=n(91674),U=(n(63168),function(){return(U=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)}),J=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{l(a.next(e))}catch(e){o(e)}}function c(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((a=a.apply(e,t||[])).next())}))},Z=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},X=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},$=function(e){var t=e.topicName,n=e.onCancelUpdateTopic,a=e.onSaveTopic,i=e.onError,c=(0,l.useTranslation)().t,u=(0,r.useContext)(p.E),s=(0,y.useAlert)().addAlert,f={name:t,numPartitions:"","retention.ms":"","retention.ms.unit":"milliseconds","retention.bytes":"","retention.bytes.unit":"bytes","cleanup.policy":""},d=(0,r.useState)(f),h=d[0],b=d[1],v=(0,r.useState)(!1),g=v[0],E=v[1];(0,r.useEffect)((function(){!function(e){J(void 0,void 0,void 0,(function(){var t,a,r,o,c,l,p,f;return Z(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,(0,z.BN)(e,u)];case 1:return t=d.sent(),a={},null===(o=t.config)||void 0===o||o.forEach((function(e){a[e.key||""]=e.value||""})),b(U(U({},h),{numPartitions:(null===(c=null==t?void 0:t.partitions)||void 0===c?void 0:c.length.toString())||"","cleanup.policy":a["cleanup.policy"]||"delete","retention.bytes":a["retention.bytes"]||"-1","retention.ms":a["retention.ms"]||"604800000"})),[3,3];case 2:return r=d.sent(),(0,M.I)(r)&&(i&&i(null===(l=r.response)||void 0===l?void 0:l.data.code,null===(p=r.response)||void 0===p?void 0:p.data.error_message),404===(null===(f=r.response)||void 0===f?void 0:f.status)&&(s({variant:m.AlertVariant.danger,title:"Topic "+e+" does not exist"}),n())),[3,3];case 3:return[2]}}))}))}(t)}),[t]);return o().createElement(o().Fragment,null,o().createElement(H.W,{isCreate:!1,saveTopic:function(){return J(void 0,void 0,void 0,(function(){var e,t,n,r,o,l,p;return Z(this,(function(f){switch(f.label){case 0:for(o in e=(0,F.L3)(h),t=e.name,n=X(e,["name"]),r=[],E(!0),n)o&&"numPartitions"!==o&&r.push({key:o,value:n[o].toString().toLowerCase()});l={numPartitions:Number(h.numPartitions),config:r},f.label=1;case 1:return f.trys.push([1,3,,4]),[4,(0,z.eR)(t,l,u).then((function(){s({title:c("topic.topic_successfully_updated"),variant:m.AlertVariant.success}),E(!1),a()}))];case 2:return f.sent(),[3,4];case 3:return p=f.sent(),i&&i(p.response.data.code,p.response.data.error_message),E(!1),s({title:p.response.data.error_message,variant:m.AlertVariant.danger}),[3,4];case 4:return[2]}}))}))},handleCancel:n,topicData:h,setTopicData:b,isLoadingSave:g}),o().createElement("br",null),o().createElement("br",null))},W=function(e){var t=e.onCancelUpdateTopic,n=e.onDeleteTopic,a=e.onSaveTopic,i=(0,l.useTranslation)().t,c=(0,x.S)(),u=c.topicName,s=void 0===u?"":u,p=c.kafkaName,f=c.kafkaPageLink,d=c.kafkaInstanceLink,h=c.onError,b=c.activeTab,v=void 0===b?0:b,g=(0,r.useState)(v),E=g[0],y=g[1],k=o().createRef(),T=o().createRef();return o().createElement(o().Fragment,null,o().createElement(V.I,{topicName:s,kafkaName:p,kafkaPageLink:f,kafkaInstanceLink:d}),o().createElement(m.PageSection,{variant:m.PageSectionVariants.light,className:"pf-c-page__main-tabs",padding:{default:"noPadding"}},o().createElement(m.Tabs,{onSelect:function(e,t){y(t)},activeKey:E,isBox:!1,className:"pf-m-page-insets"},o().createElement(m.Tab,{eventKey:0,title:o().createElement(m.TabTitleText,null,i("consumerGroup.consumer_groups")),tabContentId:"kafka-ui-TabcontentConsumerGroups",tabContentRef:k}),o().createElement(m.Tab,{eventKey:1,title:o().createElement(m.TabTitleText,null,i("common.properties")),tabContentId:"kafka-ui-TabcontentProperties",tabContentRef:T}))),o().createElement(m.PageSection,{variant:1===E?m.PageSectionVariants.light:m.PageSectionVariants.default},o().createElement(m.TabContent,{eventKey:0,id:"kafka-ui-TabcontentConsumerGroups",ref:k,className:"kafka-ui-m-full-height","aria-label":"Consumer groups.",hidden:0!==v},o().createElement(G.ConsumerGroups,{topic:s,consumerGroupByTopic:!0})),o().createElement(m.TabContent,{eventKey:1,id:"kafka-ui-TabcontentProperties",ref:T,className:"kafka-ui-m-full-height","aria-label":"Topic properties",hidden:1!==v},o().createElement($,{topicName:s,onCancelUpdateTopic:t,onDeleteTopic:n,onSaveTopic:a,onError:h}))))},Y=function(){var e=(0,u.useHistory)(),t=(0,u.useParams)().topicName;return o().createElement(x.J.Provider,{value:{activeTab:1,topicName:t}},o().createElement(W,{onCancelUpdateTopic:function(){e.push("/topics/"+t)},onDeleteTopic:function(){e.push("/topics")},onSaveTopic:function(){e.push("/topics/"+t)}}))},q=function(){return o().createElement(R,{activeTab:2})};var Q=function(){var e=(0,u.useParams)().topicName,t=(0,u.useHistory)();return o().createElement(j.o,{updateTopic:function(){t.push("/topic/update/"+e)}})};var ee=function(){return o().createElement(u.HashRouter,null,o().createElement(u.Switch,null,o().createElement(u.Route,{path:"/",component:L,exact:!0}),o().createElement(u.Route,{path:"/topics",component:L,exact:!0}),o().createElement(u.Route,{path:"/topics/:topicName",component:A,exact:!0}),o().createElement(u.Route,{path:"/topic/create",component:B}),o().createElement(u.Route,{path:"/topic/update/:topicName",component:Y,exact:!0}),o().createElement(u.Route,{path:"/consumerGroups",component:q,exact:!0}),o().createElement(u.Route,{path:"/topics/consumerGroups/:topicName",component:Q,exact:!0})))},te=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{l(a.next(e))}catch(e){o(e)}}function c(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((a=a.apply(e,t||[])).next())}))},ne=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}};c().render(o().createElement((function(){return o().createElement(l.I18nextProvider,{i18n:s.Z},o().createElement(p.E.Provider,{value:{basePath:"http://localhost:8000/data/kafka",getToken:function(){return te(void 0,void 0,void 0,(function(){return ne(this,(function(e){return[2,""]}))}))}}},o().createElement(u.BrowserRouter,null,o().createElement(b,null,o().createElement(w,null,o().createElement(P.DY,null,o().createElement(_,null,o().createElement(ee,null))))))))}),null),document.getElementById("root"))},35351:(e,t,n)=>{"use strict";e.exports=n.p+"00a7463a99cd21018062.png"},5509:(e,t,n)=>{"use strict";e.exports=n.p+"78554e0da8ff8725e050.svg"}}]);
//# sourceMappingURL=75.7887e69d.bundle.js.map