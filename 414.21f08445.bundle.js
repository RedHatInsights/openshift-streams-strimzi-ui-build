(self.webpackChunkkafka_ui=self.webpackChunkkafka_ui||[]).push([[414],{3526:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});var a=n(7522),i=(n(3004),(0,a.createContext)({}))},7796:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FederatedUpdateTopicView:()=>g,default:()=>k});var a=n(7522),i=n.n(a),r=(n(6351),n(3004)),o=n(2300),c=(n(3174),n(8102)),l=n(9492),u=n(9284),s=n(699),p=n(3526),f=n(9115),d=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function c(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}l((a=a.apply(e,t||[])).next())}))},v=function(e,t){var n,a,i,r,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(r){return function(c){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,a=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){o.label=r[1];break}if(6===r[0]&&o.label<i[1]){o.label=i[1],i=r;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(r);break}i[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],a=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}},h=function(e){var t=e.topicName,n=e.onCancelUpdateTopic,o=e.onDeleteTopic,h=e.onSaveTopic,m=i().useContext(u.J),T=m.store,b=m.updateBulkStore,E=(0,a.useState)(!1),g=E[0],k=E[1],y=(0,a.useState)(),w=y[0],C=y[1],P=(0,a.useContext)(f.E),S=(0,a.useContext)(p.w).addAlert;(0,a.useEffect)((function(){!function(){d(this,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return[4,b(u.E3)];case 1:return e.sent(),function(e){d(void 0,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return[4,(0,l.BN)(e,P)];case 1:return t=n.sent(),C(t),t&&x(t),[2]}}))}))}(t),[2]}}))}))}()}),[]);var x=function(e){var t,n,a=T;a.numPartitions=(null===(t=null==e?void 0:e.partitions)||void 0===t?void 0:t.length.toString())||"0",a.name=e.name||"",null===(n=e.config)||void 0===n||n.forEach((function(e){a[e.key||""]=e.value||""})),b(a)};return i().createElement(i().Fragment,null,i().createElement(c.W,{isCreate:!1,saveTopic:function(){return d(void 0,void 0,void 0,(function(){var e,t,n;return v(this,(function(a){switch(a.label){case 0:e=function(e){var t;return null===(t=null==e?void 0:e.config)||void 0===t?void 0:t.map((function(e){return e.key?{key:e.key,value:T[e.key]}:e})).filter((function(e){return"replicationFactor"!==e.key}))}(w),t={config:e},a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,l.eR)(T.name,t,P)];case 2:return 200===a.sent()&&(S("The topic was successfully updated in the Kafka instance",r.AlertVariant.success),h()),[3,4];case 3:return n=a.sent(),S(n.response.data.error,r.AlertVariant.danger),[3,4];case 4:return b(u.E3),[2]}}))}))},handleCancel:n}),i().createElement("br",null),i().createElement("br",null),g&&i().createElement(s.i,{deleteModal:g,setDeleteModal:k,topicName:t,onDeleteTopic:o}))},m=n(8719),T=function(e){var t=e.topicName,n=e.getTopicListPath,a=e.onClickTopicList,c=e.onCancelUpdateTopic,l=e.onDeleteTopic,u=e.onSaveTopic;return i().createElement(i().Fragment,null,i().createElement(m.I,{topicName:t,getTopicListPath:n,onClickTopicList:a}),i().createElement(r.PageSection,{variant:r.PageSectionVariants.light,padding:{default:"noPadding"}},i().createElement(r.Tabs,{activeKey:1,onSelect:function(){},isBox:!1,className:"tab-padding"},i().createElement(r.Tab,{eventKey:0,title:i().createElement(r.TabTitleText,null,"Consumer Groups")},i().createElement(o.G,null)),i().createElement(r.Tab,{eventKey:1,title:i().createElement(r.TabTitleText,null,"Properties")},i().createElement(r.PageSection,{variant:"light"},i().createElement(h,{topicName:t,onCancelUpdateTopic:c,onDeleteTopic:l,onSaveTopic:u}))))))},b=n(6302),E=n(3006),g=function(e){var t=e.getToken,n=e.apiBasePath,a=e.currentTopic,o=e.getTopicListPath,c=e.onClickTopicList,l=e.onCancelUpdateTopic,s=e.addAlert,d=e.onDeleteTopic,v=e.onSaveTopic,h={addAlert:s};return i().createElement(E.I18nextProvider,{i18n:b.Z},i().createElement(f.E.Provider,{value:{basePath:n,getToken:t}},i().createElement(p.w.Provider,{value:h},i().createElement(u.M5,null,i().createElement(r.PageSection,{variant:r.PageSectionVariants.light},i().createElement(T,{topicName:a,getTopicListPath:o,onClickTopicList:c,onCancelUpdateTopic:l,onDeleteTopic:d,onSaveTopic:v}))))))};const k=g}}]);
//# sourceMappingURL=414.21f08445.bundle.js.map