(self.webpackChunkkafka_ui=self.webpackChunkkafka_ui||[]).push([[663],{95663:(e,n,t)=>{"use strict";t.r(n),t.d(n,{ConsumerGroups:()=>g,default:()=>E});var r=t(97522),a=t.n(r),o=t(38936),l=t(55399),u=t(10107),i=t(87887),c=function(){return(c=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},s=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},d=function(e){var n=e.onClose,t=e.isLoading,r=void 0!==t&&t,o=e.drawerPanelContentProps,l=e.drawerHeaderProps,d=e.isExpanded,p=e.children,f=e.panelBodyContent,v=e.onExpand,m=e.notRequiredDrawerContentBackground,h=e["data-ouia-app-id"],y=e.inlineAlertMessage,b=o||{},w=b.widths,g=s(b,["widths"]),E=l||{},k=E.text,P=E.title,x=a().createElement(u.DrawerPanelContent,c({widths:w||{default:"width_50"}},g),r?a().createElement(i.y,null):a().createElement(a().Fragment,null,a().createElement(u.DrawerHead,null,a().createElement(u.TextContent,null,(null==k?void 0:k.label)&&a().createElement(u.Text,{component:(null==k?void 0:k.component)||u.TextVariants.small,className:(null==k?void 0:k.className)||"kafka-ui-mas-drawer__top-label"},null==k?void 0:k.label),(null==P?void 0:P.value)&&a().createElement(u.Title,{headingLevel:(null==P?void 0:P.headingLevel)||"h2",size:(null==P?void 0:P.size)||u.TitleSizes.xl,className:(null==P?void 0:P.className)||"kafka-ui-mas-drawer__title"},null==P?void 0:P.value)),a().createElement(u.DrawerActions,null,a().createElement(u.DrawerCloseButton,{onClick:n}))),a().createElement(u.DrawerPanelBody,null,y,f)));return a().createElement(u.Drawer,{isExpanded:d,onExpand:v,"data-ouia-app-id":h},a().createElement(u.DrawerContent,{panelContent:x,className:m?"pf-m-no-background":""},a().createElement(u.DrawerContentBody,{className:"kafka-ui-mas-drawer__drawer-content-body"},p)))},p=t(4426),f=t(62085),v=t(26585),m=t(51826),h=function(e,n,t,r){return new(t||(t=Promise))((function(a,o){function l(e){try{i(r.next(e))}catch(e){o(e)}}function u(e){try{i(r.throw(e))}catch(e){o(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(l,u)}i((r=r.apply(e,n||[])).next())}))},y=function(e,n){var t,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;l;)try{if(t=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=l.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=n.call(e,l)}catch(e){o=[6,e],r=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},b=(0,r.lazy)((function(){return t.e(241).then(t.bind(t,31241))})),w=(0,r.lazy)((function(){return Promise.all([t.e(57),t.e(190)]).then(t.bind(t,9190))})),g=function(e){var n=e.consumerGroupByTopic,t=e.topic,c=e.rowDataTestId,s=(0,r.useState)(0),g=s[0],E=s[1],k=(0,r.useState)(),P=k[0],x=k[1],C=(0,r.useState)(),S=C[0],D=C[1],T=(0,r.useState)({index:void 0,direction:"asc"}),G=T[0],_=T[1],B=(0,r.useState)(),O=B[0],N=B[1],j=(0,r.useState)(!1),I=j[0],L=j[1],z=(0,r.useState)(""),A=z[0],H=z[1],V=(0,r.useState)(),F=V[0],R=V[1],q=(0,r.useContext)(v.E),K=(0,o.useTranslation)().t,M=(0,l.useLocation)(),U=new URLSearchParams(M.search),J=parseInt(U.get("page")||"",10)||1,Q=parseInt(U.get("perPage")||"",10)||10;(0,r.useEffect)((function(){E(Q*(J-1))}),[J,Q]);var W=function(e,n,t){x(t),D("name"),_({index:n,direction:t})},X=function(){return h(void 0,void 0,void 0,(function(){var e;return y(this,(function(n){switch(n.label){case 0:e=100,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,(0,f.e5)(q,g,e,Q,J,t,A,P,S).then((function(e){N(e)}))];case 2:return n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return[2]}}))}))};(0,r.useEffect)((function(){X()}),[A,P]),(0,m.K)((function(){return X()}),5e3);var Y=a().createElement(b,{consumerDetail:F,consumerGroupByTopic:n}),Z=function(e){L(!0),R(e)};return a().createElement(r.Suspense,{fallback:a().createElement(i.y,null)},a().createElement(d,{isExpanded:I,onClose:function(){L(!1)},panelBodyContent:Y,drawerHeaderProps:{text:{label:K("consumerGroup.consumer_group_id")},title:{value:null==F?void 0:F.groupId,headingLevel:"h1"}},"data-ouia-app-id":"dataPlane-consumerGroupDetails"},function(){var e,t,r,o;return void 0===O?a().createElement(u.PageSection,{className:"kafka-ui-m-full-height",variant:u.PageSectionVariants.light,padding:{default:"noPadding"}},a().createElement(i.y,null)):(!(null===(e=null==O?void 0:O.items)||void 0===e?void 0:e.length)||(null===(t=null==O?void 0:O.items)||void 0===t?void 0:t.length)<1)&&A.length<1?a().createElement(p.u,{emptyStateProps:{variant:p.j.NoConsumerGroups},titleProps:{title:K("consumerGroup.empty_consumer_title")},emptyStateBodyProps:{body:K("consumerGroup.empty_consumer_body")}}):O?a().createElement(w,{consumerGroups:null===(r=null==O?void 0:O.items)||void 0===r?void 0:r.slice(g,g+Q),total:(null===(o=null==O?void 0:O.items)||void 0===o?void 0:o.length)||0,page:J,perPage:Q,search:A,setSearch:H,rowDataTestId:c,onViewConsumerGroup:Z,isDrawerOpen:I,refreshConsumerGroups:X,consumerGroupByTopic:n,onSort:W,sortBy:G}):a().createElement(a().Fragment,null)}()))};const E=g},62085:(e,n,t)=>{"use strict";t.d(n,{e5:()=>u,v:()=>i});var r=t(28696),a=t(72721),o=function(e,n,t,r){return new(t||(t=Promise))((function(a,o){function l(e){try{i(r.next(e))}catch(e){o(e)}}function u(e){try{i(r.throw(e))}catch(e){o(e)}}function i(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(l,u)}i((r=r.apply(e,n||[])).next())}))},l=function(e,n){var t,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;l;)try{if(t=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=l.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=n.call(e,l)}catch(e){o=[6,e],r=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},u=function(e,n,t,u,i,c,s,d,p){return void 0===d&&(d=a.SortByDirection.asc),o(void 0,void 0,void 0,(function(){var a;return l(this,(function(o){switch(o.label){case 0:return[4,null==e?void 0:e.getToken()];case 1:return a=o.sent(),[4,new r.DefaultApi(new r.Configuration({accessToken:a,basePath:null==e?void 0:e.basePath})).getConsumerGroups(n,t,u,i,c,s,d,p)];case 2:return[2,o.sent().data]}}))}))},i=function(e,n){return o(void 0,void 0,void 0,(function(){var t;return l(this,(function(a){switch(a.label){case 0:return[4,null==n?void 0:n.getToken()];case 1:return t=a.sent(),[4,new r.DefaultApi(new r.Configuration({accessToken:t,basePath:null==n?void 0:n.basePath})).deleteConsumerGroupById(e)];case 2:return a.sent(),[2]}}))}))}}}]);
//# sourceMappingURL=663.49b91da8.bundle.js.map