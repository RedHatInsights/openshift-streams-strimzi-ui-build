/*! For license information please see 33.55ad7f96.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkkafka_ui=self.webpackChunkkafka_ui||[]).push([[33,655],{35183:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createIcon=t.getSize=t.IconSize=void 0;const r=n(70655),o=r.__importStar(n(93264));var a;!function(e){e.sm="sm",e.md="md",e.lg="lg",e.xl="xl"}(a=t.IconSize||(t.IconSize={})),t.getSize=e=>{switch(e){case a.sm:return"1em";case a.md:return"1.5em";case a.lg:return"2em";case a.xl:return"3em";default:return"1em"}};let u=0;t.createIcon=function({name:e,xOffset:n=0,yOffset:l=0,width:i,height:c,svgPath:s}){var f;return(f=class extends o.Component{constructor(){super(...arguments),this.id="icon-title-"+u++}render(){const e=this.props,{size:a,color:u,title:f,noVerticalAlign:p}=e,d=r.__rest(e,["size","color","title","noVerticalAlign"]),m=Boolean(f),h=t.getSize(a),v=-.125*Number.parseFloat(h),b=p?null:{verticalAlign:`${v}em`},y=[n,l,i,c].join(" ");return o.createElement("svg",Object.assign({style:b,fill:u,height:h,width:h,viewBox:y,"aria-labelledby":m?this.id:null,"aria-hidden":!m||null,role:"img"},d),m&&o.createElement("title",{id:this.id},f),o.createElement("path",{d:s}))}}).displayName=e,f.defaultProps={color:"currentColor",size:a.sm,noVerticalAlign:!1},f}},96466:(e,t,n)=>{t.kc={name:"CaretDownIcon",height:512,width:320,svgPath:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z",yOffset:0,xOffset:0},t.VA=n(35183).createIcon(t.kc),t.ZP=t.VA},81030:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(93264),o=n.n(r),a=n(46999),u=n(96466),l=function(e){var t,n=e.id,l=e.toggleId,i=e.items,c=e.value,s=e.ariaLabel,f=e.onSelectOption,p=e.name,d=e.menuAppendTo,m=(0,r.useState)(),h=m[0],v=m[1],b=o().createElement(a.DropdownToggle,{id:l,onToggle:function(){v((function(e){return!e}))},toggleIndicator:u.ZP},c);return o().createElement(a.Dropdown,{name:p,id:n,onSelect:function(e){var t=e.currentTarget.textContent;f&&(e.target.name=p,f(t,e)),v((function(e){return!e}))},toggle:b,isOpen:h,"aria-label":s,dropdownItems:(t=i,t.map((function(e){var t=e.key,n=e.value,r=e.label;return o().createElement(a.DropdownItem,{key:t,value:n},r||n)}))),menuAppendTo:d})}},53033:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(93264),o=n.n(r),a=n(46999),u=n(54532),l=n(26585),i=n(14697),c=n(28696),s=n(62085),f=n(81030),p=n(30621),d=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function u(e){try{i(r.next(e))}catch(e){a(e)}}function l(e){try{i(r.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,l)}i((r=r.apply(e,t||[])).next())}))},m=function(e,t){var n,r,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=t.call(e,u)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},h=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};const v=function(e){var t=e.consumerGroupData,n=e.refreshConsumerGroups,v=e.hideModal,b=(0,r.useContext)(l.E),y=(0,u.useTranslation)().t,g=(0,r.useState)(!1),w=g[0],_=g[1],O=(0,r.useState)(!1),E=O[0],S=O[1],k=(0,r.useState)(""),P=k[0],G=k[1],x=(0,r.useState)(),I=x[0],C=x[1],T=(0,r.useState)(""),A=T[0],j=T[1],R=(0,r.useState)([]),D=R[0],z=R[1],B=(0,p.useAlert)().addAlert,L=[{key:c.ConsumerGroupResetOffsetParametersOffsetEnum.Absolute,value:c.ConsumerGroupResetOffsetParametersOffsetEnum.Absolute,isDisabled:!1},{key:c.ConsumerGroupResetOffsetParametersOffsetEnum.Latest,value:c.ConsumerGroupResetOffsetParametersOffsetEnum.Latest,isDisabled:!1},{key:c.ConsumerGroupResetOffsetParametersOffsetEnum.Earliest,value:c.ConsumerGroupResetOffsetParametersOffsetEnum.Earliest,isDisabled:!1}];(0,r.useEffect)((function(){var e=t&&t.consumers.filter((function(e){return e.topic===P}));z(e||[])}),[P]),(0,r.useEffect)((function(){(null==t?void 0:t.state)&&S(N(t.state))}),[null==t?void 0:t.state]);var V,F,M,N=function(e){return"STABLE"!==e},H=function(){v()},Z=[y("consumerGroup.partition"),y("consumerGroup.client_id")+" + "+y("consumerGroup.member_id"),y("consumerGroup.current_offset"),y("consumerGroup.log_end_offset"),y("consumerGroup.offset_lag"),y("consumerGroup.new_offset")];return o().createElement(a.Modal,{variant:a.ModalVariant.large,isOpen:!0,"aria-label":"Modal for resetting offset of Kafka consumergroup",title:y("consumerGroup.reset_offset"),showClose:!0,"aria-describedby":"modal-message",onClose:H,actions:[o().createElement(a.Button,{variant:"danger",onClick:function(){return d(void 0,void 0,void 0,(function(){var e,r,o,u;return m(this,(function(l){switch(l.label){case 0:return l.trys.push([0,7,,8]),e=D.filter((function(e){return!0===e.selected})).map((function(e){return e.partition})),I!==c.ConsumerGroupResetOffsetParametersOffsetEnum.Absolute?[3,3]:t?[4,(0,s.v)(b,t.groupId,c.ConsumerGroupResetOffsetParametersOffsetEnum.Absolute,P,e,A.toString())]:[3,2];case 1:l.sent(),l.label=2;case 2:return[3,6];case 3:return t&&I?[4,(0,s.v)(b,t.groupId,I,P,e)]:[3,5];case 4:l.sent(),l.label=5;case 5:l.label=6;case 6:return B({variant:a.AlertVariant.success,title:y("consumerGroup.offset_successfully_reset")}),n&&n(),[3,8];case 7:return r=l.sent(),B({variant:a.AlertVariant.danger,title:null===(u=null===(o=null==r?void 0:r.response)||void 0===o?void 0:o.data)||void 0===u?void 0:u.error_message}),[3,8];case 8:return H(),[2]}}))}))},key:1,isDisabled:""===P||!w||!E||!I||0===D.filter((function(e){return!0===e.selected})).length},y("consumerGroup.reset_offset")),o().createElement(a.Button,{variant:"link",onClick:H,key:2},y("common.cancel"))]},o().createElement(a.Stack,{hasGutter:!0},o().createElement(a.StackItem,null,o().createElement(a.Form,{isHorizontal:!0},o().createElement(a.FormGroup,{label:"Consumer group",fieldId:"horizontal-form-name"},o().createElement(a.Title,{className:"form-title",headingLevel:"h4",size:"md"},null==t?void 0:t.groupId)),E&&o().createElement(a.FormGroup,{label:"Topic",fieldId:"horizontal-form-name"},o().createElement(f.A,{id:"topic-dropdown",toggleId:"topic-dropdowntoggle",ariaLabel:"topic-select-dropdown",onSelectOption:function(e,t){G(t.currentTarget.textContent)},items:(F=t,M=F.consumers.map((function(e){return e.topic})),M.filter((function(e,t){return M.indexOf(e)===t})).map((function(e){return{key:e,value:e,isDisabled:!1}}))),name:"cleanup-policy",value:P||y("common.select"),menuAppendTo:"parent"})),E&&P&&o().createElement(a.FormGroup,{label:"New offset",fieldId:"offset-dropdown"},o().createElement(f.A,{id:"offset-dropdown",toggleId:"offset-dropdowntoggle",ariaLabel:"offset-select-dropdown",onSelectOption:function(e,t){C(t.currentTarget.textContent)},items:L,name:"offset-dropdown",value:I||y("common.select"),menuAppendTo:"parent"})),E&&P&&I===c.ConsumerGroupResetOffsetParametersOffsetEnum.Absolute&&o().createElement(a.FormGroup,{label:"Custom offset",fieldId:"custom-offset-input"},o().createElement(a.TextInput,{id:"custom-offset-input",value:A,onChange:function(e){j(e)},type:"number"})))),o().createElement(a.StackItem,null,!E&&o().createElement(a.Alert,{className:"modal-alert",variant:"danger",isInline:!0,title:y("consumerGroup.reset_offset_connected_alert_title")},o().createElement("p",null,y("consumerGroup.reset_offset_connected_alert_body")))),o().createElement(a.StackItem,null,E&&(null==D?void 0:D.length)>0&&P&&o().createElement(a.Stack,{hasGutter:!0},o().createElement(a.StackItem,null,o().createElement(i.Table,{onSelect:function(e,t,n){var r=h([],D);-1===n?r=D.map((function(e){return e.selected=t,e})):r[n].selected=t,z(r)},canSelectAll:!0,"aria-label":"Selectable Table",cells:Z,rows:(V=[],D&&D.forEach((function(e){var t=e.partition,n=e.groupId,r=e.memberId,o=e.offset,a=e.logEndOffset,u=e.lag,l=e.selected;V.push({cells:[t,n+r,o,a,u,{title:l&&I?I===c.ConsumerGroupResetOffsetParametersOffsetEnum.Absolute?A:I:"-"}],originalData:e,selected:l})})),V),className:"consumer-table"},o().createElement(i.TableHeader,null),o().createElement(i.TableBody,null))),o().createElement(a.StackItem,null,o().createElement(a.Checkbox,{label:y("consumerGroup.reset_offset_accept"),"aria-label":"uncontrolled checkbox example",id:"check-5",isChecked:w,onChange:function(e){_(e)}}))))))}},62085:(e,t,n)=>{n.d(t,{e5:()=>l,T3:()=>i,v:()=>c});var r=n(28696),o=n(14697),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function u(e){try{i(r.next(e))}catch(e){a(e)}}function l(e){try{i(r.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,l)}i((r=r.apply(e,t||[])).next())}))},u=function(e,t){var n,r,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=t.call(e,u)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},l=function(e,t,n,l,i,c,s,f,p){return void 0===f&&(f=o.SortByDirection.asc),a(void 0,void 0,void 0,(function(){var o;return u(this,(function(a){switch(a.label){case 0:return[4,null==e?void 0:e.getToken()];case 1:return o=a.sent(),[4,new r.GroupsApi(new r.Configuration({accessToken:o,basePath:null==e?void 0:e.basePath})).getConsumerGroups(t,n,l,i,c,s,f,p)];case 2:return[2,a.sent().data]}}))}))},i=function(e,t){return a(void 0,void 0,void 0,(function(){var n;return u(this,(function(o){switch(o.label){case 0:return[4,null==t?void 0:t.getToken()];case 1:return n=o.sent(),[4,new r.GroupsApi(new r.Configuration({accessToken:n,basePath:null==t?void 0:t.basePath})).deleteConsumerGroupById(e)];case 2:return o.sent(),[2]}}))}))},c=function(e,t,n,o,l,i){return a(void 0,void 0,void 0,(function(){var a;return u(this,(function(u){switch(u.label){case 0:return[4,null==e?void 0:e.getToken()];case 1:return a=u.sent(),[4,new r.GroupsApi(new r.Configuration({accessToken:a,basePath:null==e?void 0:e.basePath})).resetConsumerGroupOffset(t,{value:i,offset:n,topics:[{topic:o,partitions:l}]})];case 2:return[2,u.sent()]}}))}))}},70655:(e,t,n)=>{n.r(t),n.d(t,{__extends:()=>o,__assign:()=>a,__rest:()=>u,__decorate:()=>l,__param:()=>i,__metadata:()=>c,__awaiter:()=>s,__generator:()=>f,__createBinding:()=>p,__exportStar:()=>d,__values:()=>m,__read:()=>h,__spread:()=>v,__spreadArrays:()=>b,__await:()=>y,__asyncGenerator:()=>g,__asyncDelegator:()=>w,__asyncValues:()=>_,__makeTemplateObject:()=>O,__importStar:()=>E,__importDefault:()=>S,__classPrivateFieldGet:()=>k,__classPrivateFieldSet:()=>P});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function u(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function l(e,t,n,r){var o,a=arguments.length,u=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(u=(a<3?o(u):a>3?o(t,n,u):o(t,n))||u);return a>3&&u&&Object.defineProperty(t,n,u),u}function i(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function s(e,t,n,r){return new(n||(n=Promise))((function(o,a){function u(e){try{i(r.next(e))}catch(e){a(e)}}function l(e){try{i(r.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,l)}i((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=t.call(e,u)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function p(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function d(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function m(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),u=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)u.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return u}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function b(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],u=0,l=a.length;u<l;u++,o++)r[o]=a[u];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function g(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),a=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||l(e,t)}))})}function l(e,t){try{(n=o[e](t)).value instanceof y?Promise.resolve(n.value.v).then(i,c):s(a[0][2],n)}catch(e){s(a[0][3],e)}var n}function i(e){l("next",e)}function c(e){l("throw",e)}function s(e,t){e(t),a.shift(),a.length&&l(a[0][0],a[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=m(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function O(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function P(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}}}]);
//# sourceMappingURL=33.55ad7f96.bundle.js.map