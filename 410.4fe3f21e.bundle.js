(self.webpackChunkkafka_ui=self.webpackChunkkafka_ui||[]).push([[410],{9410:(e,t,a)=>{"use strict";a.d(t,{e:()=>k});var n=a(7522),i=a.n(n),r=a(3004),o=function(e){var t=e.isSwitchChecked,a=e.setIsSwitchChecked,n=i().createElement(r.Breadcrumb,null,i().createElement(r.BreadcrumbItem,{to:"/openshiftstreams"},"Red Hat OpenShift Streams for Apache Kafka"),i().createElement(r.BreadcrumbItem,{to:"/openshiftstreams"},"MK Cluster Instance"),i().createElement(r.BreadcrumbItem,{to:"#",isActive:!0},"Create topic"));return i().createElement(i().Fragment,null,i().createElement("section",{className:"pf-c-page__main-breadcrumb"},n),i().createElement(r.PageSection,{variant:r.PageSectionVariants.light},i().createElement(r.Title,{headingLevel:"h1",size:"2xl"},"Create topic"),i().createElement("br",null),i().createElement(r.Switch,{id:"simple-switch",label:"Show all available options",labelOff:"Show all available options",isChecked:t,onChange:a,className:"create-topic-wizard"})),i().createElement(r.Divider,null))},c=(a(3174),function(e){var t=e.topicNameInput,a=e.setTopicNameInput;return i().createElement(r.Stack,{hasGutter:!0,className:"kafka-ui--wizard-main-body__stack"},i().createElement(r.TextContent,null,i().createElement(r.Text,{component:r.TextVariants.h2},"Topic name"),i().createElement(r.Text,{component:r.TextVariants.p},"Unique name used to recognize your topic"),i().createElement(r.Text,{component:r.TextVariants.small},"The topic name is also used by your producers and consumers as part of the connection information, so make it something easy to recognize.")),i().createElement(r.Form,{onSubmit:function(e){return e.preventDefault()}},i().createElement(r.FormGroup,{label:"Topic name",fieldId:"step-topic-name-form",helperText:"Must be letters (Aa-Zz), numbers, underscores( _ ), or hyphens ( - ).",isRequired:!0},i().createElement(r.TextInput,{isRequired:!0,type:"text",id:"step-topic-name-input",name:"step-topic-name","aria-describedby":"step-topic-name-helper",value:t,onChange:function(e){a(e)},placeholder:"Enter topic name"}))))}),l=function(e){var t=e.partitionTouchspinValue,a=e.setPartitionTouchspinValue;return i().createElement(r.Stack,{hasGutter:!0,className:"kafka-ui--wizard-main-body__stack"},i().createElement(r.TextContent,null,i().createElement(r.Text,{component:r.TextVariants.h2},"Partitions"),i().createElement(r.Text,{component:r.TextVariants.p},"An ordered list of messages"),i().createElement(r.Text,{component:r.TextVariants.small},"One or more partitions make up a topic. Partitions are distributed across the brokers to increase the salability of your topic. You can also use them to distribute messages across the members of the consumer group.")),i().createElement(r.Form,null,i().createElement(r.FormGroup,{label:"Partitions",fieldId:"step-topic-name-form",helperText:"One partition is sufficient for getting started, but production systems often have more.",isRequired:!0},i().createElement(r.NumberInput,{onPlus:function(){a(t+1)},onMinus:function(){a(t-1)},value:t,inputName:"input",onChange:function(e){a(Number(e.target.value))},widthChars:20}))))},s=function(e){var t,a=e.setMsgRetentionValue,o=e.currentPeriod,c=e.setCurrentPeriod;!function(e){e[e.DAY=1]="DAY",e[e.WEEK=7]="WEEK",e[e.MONTH=30]="MONTH",e.CUSTOM="custom"}(t||(t={}));var l=(0,n.useState)(7),s=l[0],m=l[1],u=(0,n.useState)(!1),p=u[0],d=u[1],h=(0,n.useState)(!1),E=h[0],f=h[1],T=(0,n.useState)(1),b=T[0],g=T[1];(0,n.useEffect)((function(){o===t.DAY?a(864e5*t.DAY):o===t.WEEK?a(864e5*t.WEEK):o===t.MONTH?a(864e5*t.MONTH):o===t.CUSTOM&&a(b*s*864e5)}),[o,s,b]);var k=function(e,a){var n=a.target.name;"radio1"===n?c(t.DAY):"radio2"===n?c(t.WEEK):"radio3"===n?c(t.MONTH):"radio4"===n&&c(t.CUSTOM)};return i().createElement(i().Fragment,null,i().createElement(r.Stack,{hasGutter:!0,className:"kafka-ui--wizard-main-body__stack"},i().createElement(r.TextContent,null,i().createElement(r.Text,{component:r.TextVariants.h2},"Message retention"),i().createElement(r.Text,{component:r.TextVariants.p},"How long messages are retained and the maximum total size of all log segments in a partition before they are deleted to free up space"),i().createElement(r.Text,{component:r.TextVariants.small},"Messages that aren't read by a consumer within this time will be missed. By default, a limit is only applied to retention time.")),i().createElement(r.Form,{onSubmit:function(e){return e.preventDefault()}},i().createElement(r.FormGroup,{fieldId:"form-group-in-wizard",label:"Retention time"},i().createElement(r.Stack,{hasGutter:!0},i().createElement(r.Radio,{isChecked:o===t.DAY,name:"radio1",onChange:k,label:"A day","aria-label":"A day",id:"radio-controlled-1",value:"day"}),i().createElement(r.Radio,{isChecked:o===t.WEEK,name:"radio2",onChange:k,label:"A week","aria-label":"A week",id:"radio-controlled-2",value:"week"}),i().createElement(r.Radio,{isChecked:o===t.MONTH,name:"radio3",onChange:k,label:"A month","aria-label":"A month",id:"radio-controlled-3",value:"month"}),i().createElement(r.Radio,{isChecked:o===t.CUSTOM,name:"radio4",onChange:k,label:"Custom duration","aria-label":"custom input",id:"radio-controlled-4",value:"custom"}),i().createElement("div",{className:"kafka-ui--radio__parameters"},i().createElement(r.Flex,null,i().createElement(r.FlexItem,null,i().createElement(r.NumberInput,{onMinus:function(){m(s-1)},onPlus:function(){m(s+1)},value:s,onChange:function(e){m(Number(e.target.value))}})),i().createElement(r.FlexItem,null,i().createElement(r.Select,{variant:r.SelectVariant.single,"aria-label":"Select Input",onToggle:function(e){d(e)},onSelect:function(e,a){"days"===a?g(t.DAY):"weeks"===a?g(t.WEEK):"months"===a&&g(t.MONTH),f(a),d(!1)},selections:E,isOpen:p},i().createElement(r.SelectOption,{key:0,value:"days",isPlaceholder:!0}),i().createElement(r.SelectOption,{key:1,value:"weeks"}),i().createElement(r.SelectOption,{key:2,value:"months"}))))))))))},m=function(e){var t,a=e.setReplicationFactorTouchspinValue,n=e.setMinInSyncReplicaTouchspinValue,o=e.replicationFactorTouchspinValue,c=e.minInSyncReplicaTouchspinValue;!function(e){e[e.ONE=1]="ONE",e[e.TWO=2]="TWO",e.CUSTOM="custom"}(t||(t={}));var l=i().useState(t.ONE),s=l[0],m=l[1],u=function(e,i){var r=i.target.name;"radio4"===r?(m(t.ONE),n(t.ONE),a(t.ONE)):"radio5"===r?(m(t.TWO),n(t.TWO),a(t.TWO)):"radio6"===r&&(m(t.CUSTOM),n(c),a(o))};return i().createElement(r.Stack,{hasGutter:!0,className:"kafka-ui--wizard-main-body__stack"},i().createElement(r.TextContent,null,i().createElement(r.Text,{component:r.TextVariants.h2},"Replicas"),i().createElement(r.Text,{component:r.TextVariants.p},"How many copies of a topic will be made for high availability."),i().createElement(r.Text,{component:r.TextVariants.small},"The partitions of each topic can be replicated across a configurable number of brokers.")),i().createElement(r.Alert,{variant:"info",isInline:!0,title:"Streams for Apache Kafka only supports 3 replicas and a minimum in-sync replica factor of 2."}),i().createElement(r.Form,{onSubmit:function(e){return e.preventDefault()}},i().createElement(r.FormGroup,{fieldId:"create-wizard-replica-form-group",label:"Replicas",className:"form-group-radio"},i().createElement(r.Stack,{hasGutter:!0},i().createElement(r.Radio,{isChecked:s===t.ONE,name:"radio4",onChange:u,label:"Replication factor: 1",id:"radio-controlled-4",value:"radio4",description:"Minimum in-sync replicas: 1"}),i().createElement(r.Radio,{isChecked:s===t.TWO,name:"radio5",onChange:u,label:"Replication factor: 2",id:"radio-controlled-5",value:"radio5",description:"Minimum in-sync replicas: 2"}),i().createElement(r.Radio,{isChecked:s===t.CUSTOM,name:"radio6",onChange:u,label:"Replication factor",id:"radio-controlled-6",value:"radio6"}),i().createElement("div",{className:"kafka-ui--radio__parameters"},i().createElement(r.NumberInput,{value:o,onMinus:function(){a(o-1)},onPlus:function(){a(o+1)},onChange:function(e){a(Number(e.target.value))}}),i().createElement(r.Text,{component:r.TextVariants.small,className:"minimum-in-sync-replicas"},"Minimum in-sync replicas"),i().createElement(r.NumberInput,{value:c,onMinus:function(){n(c-1)},onPlus:function(){n(c+1)},onChange:function(e){n(Number(e.target.value))}}))))))},u=a(8102),p=a(7887),d=a(9284),h=a(1249),E=a(9115),f=a(7830),T=a(3526),b=a(5977),g=function(e){var t=e.setIsCreateTopic,a=e.isSwitchChecked,o=(0,n.useContext)(E.E),g=(0,b.k6)(),k=(0,n.useContext)(T.w).addAlert,S=(0,n.useState)(1),C=S[0],v=S[1],x=(0,n.useState)(""),y=x[0],N=x[1],w=(0,n.useState)(1),O=w[0],V=w[1],M=(0,n.useState)(1),I=M[0],R=M[1],P=(0,n.useState)(1),A=P[0],F=P[1],_=i().useState(1),z=_[0],W=_[1],K=i().useContext(d.J).store,D=function(){t&&t(!1)},G=function(){var e=a?(0,h.hM)((0,h.L3)(K)):{name:y,settings:{numPartitions:O,config:[{key:"retention.ms",value:C.toString()}]}};new p.M2(new f.VK({basePath:null==o?void 0:o.basePath,accessToken:null==o?void 0:o.getToken})).createTopic(e).then((function(e){200===e.status&&k("The topic was successfully created in the Kafka instance",r.AlertVariant.success),D()})).catch((function(e){k(e.response.data.err,r.AlertVariant.danger),D()}))},H=[{name:"Topic name",enableNext:""!==y.trim(),component:i().createElement(c,{topicNameInput:y,setTopicNameInput:N})},{name:"Partitions",canJumpTo:""!==y.trim(),component:i().createElement(l,{partitionTouchspinValue:O,setPartitionTouchspinValue:V})},{name:"Message retention",canJumpTo:""!==y.trim(),component:i().createElement(s,{setMsgRetentionValue:v,currentPeriod:z,setCurrentPeriod:W})},{name:"Replicas",canJumpTo:""!==y.trim(),component:i().createElement(m,{setReplicationFactorTouchspinValue:R,setMinInSyncReplicaTouchspinValue:F,replicationFactorTouchspinValue:I,minInSyncReplicaTouchspinValue:A}),nextButtonText:"Finish"}],U="Create topics wizard";return i().createElement(i().Fragment,null,a?i().createElement(i().Fragment,null,i().createElement(r.PageSection,{variant:r.PageSectionVariants.light},i().createElement(u.W,{isCreate:!0,saveTopic:G,handleCancel:function(){g.push("/topics")}}))):i().createElement(r.PageSection,{variant:r.PageSectionVariants.light,type:r.PageSectionTypes.wizard,isFilled:!0},i().createElement(r.Wizard,{navAriaLabel:U+" steps",mainAriaLabel:U+" content",steps:H,onClose:D,onSave:G})))},k=function(e){var t=e.setIsCreateTopic,a=(0,n.useState)(!1),r=a[0],c=a[1];return i().createElement(i().Fragment,null,i().createElement(o,{isSwitchChecked:r,setIsSwitchChecked:c}),i().createElement(g,{isSwitchChecked:r,setIsCreateTopic:t}))}}}]);
//# sourceMappingURL=410.4fe3f21e.bundle.js.map