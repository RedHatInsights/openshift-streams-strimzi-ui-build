"use strict";(self.webpackChunkkafka_ui=self.webpackChunkkafka_ui||[]).push([[5460],{38296:(e,o,t)=>{function a(...e){const o=[],t={}.hasOwnProperty;return e.filter(Boolean).forEach((e=>{const r=typeof e;if("string"===r||"number"===r)o.push(e);else if(Array.isArray(e)&&e.length){const t=a(...e);t&&o.push(t)}else if("object"===r)for(const a in e)t.call(e,a)&&e[a]&&o.push(a)})),o.join(" ")}t.r(o),t.d(o,{css:()=>a})},90732:(e,o,t)=>{t.d(o,{w:()=>p});var a=t(9922),r=t(85893),s=t(57294),n=t(38296),i=t(75418);const l=(0,i.createContext)({activeRow:"",onRowClick:()=>"",loggedInUser:""}),c=l.Provider,u=e=>{const{activeRow:o,onRowClick:t,rowDataTestId:s}=(0,i.useContext)(l),c=e||{},{trRef:u,className:p,rowProps:m,row:g}=c,d=(0,a.__rest)(c,["trRef","className","rowProps","row"]),{rowIndex:_}=m||{},{isExpanded:b,originalData:h}=g||{};return(0,r.jsx)("tr",Object.assign({"data-testid":s,tabIndex:0,ref:"function"==typeof u?void 0:u,className:(0,n.css)(p,"pf-c-table-row__item",o&&o===(null==h?void 0:h.rowId)&&"pf-m-selected pf-m-selectable"),hidden:void 0!==b&&!b,onClick:e=>t&&t(e,_,g)},d))},p=({tableProps:e,tableHeaderProps:o,tableBodyProps:t,children:i,activeRow:l,onRowClick:p,rowDataTestId:m,loggedInUser:g})=>{const{cells:d,rows:_,actionResolver:b,onSort:h,sortBy:f,"aria-label":w,variant:v,className:C,shouldDefaultCustomRowWrapper:x=!1}=e,j=(0,a.__rest)(e,["cells","rows","actionResolver","onSort","sortBy","aria-label","variant","className","shouldDefaultCustomRowWrapper"]);return x&&(j.rowWrapper=u),(0,r.jsx)(c,Object.assign({value:{activeRow:l,onRowClick:p,rowDataTestId:m,loggedInUser:g}},{children:(0,r.jsxs)(s.Table,Object.assign({className:(0,n.css)(x&&"mas--table-view__table",C),cells:d,variant:v,rows:_,"aria-label":w,actionResolver:b,onSort:h,sortBy:f},j,{children:[(0,r.jsx)(s.TableHeader,Object.assign({},o)),(0,r.jsx)(s.TableBody,Object.assign({},t)),i]}))}))}},97416:(e,o,t)=>{t.d(o,{L:()=>n});var a=t(9922),r=t(85893),s=t(99421);const n=({toolbarProps:e,toggleGroupProps:o,toolbarItems:t,toggleGroupItems:n})=>{const{id:i,clearAllFilters:l,collapseListedFiltersBreakpoint:c="md",inset:u}=e,p=(0,a.__rest)(e,["id","clearAllFilters","collapseListedFiltersBreakpoint","inset"]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.Toolbar,Object.assign({id:i,clearAllFilters:l,inset:u,collapseListedFiltersBreakpoint:c},p,{children:(0,r.jsxs)(s.ToolbarContent,{children:[o&&(0,r.jsx)(s.ToolbarToggleGroup,Object.assign({},o,{toggleIcon:o.toggleIcon},{children:n})),null==t?void 0:t.map(((e,o)=>{const{key:t="mas",variant:n,className:i,id:l,alignment:c,item:u}=e,p=(0,a.__rest)(e,["key","variant","className","id","alignment","item"]);return(0,r.jsx)(s.ToolbarItem,Object.assign({variant:n,className:i,id:l,alignment:c},p,{children:u}),`${t}-${o}`)}))]})}))})}},97369:(e,o,t)=>{t.d(o,{z:()=>s});var a=t(47412),r=t(40011);const s=e=>{const{t:o}=(0,a.useTranslation)(["kafkaTemporaryFixMe"]);switch(e){case r.ConsumerGroupState.Stable:return o("consumerGroup.state.stable");case r.ConsumerGroupState.Empty:return o("consumerGroup.state.empty");case r.ConsumerGroupState.Dead:return o("consumerGroup.state.dead");case r.ConsumerGroupState.CompletingRebalance:return o("consumerGroup.state.completing_rebalance");case r.ConsumerGroupState.PreparingRebalance:return o("consumerGroup.state.preparing_rebalance");case r.ConsumerGroupState.Unknown:return o("consumerGroup.state.unknown");default:return null}}},95460:(e,o,t)=>{t.r(o),t.d(o,{ConsumerGroupsTable:()=>b,default:()=>h});var a=t(85893),r=t(75418),s=t(47412),n=t(99421),i=t(57294),l=t(90732),c=t(91070),u=t(82639),p=t(97416),m=t(48418);const g=({search:e,setSearch:o,total:t,page:i,perPage:l})=>{const{t:c}=(0,s.useTranslation)(["kafkaTemporaryFixMe"]),[g,d]=(0,r.useState)(""),_=(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.ToolbarFilter,Object.assign({chips:e?[e]:[],deleteChip:()=>{o("")},categoryName:""},{children:(0,a.jsxs)(n.InputGroup,{children:[(0,a.jsx)(n.TextInput,{name:"searchConsumerGroups",id:"search-consumer-groups-input",type:"search","aria-label":c("consumerGroup.consumer_group_search_input"),placeholder:c("common.search"),value:g,onChange:e=>{d(e)}}),(0,a.jsx)(n.Button,Object.assign({variant:n.ButtonVariant.control,isDisabled:!g.length,onClick:()=>{o(g),d("")},"aria-label":c("consumerGroup.consumer_group_search")},{children:(0,a.jsx)(m.SearchIcon,{})}))]})}))}),b=[];return t&&t>0&&b.push({item:(0,a.jsx)(u.wu,{widgetId:"consumer-group-pagination-options-menu-top",itemCount:t,page:i,perPage:l,titles:{paginationTitle:c("common.minimal_pagination"),perPageSuffix:c("common.per_page_suffix"),toFirstPage:c("common.to_first_page"),toPreviousPage:c("common.to_previous_page"),toLastPage:c("common.to_last_page"),toNextPage:c("common.to_next_page"),optionsToggle:c("common.options_toggle"),currPage:c("common.curr_page")}}),variant:"pagination",alignment:{default:"alignRight"}}),(0,a.jsx)(p.L,{toolbarProps:{id:"instance-toolbar",clearAllFilters:()=>{o("")},collapseListedFiltersBreakpoint:"md",inset:{xl:"insetLg"}},toggleGroupProps:{toggleIcon:"",breakpoint:"md"},toggleGroupItems:_,toolbarItems:b})};var d=t(7451),_=t(97369);const b=({consumerGroups:e,total:o,page:t,perPage:p,search:m,setSearch:b,rowDataTestId:h,isDrawerOpen:f,onViewConsumerGroup:w,refreshConsumerGroups:v,onSort:C,sortBy:x})=>{const{t:j}=(0,s.useTranslation)(["kafkaTemporaryFixMe"]),{showModal:G}=(0,d.useModal)(),{showModal:P}=(0,d.useModal)(),[k,I]=(0,r.useState)(),T=[{title:j("consumerGroup.consumer_group_id"),transforms:[i.sortable]},{title:j("consumerGroup.active_members")},{title:j("consumerGroup.partitions_with_lag"),transforms:[(0,i.info)({popover:(0,a.jsx)("div",{children:j("consumerGroup.partitions_with_lag_description")}),ariaLabel:"partitions with lag",popoverProps:{headerContent:j("consumerGroup.partitions_with_lag_name")}})]},{title:j("consumerGroup.state_label")}];(0,r.useEffect)((()=>{f||I("")}),[f]);const y=e=>{const{groupId:o,state:t}=e;I(o),((e,o)=>{G(d.ModalType.KafkaDeleteConsumerGroup,{consumerName:e,refreshConsumerGroups:v,state:o})})(o,t)},R=e=>{var o;o=e,P(d.ModalType.KafkaConsumerGroupResetOffset,{refreshConsumerGroups:v,consumerGroupData:o})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g,{search:m,setSearch:b,total:o,perPage:p,page:t}),(0,a.jsx)(l.w,{tableProps:{cells:T,rows:(()=>{const o=[];return null==e||e.map((e=>{const{groupId:t,state:a,metrics:r}=e;o.push({cells:[t,r.activeConsumers,r.laggingPartitions,(0,_.z)(a)],originalData:Object.assign(Object.assign({},e),{rowId:t})})})),o})(),"aria-label":j("consumerGroup.consumer_group_list"),actionResolver:e=>{const o=e.originalData,t={title:j("common.delete"),onClick:()=>y(o),"data-testid":"tableConsumers-actionDelete"},a={title:j("consumerGroup.view_partitions_offsets"),onClick:(e,o,t)=>(e=>{const{originalData:o}=e;w(o),I(null==o?void 0:o.groupId)})(t),"data-testid":"tableConsumers-actionOpenDrawer"},r={title:j("consumerGroup.reset_offset"),onClick:()=>R(o),"data-testid":"tableConsumers-resetOffset"};return[t,a,r]},shouldDefaultCustomRowWrapper:!0,variant:i.TableVariant.compact,onSort:C,sortBy:x},activeRow:k,onRowClick:(e,o,t)=>{if(null==e?void 0:e.target){const{originalData:o}=t||{},a=((null==e?void 0:e.target).tagName||"").toLocaleLowerCase();"button"!==a&&"a"!==a&&(w(o),I(null==o?void 0:o.groupId))}},rowDataTestId:h||"tableConsumers-row"}),o<1&&m.length>0&&(0,a.jsx)(c.u,{emptyStateProps:{variant:c.j.NoResult},titleProps:{title:j("common.no_results_title")},emptyStateBodyProps:{body:j("common.no_results_body")}}),o>0&&(0,a.jsx)(u.wu,{widgetId:"consumer-group-pagination-options-menu-bottom",itemCount:o,variant:n.PaginationVariant.bottom,page:t,perPage:p,titles:{paginationTitle:j("common.full_pagination"),perPageSuffix:j("common.per_page_suffix"),toFirstPage:j("common.to_first_page"),toPreviousPage:j("common.to_previous_page"),toLastPage:j("common.to_last_page"),toNextPage:j("common.to_next_page"),optionsToggle:j("common.options_toggle"),currPage:j("common.curr_page")}})]})},h=b}}]);
