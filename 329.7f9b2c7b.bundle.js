(self.webpackChunkkafka_ui=self.webpackChunkkafka_ui||[]).push([[329],{98329:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var o=n(97522),a=n.n(o),r=n(38936),i=n(10107),l=n(71302),u=n(26585),c=n(48350),s=n(57473),d=function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{u(o.next(e))}catch(e){r(e)}}function l(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((o=o.apply(e,t||[])).next())}))},f=function(e,t){var n,o,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};const v=function(){var e=(0,c.QK)(),t=e.store,n=e.hideModal,v=(0,o.useContext)(u.E),p=(0,r.useTranslation)().t,h=(null==t?void 0:t.modalProps)||{},b=h.topicName,m=h.onDeleteTopic,w=h.refreshTopics,y=(0,o.useState)(""),g=y[0],k=y[1],T=(0,s.useAlert)().addAlert,x=(0,o.useState)(!1),E=x[0],_=x[1],C=function(){n()};return a().createElement(i.Modal,{variant:i.ModalVariant.small,isOpen:!0,"aria-label":p("topic.delete_modal_title"),title:p("topic.delete_modal_title"),titleIconVariant:"warning",showClose:!0,"aria-describedby":"modal-message",onClose:C,actions:[a().createElement(i.Button,{variant:"danger",onClick:function(){return d(void 0,void 0,void 0,(function(){var e;return f(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),b?(_(!0),[4,(0,l.BK)(b,v).then((function(){T({title:p("topic.topic_successfully_deleted",{name:b}),variant:i.AlertVariant.success}),m&&m(),w&&w()}))]):[3,2];case 1:t.sent(),t.label=2;case 2:return[3,4];case 3:return e=t.sent(),_(!1),T({title:e.response.data.error_message,variant:i.AlertVariant.danger}),[3,4];case 4:return C(),[2]}}))}))},key:1,"data-testid":"modalDeleteTopic-buttonDelete",isDisabled:"DELETE"!=g.toUpperCase(),isLoading:E},p("common.delete")),a().createElement(i.Button,{variant:"link",onClick:C,key:2},p("common.cancel"))]},a().createElement(i.Text,{id:"modal-message"}," ",a().createElement("label",{htmlFor:"instance-name-input",dangerouslySetInnerHTML:{__html:p("common.confirm_delete_modal_text",{name:b})}})),a().createElement("br",null),a().createElement("label",{htmlFor:"delete-text-input"},p("common.confirm_delete")),a().createElement(i.TextInput,{value:g,id:"delete-text-input",name:"delete-text-input",type:"text",onChange:function(e){k(e)},autoFocus:!0}))}},71302:(e,t,n)=>{"use strict";n.d(t,{BB:()=>u,Rh:()=>c,eR:()=>d,BN:()=>f,BK:()=>v});var o,a=n(28696),r=n(72721),i=function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{u(o.next(e))}catch(e){r(e)}}function l(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}u((o=o.apply(e,t||[])).next())}))},l=function(e,t){var n,o,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};!function(e){e.name="name",e.partitions="partitions",e.retentionMs="retention.ms",e.retentionSize="retention.bytes"}(o||(o={}));var u=function(e,t,n,o,u,c,s){return void 0===c&&(c=r.SortByDirection.asc),i(void 0,void 0,void 0,(function(){var r;return l(this,(function(i){switch(i.label){case 0:return[4,null==e?void 0:e.getToken()];case 1:return r=i.sent(),[4,new a.DefaultApi(new a.Configuration({accessToken:r,basePath:null==e?void 0:e.basePath})).getTopics(u,t,n,o,void 0,c,s)];case 2:return[2,i.sent().data]}}))}))},c=function(e,t){return i(void 0,void 0,void 0,(function(){var n,o;return l(this,(function(r){switch(r.label){case 0:return[4,null==t?void 0:t.getToken()];case 1:return n=r.sent(),[4,new a.DefaultApi(new a.Configuration({accessToken:n,basePath:null==t?void 0:t.basePath})).getTopic(e)];case 2:return o=r.sent().data,[2,s(o)]}}))}))},s=function(e){var t,n,o={};return o.name=e.name,null===(t=e.config)||void 0===t||t.forEach((function(e){e.key&&(o[e.key]=e.value)})),o.numPartitions=(null===(n=null==e?void 0:e.partitions)||void 0===n?void 0:n.length)||0,o},d=function(e,t,n){return i(void 0,void 0,void 0,(function(){var o;return l(this,(function(r){switch(r.label){case 0:return[4,null==n?void 0:n.getToken()];case 1:return o=r.sent(),[4,new a.DefaultApi(new a.Configuration({accessToken:o,basePath:null==n?void 0:n.basePath})).updateTopic(e,t)];case 2:return[2,r.sent().status]}}))}))},f=function(e,t){return i(void 0,void 0,void 0,(function(){var n,o,r,i,u,c;return l(this,(function(l){switch(l.label){case 0:return[4,null==t?void 0:t.getToken()];case 1:return n=l.sent(),[4,new a.DefaultApi(new a.Configuration({accessToken:n,basePath:null==t?void 0:t.basePath})).getTopic(e)];case 2:return o=l.sent(),(r=o.data).config=r.config||[],r.config.push({key:"replicationFactor",value:null===(c=null===(u=null===(i=o.data)||void 0===i?void 0:i.partitions)||void 0===u?void 0:u.map((function(e){var t;return null===(t=e.replicas)||void 0===t?void 0:t.length})).reduce((function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),e+t})))||void 0===c?void 0:c.toString()}),[2,o.data]}}))}))},v=function(e,t){return i(void 0,void 0,void 0,(function(){var n;return l(this,(function(o){switch(o.label){case 0:return[4,null==t?void 0:t.getToken()];case 1:return n=o.sent(),[4,new a.DefaultApi(new a.Configuration({accessToken:n,basePath:null==t?void 0:t.basePath})).deleteTopic(e)];case 2:return o.sent(),[2]}}))}))}}}]);
//# sourceMappingURL=329.7f9b2c7b.bundle.js.map