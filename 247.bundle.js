/*!
 * Copyright Strimzi authors.
 * License: Apache License 2.0 (see the file LICENSE or http://apache.org/licenses/LICENSE-2.0.html).
 *
 */
(self.webpackChunkstrimzi_ui=self.webpackChunkstrimzi_ui||[]).push([[247],{97222:(e,t,n)=>{"use strict";n.d(t,{i:()=>a});var r=n(23564),o=n(15932),i=n(90398),l=n(84913);function passthrough(e,t){return t?t(e):i.y$.of()}function toLink(e){return"function"==typeof e?new a(e):e}function isTerminating(e){return e.request.length<=1}!function(e){function LinkError(t,n){var r=e.call(this,t)||this;return r.link=n,r}(0,r.ZT)(LinkError,e)}(Error);var a=function(){function ApolloLink(e){e&&(this.request=e)}return ApolloLink.empty=function(){return new ApolloLink((function(){return i.y$.of()}))},ApolloLink.from=function(e){return 0===e.length?ApolloLink.empty():e.map(toLink).reduce((function(e,t){return e.concat(t)}))},ApolloLink.split=function(e,t,n){var r=toLink(t),o=toLink(n||new ApolloLink(passthrough));return isTerminating(r)&&isTerminating(o)?new ApolloLink((function(t){return e(t)?r.request(t)||i.y$.of():o.request(t)||i.y$.of()})):new ApolloLink((function(t,n){return e(t)?r.request(t,n)||i.y$.of():o.request(t,n)||i.y$.of()}))},ApolloLink.execute=function(e,t){return e.request((0,l.zi)(t.context,(0,l.DQ)((0,l.Ak)(t))))||i.y$.of()},ApolloLink.concat=function(e,t){var n=toLink(e);if(isTerminating(n))return n;var r=toLink(t);return isTerminating(r)?new ApolloLink((function(e){return n.request(e,(function(e){return r.request(e)||i.y$.of()}))||i.y$.of()})):new ApolloLink((function(e,t){return n.request(e,(function(e){return r.request(e,t)||i.y$.of()}))||i.y$.of()}))},ApolloLink.prototype.split=function(e,t,n){return this.concat(ApolloLink.split(e,t,n||new ApolloLink(passthrough)))},ApolloLink.prototype.concat=function(e){return ApolloLink.concat(this,e)},ApolloLink.prototype.request=function(e,t){throw new o.ej(21)},ApolloLink.prototype.onError=function(e){throw e},ApolloLink.prototype.setOnError=function(e){return this.onError=e,this},ApolloLink}()},18482:()=>{},57892:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FederatedTopics:()=>FederatedTopics,default:()=>b});var r=n(58422),o=n.n(r),i=(n(18482),n(96091)),l=n(42953),a=n(85112),SearchTopics=function(){var e=(0,r.useState)(""),t=e[0],n=e[1],l=(0,a.c)().updateTopicsFilter;return o().createElement(i.InputGroup,null,o().createElement(i.SearchInput,{name:"searchName",id:"searchTopicsInput",type:"search","aria-label":"search input ",placeholder:"Search",value:t,onChange:function(e){n(e),l(t)},onClear:function(){n(""),l(t)}}))},TopicsList=function(){var e=(0,r.useState)(1),t=e[0],n=e[1],u=(0,r.useState)(10),c=u[0],s=u[1],p=(0,r.useState)(0),f=p[0],h=p[1],onSetPage=function(e,r){n(r),h(t*c)},onPerPageSelect=function(e,t){s(t)},m=(0,a.c)().model.topicList.items.map((function(e){var t,n;return[null==e?void 0:e.name,null===(t=null==e?void 0:e.partitions)||void 0===t?void 0:t.map((function(e){return e.replicas.length})).reduce((function(e,t){return e+t})),null===(n=null==e?void 0:e.partitions)||void 0===n?void 0:n.length]}));return o().createElement(o().Fragment,null,o().createElement(i.Card,null,o().createElement(i.Toolbar,null,o().createElement(i.ToolbarContent,null,o().createElement(i.ToolbarItem,null,o().createElement(SearchTopics,null)),o().createElement(i.ToolbarItem,null,o().createElement(i.Button,{className:"topics-per-page"},"Create topic")),o().createElement(i.ToolbarItem,{variant:"pagination"},o().createElement(i.Pagination,{itemCount:m.length,perPage:c,page:t,onSetPage:onSetPage,widgetId:"pagination-options-menu-top",onPerPageSelect:onPerPageSelect})))),o().createElement(i.Divider,null),o().createElement(l.Table,{"aria-label":"Compact Table",variant:l.TableVariant.compact,cells:[{title:"Name"},{title:"Replicas"},{title:"Partitions"}],rows:1!=t?m.slice(f,f+c):m.slice(0,c),actions:[{title:"Edit"},{title:"Delete"}]},o().createElement(l.TableHeader,null),o().createElement(l.TableBody,null)),o().createElement(i.Pagination,{itemCount:m.length,perPage:c,page:t,onSetPage:onSetPage,widgetId:"pagination-options-menu-top",onPerPageSelect:onPerPageSelect,offset:0})),o().createElement(i.Divider,null))},__assign=function(){return(__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},__rest=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},u={websocket:null,messageBuffer:[]},c=(0,r.createContext)(null),LoggingProvider=function(e){var t=e.children,n=__rest(e,["children"]),r=o().useRef(u);return o().createElement(c.Provider,__assign({},n,{value:r}),t)},s=n(90567),p=n(75392),f=n(46829),h=n(71439),getApolloClient=function(e){var t=e.basePath,n=e.middlewares,r=new f.HttpLink({uri:(t||"")+"/api",fetch:fetch});void 0!==n&&n.forEach((function(e){return r=(0,h.concat)(e,r)}));var o=new f.HttpLink({uri:(t||"")+"/config",fetch:fetch}),i=(0,h.split)((function(e){return"config"===e.getContext().purpose}),o,r);return new h.fe({link:i,cache:new h.h4})},m=(getApolloClient({}),n(23564)),d=n(81707),v=n(90398);var __awaiter=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function fulfilled(e){try{step(r.next(e))}catch(t){i(t)}}function rejected(e){try{step(r.throw(e))}catch(t){i(t)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))},__generator=function(e,t){var n,r,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(i){return function(a){return function step(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},FederatedTopics=function(e){var t=e.id,n=e.getApiOpenshiftComToken,r=e.getToken,l=e.apiBasePath,a=function setContext(e){return new d.i0((function(t,n){var r=(0,m._T)(t,[]);return new v.y$((function(o){var i;return Promise.resolve(r).then((function(n){return e(n,t.getContext())})).then(t.setContext).then((function(){i=n(t).subscribe({next:o.next.bind(o),error:o.error.bind(o),complete:o.complete.bind(o)})})).catch(o.error.bind(o)),function(){i&&i.unsubscribe()}}))}))}((function(){return __awaiter(void 0,void 0,void 0,(function(){var e,o,i;return __generator(this,(function(l){switch(l.label){case 0:return o={},i={},[4,r()];case 1:return i.authorization=l.sent(),e="X-Api-Openshift-Com-Token",[4,n()];case 2:return[2,(o.headers=(i[e]=l.sent(),i["X-Kafka-Id"]=t,i),o)]}}))}))}));return o().createElement(f.ApolloProvider,{client:getApolloClient({middlewares:[a],basePath:l})},o().createElement(s.SP,null,o().createElement(LoggingProvider,null,o().createElement(p.T,{flag:"client.Pages.PlaceholderHome"},o().createElement(i.PageSection,{variant:i.PageSectionVariants.light},o().createElement(TopicsList,null))))))};const b=FederatedTopics}}]);