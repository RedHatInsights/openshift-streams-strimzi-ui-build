{"version":3,"sources":["webpack://kafka-ui/./src/Contexts/Alert/Context.tsx","webpack://kafka-ui/./src/Modules/Topics/TopicList/Components/SearchTopics.tsx","webpack://kafka-ui/./src/Modules/Topics/TopicList/Components/TopicsList.tsx","webpack://kafka-ui/./src/Panels/Topics/FederatedMainView.tsx"],"names":["AlertContext","createContext","SearchTopics","search","setSearch","setFilteredTopics","setSearchTopicName","t","useTranslation","InputGroup","TextInput","name","id","type","placeholder","value","onChange","Button","variant","ButtonVariant","isDisabled","length","onClick","SearchIcon","TopicsListComponent","onCreateTopic","getTopicDetailsPath","onClickTopic","onDeleteTopic","onError","useState","loading","setLoading","page","setPage","perPage","setPerPage","offset","setOffset","topics","setTopics","deleteModal","setDeleteModal","filteredTopics","searchTopicName","topicName","setTopicName","addAlert","useContext","config","fetchTopic","topicsList","response","data","code","error_message","AlertVariant","useEffect","onSetPage","_event","pageNumber","onPerPageSelect","tableColumns","title","transforms","sortable","onChipDelete","rowData","items","map","topic","Link","to","e","preventDefault","partitions","Number","filter","element","key","actions","_","rowId","onDelete","onEdit","Loading","Card","className","EmptyState","emptyStateProps","titleProps","emptyStateBodyProps","body","buttonProps","Toolbar","ToolbarContent","ToolbarItem","Pagination","itemCount","widgetId","Chip","Table","TableVariant","cells","rows","slice","TableHeader","TableBody","Divider","PaginationVariant","FederatedMainView","mainBreadcrumbs","getToken","activeTab","apiBasePath","kafkaName","kafkaPageLink","onDeleteConsumer","alertContext","activeTabKey","setActiveTabKey","contentRefTopics","contentRefConsumers","BrowserRouter","I18nextProvider","i18n","basePath","Breadcrumb","BreadcrumbItem","isActive","PageSection","Level","Title","headingLevel","PageSectionVariants","isWidthLimited","padding","default","Tabs","activeKey","onSelect","event","tabIndex","Tab","TabTitleText","eventKey","tabContentId","tabContentRef","TabContent","ref","hidden","onDeleteConsumerGroup","consumerGroupByTopic"],"mappings":"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","file":"299.d340459d.bundle.js","sourcesContent":["import React, { createContext, useEffect, useState } from 'react';\nimport { AlertVariant } from '@patternfly/react-core';\nimport { ServerAlertGroup } from '../../Components/ServerAlertGroup/ServerAlertGroup';\nimport { AlertType, AlertContextProps, TimeOut } from './Alert.types';\n\nexport const AlertContext = createContext<AlertContextProps>(\n  {} as AlertContextProps\n);\n\nexport const AlertProvider: React.FC<{ children: React.ReactNode }> = ({\n  children,\n}) => {\n  const [alerts, setAlerts] = useState<AlertType[]>([]);\n  const [timers, setTimers] = useState<TimeOut[]>([]);\n\n  useEffect(() => {\n    const timersKeys = timers.map((timer) => timer?.key);\n    const timeOuts = alerts\n      .filter((alert) => !timersKeys.includes(alert.key))\n      .map((alert) => {\n        const timeOut = setTimeout(() => hideAlert(alert.key), 8000);\n        return { key: alert.key, timeOut };\n      });\n    setTimers([...timers, ...timeOuts]);\n    return () => timers.forEach((timer) => clearTimeout(timer.timeOut));\n  }, [alerts]);\n\n  const hideAlert = (key: number) => {\n    setAlerts((alerts) => [...alerts.filter((el) => el.key !== key)]);\n    setTimers((timers) => [...timers.filter((timer) => timer.key === key)]);\n  };\n\n  const createId = () => new Date().getTime();\n\n  const addAlert = (\n    message: string,\n    variant: AlertVariant = AlertVariant.default\n  ) => {\n    setAlerts([...alerts, { key: createId(), message, variant }]);\n  };\n\n  return (\n    <AlertContext.Provider value={{ addAlert }}>\n      <ServerAlertGroup alerts={alerts} onCloseAlert={hideAlert} />\n      {children}\n    </AlertContext.Provider>\n  );\n};\n","import React from 'react';\nimport {\n  Button,\n  ButtonVariant,\n  InputGroup,\n  TextInput,\n} from '@patternfly/react-core';\nimport { useTranslation } from 'react-i18next';\nimport { SearchIcon } from '@patternfly/react-icons';\n\nexport interface ISearchTopicsProps {\n  setSearch: (value: string) => void;\n  setSearchTopicName: (value: string) => void;\n  search: string;\n  setFilteredTopics: (value: boolean) => void;\n}\nconst SearchTopics: React.FunctionComponent<ISearchTopicsProps> = ({\n  search,\n  setSearch,\n  setFilteredTopics,\n  setSearchTopicName,\n}) => {\n  const { t } = useTranslation();\n\n  const onChangeInput = (value: string) => {\n    setSearch(value);\n  };\n\n  const onSearch = () => {\n    setSearchTopicName(search);\n    setFilteredTopics(true);\n    setSearch('');\n  };\n\n  return (\n    <InputGroup>\n      <TextInput\n        name='searchName'\n        id='search-topics-input'\n        type='search'\n        aria-label={t('topic.topic_search_input')}\n        placeholder={t('common.search')}\n        value={search}\n        onChange={onChangeInput}\n      />\n      <Button\n        variant={ButtonVariant.control}\n        isDisabled={search.length ? false : true}\n        onClick={onSearch}\n        aria-label={t('topic.topic_search')}\n      >\n        <SearchIcon />\n      </Button>\n    </InputGroup>\n  );\n};\nexport { SearchTopics };\n","import React, { useContext, useEffect, useState } from 'react';\nimport {\n  AlertVariant,\n  Button,\n  Card,\n  Chip,\n  Divider,\n  Pagination,\n  PaginationVariant,\n  Toolbar,\n  ToolbarContent,\n  ToolbarItem,\n} from '@patternfly/react-core';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n  TableVariant,\n  sortable,\n} from '@patternfly/react-table';\nimport { useTimeout } from '../../../../Hooks/useTimeOut';\nimport { SearchTopics } from './SearchTopics';\nimport {\n  EmptyState,\n  MASEmptyStateVariant,\n} from '../../../../Components/EmptyState/EmptyState';\nimport { getTopics } from '../../../../Services';\nimport { DeleteTopics } from './DeleteTopicsModal';\nimport { ConfigContext } from '../../../../Contexts';\nimport { TopicsList } from '../../../../OpenApi';\nimport { Loading } from '../../../../Components/Loading/Loading';\nimport { AlertContext } from '../../../../Contexts/Alert';\nimport { Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\nimport './TopicList.css';\nimport {\n  convertRetentionSize,\n  convertRetentionTime,\n} from '../../CreateTopic/utils';\n\nexport interface ITopic {\n  name: string;\n  replicas: number;\n  partitions: number;\n}\n\nexport interface ITopicProps {\n  rows: ITopic[];\n}\n\nexport interface ITopicList {\n  onCreateTopic: () => void;\n  onClickTopic: (topicName: string | undefined) => void;\n  getTopicDetailsPath: (topic: string | undefined) => string;\n  onDeleteTopic: () => void;\n  onError?: (errorCode: number, message: string) => void;\n}\n\nexport const TopicsListComponent: React.FunctionComponent<ITopicList> = ({\n  onCreateTopic,\n  getTopicDetailsPath,\n  onClickTopic,\n  onDeleteTopic,\n  onError,\n}) => {\n  const [loading, setLoading] = useState(true);\n  const [page, setPage] = useState<number>(1);\n  const [perPage, setPerPage] = useState<number>(10);\n  const [offset, setOffset] = useState<number>(0);\n  const [search, setSearch] = useState('');\n  const [topics, setTopics] = useState<TopicsList>();\n  const [deleteModal, setDeleteModal] = useState(false);\n  const [filteredTopics, setFilteredTopics] = useState<boolean>(false);\n  const [searchTopicName, setSearchTopicName] = useState<string>('');\n  const [topicName, setTopicName] = useState<string | undefined>();\n\n  const { t } = useTranslation();\n\n  const { addAlert } = useContext(AlertContext);\n\n  const config = useContext(ConfigContext);\n\n  const fetchTopic = async () => {\n    try {\n      if (!filteredTopics) {\n        const topicsList = await getTopics(config);\n        if (topicsList) {\n          setTopics(topicsList);\n        }\n      } else {\n        const topicsList = await getTopics(config, searchTopicName);\n        if (topicsList) {\n          setTopics(topicsList);\n        }\n      }\n    } catch (err) {\n      //TODO: Update the api to allow suppress alerts if the application does not want to show them as well.\n      if (onError && err.response.data.code === 401) {\n        onError(err.response.data.code, err.response.data.error_message);\n      } else {\n        addAlert(err.response.data.error_message, AlertVariant.danger);\n      }\n    }\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchTopic();\n  }, [deleteModal, searchTopicName]);\n\n  useTimeout(() => fetchTopic(), 5000);\n\n  const onSetPage = (_event, pageNumber: number) => {\n    setPage(pageNumber);\n    setOffset(page * perPage);\n  };\n\n  const onPerPageSelect = (_event, perPage: number) => {\n    setPerPage(perPage);\n  };\n\n  const tableColumns = [\n    { title: t('common.name') },\n    { title: t('common.partitions'), transforms: [sortable] },\n    { title: t('topic.retention_time'), transforms: [sortable] },\n    { title: t('topic.retention_size'), transforms: [sortable] },\n  ];\n\n  const onChipDelete = () => {\n    setFilteredTopics(false);\n    setSearchTopicName('');\n  };\n\n  const rowData =\n    topics?.items?.map((topic) => [\n      {\n        title: (\n          <Link\n            data-testid='tableTopics-linkTopic'\n            to={getTopicDetailsPath(topic.name)}\n            onClick={(e) => {\n              e.preventDefault();\n              onClickTopic(topic.name);\n            }}\n          >\n            {topic?.name}\n          </Link>\n        ),\n      },\n      topic.partitions?.length,\n\n      convertRetentionTime(\n        Number(\n          topic.config?.filter((element) => element.key === 'retention.ms')[0]\n            ?.value || 0\n        )\n      ),\n\n      convertRetentionSize(\n        Number(\n          topic.config?.filter(\n            (element) => element.key === 'retention.bytes'\n          )[0]?.value || 0\n        )\n      ),\n    ]) || [];\n\n  const onDelete = (rowId: any) => {\n    if (topics?.items) {\n      setTopicName(topics.items[rowId].name);\n    }\n    setDeleteModal(true);\n  };\n\n  const onEdit = (rowId: any) => {\n    if (topics?.items) {\n      onClickTopic(topics.items[rowId].name);\n    }\n  };\n\n  const actions = [\n    {\n      title: t('common.delete'),\n      ['data-testid']: 'tableTopics-actionDelete',\n      onClick: (_, rowId) => onDelete(rowId),\n    },\n    {\n      title: t('common.edit'),\n      ['data-testid']: 'tableTopics-actionEdit',\n      onClick: (_, rowId) => onEdit(rowId),\n    },\n  ];\n\n  if (loading) {\n    return <Loading />;\n  }\n\n  return (\n    <>\n      {deleteModal && (\n        <DeleteTopics\n          topicName={topicName}\n          setDeleteModal={setDeleteModal}\n          deleteModal={deleteModal}\n          onDeleteTopic={onDeleteTopic}\n        />\n      )}\n      <Card className='kafka-ui-m-full-height'>\n        {rowData.length < 1 && searchTopicName.length < 1 ? (\n          <EmptyState\n            emptyStateProps={{\n              variant: MASEmptyStateVariant.NoItems,\n            }}\n            titleProps={{\n              title: t('topic.empty_topics_title'),\n            }}\n            emptyStateBodyProps={{\n              body: t('topic.empty_topics_body'),\n            }}\n            buttonProps={{\n              title: t('topic.create_topic'),\n              onClick: () => onCreateTopic(),\n            }}\n          />\n        ) : (\n          <Card>\n            <Toolbar>\n              <ToolbarContent>\n                <ToolbarItem className='pf-c-toolbar-item--search'>\n                  <SearchTopics\n                    search={search}\n                    setSearch={setSearch}\n                    setFilteredTopics={setFilteredTopics}\n                    setSearchTopicName={setSearchTopicName}\n                  />\n                </ToolbarItem>\n                <ToolbarItem>\n                  <Button\n                    id='topic-list-create-topic-button'\n                    className='topics-per-page'\n                    data-testid='tabTopics-actionCreate'\n                    onClick={() => {\n                      onCreateTopic();\n                    }}\n                  >\n                    {t('topic.create_topic')}\n                  </Button>\n                </ToolbarItem>\n                <ToolbarItem variant='pagination'>\n                  <Pagination\n                    itemCount={rowData.length}\n                    perPage={perPage}\n                    page={page}\n                    onSetPage={onSetPage}\n                    widgetId='topic-list-pagination-top'\n                    onPerPageSelect={onPerPageSelect}\n                  />\n                </ToolbarItem>\n              </ToolbarContent>\n            </Toolbar>\n            {filteredTopics && (\n              <Toolbar>\n                <ToolbarContent>\n                  <ToolbarItem>\n                    <Chip key='topicFilterChip' onClick={onChipDelete}>\n                      {searchTopicName}\n                    </Chip>\n                    <Button\n                      variant='link'\n                      onClick={onChipDelete}\n                      aria-label='clear-filters'\n                    >\n                      {t('common.clear_filters')}\n                    </Button>\n                  </ToolbarItem>\n                </ToolbarContent>\n              </Toolbar>\n            )}\n            <Table\n              aria-label={t('topic.topic_list_table')}\n              variant={TableVariant.compact}\n              cells={tableColumns}\n              rows={\n                page != 1\n                  ? rowData.slice(offset, offset + perPage)\n                  : rowData.slice(0, perPage)\n              }\n              actions={actions}\n            >\n              <TableHeader />\n              <TableBody />\n            </Table>\n          </Card>\n        )}\n        <Divider />\n        {rowData.length < 1 && searchTopicName.length > 0 && (\n          <EmptyState\n            emptyStateProps={{\n              variant: MASEmptyStateVariant.NoResult,\n            }}\n            titleProps={{\n              title: t('common.no_results_title'),\n            }}\n            emptyStateBodyProps={{\n              body: t('common.no_results_body'),\n            }}\n          />\n        )}\n        {rowData.length > 0 && (\n          <Card>\n            <Divider />\n            <Pagination\n              itemCount={rowData.length}\n              perPage={perPage}\n              page={page}\n              onSetPage={onSetPage}\n              widgetId='topic-list-pagination-bottom'\n              onPerPageSelect={onPerPageSelect}\n              offset={0}\n              variant={PaginationVariant.bottom}\n            />\n          </Card>\n        )}\n      </Card>\n    </>\n  );\n};\n","import React, { FunctionComponent, useState } from 'react';\nimport './style.scss';\nimport { TopicsListComponent } from '../../Modules/Topics/TopicList/Components/TopicsList';\nimport { ConfigContext } from '../../Contexts';\nimport {\n  AlertVariant,\n  Breadcrumb,\n  BreadcrumbItem,\n  Title,\n  Tabs,\n  Level,\n  Tab,\n  TabTitleText,\n  PageSection,\n  PageSectionVariants,\n  TabContent,\n} from '@patternfly/react-core';\nimport kafkai18n from '../../i18n';\nimport { I18nextProvider, useTranslation } from 'react-i18next';\nimport { AlertContext, AlertContextProps } from '../../Contexts/Alert';\nimport { BrowserRouter } from 'react-router-dom';\nimport { FederatedProps } from '../../Utils';\nimport { ConsumerGroupsList } from '../../Modules/ConsumerGroups/ConsumerGroupList/Components/ConsumerGroupList';\n\nexport interface FederatedMainViewProps extends FederatedProps {\n  getToken: () => Promise<string>;\n  apiBasePath: string;\n  activeTab?: number;\n  kafkaName?: string;\n  kafkaPageLink?: string;\n  onCreateTopic: () => void;\n  onClickTopic: (topicName: string | undefined) => void;\n  getTopicDetailsPath: (topic: string | undefined) => string;\n  addAlert: (message: string, variant?: AlertVariant) => void;\n  onDeleteConsumer: () => void;\n  onDeleteTopic: () => void;\n}\n\nconst FederatedMainView: FunctionComponent<FederatedMainViewProps> = ({\n  getToken,\n  activeTab = 0,\n  apiBasePath,\n  kafkaName,\n  kafkaPageLink,\n  onCreateTopic,\n  getTopicDetailsPath,\n  onClickTopic,\n  addAlert,\n  onDeleteConsumer,\n  onDeleteTopic,\n  onError,\n}) => {\n  const alertContext = {\n    addAlert,\n  } as AlertContextProps;\n\n  const [activeTabKey, setActiveTabKey] = useState(activeTab);\n\n  const contentRefTopics = React.createRef<HTMLElement>();\n  const contentRefConsumers = React.createRef<HTMLElement>();\n  const { t } = useTranslation();\n\n  const handleTabClick = (event, tabIndex) => {\n    setActiveTabKey(tabIndex);\n  };\n\n  const buildMainView = () => {\n    const mainBreadcrumbs = (\n      <Breadcrumb>\n        <BreadcrumbItem to={kafkaPageLink ? kafkaPageLink : '#'}>\n          Kafka Instances\n        </BreadcrumbItem>\n        <BreadcrumbItem to='#' isActive>\n          {kafkaName ? kafkaName : t('common.kafka_instance_name')}\n        </BreadcrumbItem>\n      </Breadcrumb>\n    );\n\n    return (\n      <>\n        <section className='pf-c-page__main-breadcrumb'>\n          {mainBreadcrumbs}\n        </section>\n\n        <PageSection variant='light'>\n          <Level>\n            <Title headingLevel='h1'>\n              {kafkaName ? kafkaName : t('common.kafka_instance_name')}\n            </Title>\n            {/* TODO: Add this back once we get the options available to us for this menu <Button variant='plain' iconPosition='right'>\n            <EllipsisVIcon />\n          </Button> */}\n          </Level>\n        </PageSection>\n\n        <PageSection\n          variant={PageSectionVariants.light}\n          className='pf-c-page__main-tabs'\n          isWidthLimited\n          padding={{ default: 'noPadding' }}\n        >\n          <Tabs\n            activeKey={activeTabKey}\n            onSelect={handleTabClick}\n            className='pf-m-page-insets'\n          >\n            <Tab\n              title={<TabTitleText>Topics</TabTitleText>}\n              eventKey={0}\n              id='topics-tab-section'\n              aria-label='Topics Tab.'\n              data-testid='pageKafka-tabTopics'\n              tabContentId='kafka-ui-TabcontentTopics'\n              tabContentRef={contentRefTopics}\n            />\n            <Tab\n              title={<TabTitleText>Consumer groups</TabTitleText>}\n              eventKey={1}\n              id='consumer-groups-tab-section'\n              aria-label='Consumer Groups Tab.'\n              data-testid='pageKafka-tabConsumers'\n              tabContentId='kafka-ui-TabcontentConsumers'\n              tabContentRef={contentRefConsumers}\n              className={activeTabKey === 1 ? 'kafka-ui--consumer-content' : ''}\n            />\n          </Tabs>\n        </PageSection>\n        <PageSection\n          variant={\n            activeTabKey === 1\n              ? PageSectionVariants.default\n              : PageSectionVariants.default\n          }\n        >\n          <TabContent\n            eventKey={0}\n            id='kafka-ui-TabcontentTopics'\n            ref={contentRefTopics}\n            className='kafka-ui-m-full-height'\n            aria-label='Topics.'\n          >\n            <TopicsListComponent\n              onCreateTopic={onCreateTopic}\n              onClickTopic={onClickTopic}\n              getTopicDetailsPath={getTopicDetailsPath}\n              onDeleteTopic={onDeleteTopic}\n              onError={onError}\n            />\n          </TabContent>\n          <TabContent\n            eventKey={1}\n            id='kafka-ui-TabcontentConsumers'\n            ref={contentRefConsumers}\n            className='kafka-ui-m-full-height'\n            aria-label='Consumer groups.'\n            hidden\n          >\n            <ConsumerGroupsList\n              onDeleteConsumerGroup={onDeleteConsumer}\n              consumerGroupByTopic={false}\n            />\n          </TabContent>\n        </PageSection>\n      </>\n    );\n  };\n\n  return (\n    // TODO don't add BrowserRouter here - see  https://github.com/bf2fc6cc711aee1a0c2a/mk-ui-frontend/issues/74\n    <BrowserRouter>\n      <I18nextProvider i18n={kafkai18n}>\n        <ConfigContext.Provider value={{ basePath: apiBasePath, getToken }}>\n          <AlertContext.Provider value={alertContext}>\n            {buildMainView()}\n          </AlertContext.Provider>\n        </ConfigContext.Provider>\n      </I18nextProvider>\n    </BrowserRouter>\n  );\n};\n\nexport { FederatedMainView };\n\nexport default FederatedMainView;\n"],"sourceRoot":""}