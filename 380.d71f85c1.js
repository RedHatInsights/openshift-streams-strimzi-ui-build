"use strict";(self.webpackChunkkafka_ui=self.webpackChunkkafka_ui||[]).push([[380],{96733:(e,t,n)=>{t.Z1={name:"CubesIcon",height:512,width:512,svgPath:"M488.6 250.2L392 214V105.5c0-15-9.3-28.4-23.4-33.7l-100-37.5c-8.1-3.1-17.1-3.1-25.3 0l-100 37.5c-14.1 5.3-23.4 18.7-23.4 33.7V214l-96.6 36.2C9.3 255.5 0 268.9 0 283.9V394c0 13.6 7.7 26.1 19.9 32.2l100 50c10.1 5.1 22.1 5.1 32.2 0l103.9-52 103.9 52c10.1 5.1 22.1 5.1 32.2 0l100-50c12.2-6.1 19.9-18.6 19.9-32.2V283.9c0-15-9.3-28.4-23.4-33.7zM358 214.8l-85 31.9v-68.2l85-37v73.3zM154 104.1l102-38.2 102 38.2v.6l-102 41.4-102-41.4v-.6zm84 291.1l-85 42.5v-79.1l85-38.8v75.4zm0-112l-102 41.4-102-41.4v-.6l102-38.2 102 38.2v.6zm240 112l-85 42.5v-79.1l85-38.8v75.4zm0-112l-102 41.4-102-41.4v-.6l102-38.2 102 38.2v.6z",yOffset:0,xOffset:0},t.TF=n(35183).createIcon(t.Z1),t.ZP=t.TF},20777:(e,t,n)=>{t.lb={name:"PlusCircleIcon",height:512,width:512,svgPath:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z",yOffset:0,xOffset:0},t.wl=n(35183).createIcon(t.lb),t.ZP=t.wl},71070:(e,t,n)=>{t.xQ={name:"SearchIcon",height:512,width:512,svgPath:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z",yOffset:0,xOffset:0},t.W1=n(35183).createIcon(t.xQ),t.ZP=t.W1},38296:(e,t,n)=>{function o(...e){const t=[],n={}.hasOwnProperty;return e.filter(Boolean).forEach((e=>{const a=typeof e;if("string"===a||"number"===a)t.push(e);else if(Array.isArray(e)&&e.length){const n=o(...e);n&&t.push(n)}else if("object"===a)for(const o in e)n.call(e,o)&&e[o]&&t.push(o)})),t.join(" ")}n.d(t,{i:()=>o})},91070:(e,t,n)=>{n.d(t,{j:()=>o,u:()=>m});var o,a=n(75418),r=n.n(a),i=n(58788),l=n(20777),c=n(96733),s=n(71070),u=function(){return(u=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},p=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n};!function(e){e.NoConsumerGroups="NoConsumerGroups",e.NoResult="NoResult",e.NoItems="NoItems"}(o||(o={}));var m=function(e){var t=e.titleProps,n=e.buttonProps,a=e.emptyStateIconProps,m=e.emptyStateProps,d=e.emptyStateBodyProps,f=e.children,g=n||{},v=g.variant,b=void 0===v?i.ButtonVariant.primary:v,h=g.onClick,y=p(g,["variant","onClick"]),P=t||{},w=P.title,E=p(P,["title"]),S=d||{},O=S.body,T=p(S,["body"]),_=m||{},k=_.variant,I=void 0===k?o.NoItems:k,C=p(_,["variant"]),x=function(){var e={};switch(I){case o.NoConsumerGroups:e={variant:i.EmptyStateVariant.large,icon:c.ZP,titleSize:i.TitleSizes.lg,headingLevel:"h2"};break;case o.NoItems:e={variant:i.EmptyStateVariant.large,icon:l.ZP,titleSize:i.TitleSizes.lg,headingLevel:"h2"};break;case o.NoResult:e={variant:i.EmptyStateVariant.large,icon:s.ZP,titleSize:i.TitleSizes.lg,headingLevel:"h2"};break;default:e={variant:I||i.EmptyStateVariant.full,icon:null==a?void 0:a.icon,titleSize:null==t?void 0:t.size,headingLevel:null==t?void 0:t.headingLevel}}return e}(),N=x.variant,B=x.icon,j=x.titleSize,F=x.headingLevel;return r().createElement(r().Fragment,null,r().createElement(i.EmptyState,u({variant:N},C),r().createElement(i.EmptyStateIcon,u({icon:B},a)),w&&r().createElement(i.Title,u({headingLevel:F,size:j},E),w),O&&r().createElement(i.EmptyStateBody,u({},T),O),(null==n?void 0:n.title)&&r().createElement(i.Button,u({variant:b,onClick:h},y),null==n?void 0:n.title),f))}},28942:(e,t,n)=>{n.d(t,{w:()=>f});var o=n(75418),a=n.n(o),r=n(94550),i=n(38296),l=function(){return(l=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},c=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n},s=(0,o.createContext)({activeRow:"",onRowClick:function(){return""},loggedInUser:""}),u=s.Provider,p=function(e){var t=(0,o.useContext)(s),n=t.activeRow,r=t.onRowClick,u=t.rowDataTestId,p=e||{},m=p.trRef,d=p.className,f=p.rowProps,g=p.row,v=c(p,["trRef","className","rowProps","row"]),b=f.rowIndex,h=g.isExpanded,y=g.originalData;return a().createElement("tr",l({"data-testid":u,tabIndex:0,ref:m,className:(0,i.i)(d,"pf-c-table-row__item",n&&n===(null==y?void 0:y.rowId)&&"pf-m-selected pf-m-selectable"),hidden:void 0!==h&&!h,onClick:function(e){return r&&r(e,b,g)}},v))},m=function(){return(m=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},d=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n},f=function(e){var t=e.tableProps,n=e.tableHeaderProps,o=e.tableBodyProps,l=e.children,c=e.activeRow,s=e.onRowClick,f=e.rowDataTestId,g=e.loggedInUser,v=t.cells,b=t.rows,h=t.actionResolver,y=t.onSort,P=t.sortBy,w=t["aria-label"],E=t.variant,S=t.className,O=t.shouldDefaultCustomRowWrapper,T=void 0!==O&&O,_=d(t,["cells","rows","actionResolver","onSort","sortBy","aria-label","variant","className","shouldDefaultCustomRowWrapper"]);return T&&(_.rowWrapper=p),a().createElement(u,{value:{activeRow:c,onRowClick:s,rowDataTestId:f,loggedInUser:g}},a().createElement(r.Table,m({className:(0,i.i)(T&&"mas--table-view__table",S),cells:v,variant:E,rows:b,"aria-label":w,actionResolver:h,onSort:y,sortBy:P},_),a().createElement(r.TableHeader,m({},n)),a().createElement(r.TableBody,m({},o)),l))}},97416:(e,t,n)=>{n.d(t,{L:()=>c});var o=n(75418),a=n.n(o),r=n(58788),i=function(){return(i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n},c=function(e){var t=e.toolbarProps,n=e.toggleGroupProps,o=e.toolbarItems,c=e.toggleGroupItems,s=t.id,u=t.clearAllFilters,p=t.collapseListedFiltersBreakpoint,m=void 0===p?"md":p,d=t.inset,f=l(t,["id","clearAllFilters","collapseListedFiltersBreakpoint","inset"]);return a().createElement(a().Fragment,null,a().createElement(r.Toolbar,i({id:s,clearAllFilters:u,inset:d,collapseListedFiltersBreakpoint:m},f),a().createElement(r.ToolbarContent,null,n&&a().createElement(r.ToolbarToggleGroup,i({toggleIcon:n.toggleIcon},n),c),null==o?void 0:o.map((function(e,t){var n=e.key,o=void 0===n?"mas":n,c=e.variant,s=e.className,u=e.id,p=e.alignment,m=e.item,d=l(e,["key","variant","className","id","alignment","item"]);return a().createElement(r.ToolbarItem,i({key:o+"-"+t,variant:c,className:s,id:u,alignment:p},d),m)})))))}},63052:(e,t,n)=>{n.d(t,{K:()=>a});var o=n(75418),a=function(e,t){var n=(0,o.useRef)();(0,o.useEffect)((function(){n.current=e}),[e]),(0,o.useEffect)((function(){if(null!==t){var e=setTimeout((function(){n.current()}),t);return function(){clearInterval(e)}}}),[e,t])}},93380:(e,t,n)=>{n.r(t),n.d(t,{Topics:()=>k,default:()=>I});var o=n(75418),a=n.n(o),r=n(76007),i=n(54532),l=n(58788),c=n(63052),s=n(94550),u=n(70854),p=n(28942),m=n(91070),d=n(82639),f=n(14708),g=n(97416),v=function(e){var t=e.total,n=void 0===t?0:t,r=e.page,c=e.perPage,s=e.setFilteredValue,u=e.filteredValue,p=void 0===u?"":u,m=e.onCreateTopic,v=(0,i.useTranslation)().t,b=(0,o.useState)(""),h=b[0],y=b[1],P=a().createElement(a().Fragment,null,a().createElement(l.ToolbarFilter,{chips:p?[p]:[],deleteChip:function(){s("")},categoryName:""},a().createElement(l.InputGroup,null,a().createElement(l.TextInput,{name:"searchName",id:"search-topics-input",type:"search","aria-label":v("topic.topic_search_input"),placeholder:v("common.search"),value:h,onChange:function(e){y(e)}}),a().createElement(l.Button,{variant:l.ButtonVariant.control,isDisabled:!h.length,onClick:function(){s(h),y("")},"aria-label":v("topic.topic_search")},a().createElement(f.SearchIcon,null))))),w=[{item:a().createElement(l.Button,{id:"topic-list-create-topic-button",className:"topics-per-page","data-testid":"actionCreateTopic",onClick:m},v("topic.create_topic"))}];return n>0&&w.push({item:a().createElement(d.wu,{widgetId:"consumer-group-pagination-options-menu-top",itemCount:n,page:r,perPage:c,titles:{paginationTitle:v("common.minimal_pagination"),perPageSuffix:v("common.per_page_suffix"),toFirstPage:v("common.to_first_page"),toPreviousPage:v("common.to_previous_page"),toLastPage:v("common.to_last_page"),toNextPage:v("common.to_next_page"),optionsToggle:v("common.options_toggle"),currPage:v("common.curr_page")}}),variant:"pagination",alignment:{default:"alignRight"}}),a().createElement(g.L,{toolbarProps:{id:"instance-toolbar",clearAllFilters:function(){s("")},collapseListedFiltersBreakpoint:"md",inset:{xl:"insetLg"}},toggleGroupProps:{toggleIcon:"",breakpoint:"md"},toggleGroupItems:P,toolbarItems:w})},b=n(80372),h=n(41861),y=n(52049),P=function(e){var t,n=e.total,o=e.page,c=e.perPage,f=e.setFilteredValue,g=e.filteredValue,P=e.onCreateTopic,w=e.topicItems,E=e.rowDataTestId,S=e.onEdit,O=e.onDeleteTopic,T=e.refreshTopics,_=e.onSort,k=e.sortBy,I=(0,i.useTranslation)().t,C=(0,h.dd)().showModal,x=(0,(0,u.useBasename)().getBasename)(),N=[{title:I("common.name")},{title:I("common.partitions"),transforms:[s.sortable]},{title:I("topic.retention_time"),transforms:[s.sortable]},{title:I("topic.retention_size"),transforms:[s.sortable]}],B=function(e,t,n){var o,a,r,i,l,c=t.name,s=void 0===c?"":c;"delete"===n?(l=s,C(y.w.DeleteTopic,{topicName:l,onDeleteTopic:O,refreshTopics:T})):"edit"===n&&S&&S(s),null===(i=null===(r=null===(a=null===(o=null==e?void 0:e.target)||void 0===o?void 0:o.parentElement)||void 0===a?void 0:a.parentElement)||void 0===r?void 0:r.previousSibling)||void 0===i||i.focus()},j=(t=[],null==w||w.map((function(e){var n,o,i=e.name,l=e.partitions,c=e.config;t.push({cells:[{title:a().createElement(r.Link,{"data-testid":"tableTopics-linkTopic",to:x+"/topics/"+i},i)},null==l?void 0:l.length,(0,b.B)(Number((null===(n=null==c?void 0:c.filter((function(e){return"retention.ms"===e.key}))[0])||void 0===n?void 0:n.value)||0)),(0,b.y)(Number((null===(o=null==c?void 0:c.filter((function(e){return"retention.bytes"===e.key}))[0])||void 0===o?void 0:o.value)||0))],originalData:e})})),t);return a().createElement(a().Fragment,null,a().createElement(v,{total:n,page:o,perPage:c,onCreateTopic:P,setFilteredValue:f,filteredValue:g}),a().createElement(p.w,{tableProps:{cells:N,rows:j,"aria-label":I("topic.topic_list_table"),actionResolver:function(e){var t,n,o=e.originalData;return[(t={title:I("common.delete")},t["data-testid"]="tableTopics-actionDelete",t.onClick=function(e){return B(e,o,"delete")},t),(n={title:I("common.edit")},n["data-testid"]="tableTopics-actionEdit",n.onClick=function(e){return B(e,o,"edit")},n)]},shouldDefaultCustomRowWrapper:!0,variant:s.TableVariant.compact,onSort:_,sortBy:k},rowDataTestId:E||"tableTopics-row"}),(null==w?void 0:w.length)<1&&g.length>0&&a().createElement(m.u,{emptyStateProps:{variant:m.j.NoResult},titleProps:{title:I("common.no_results_title")},emptyStateBodyProps:{body:I("common.no_results_body")}}),n>0&&a().createElement(d.wu,{widgetId:"consumer-group-pagination-options-menu-bottom",itemCount:n,variant:l.PaginationVariant.bottom,page:o,perPage:c,titles:{paginationTitle:I("common.full_pagination"),perPageSuffix:I("common.per_page_suffix"),toFirstPage:I("common.to_first_page"),toPreviousPage:I("common.to_previous_page"),toLastPage:I("common.to_last_page"),toNextPage:I("common.to_next_page"),optionsToggle:I("common.options_toggle"),currPage:I("common.curr_page")}}))},w=n(4055),E=n(60540),S=n(64517),O=n(3654),T=function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{c(o.next(e))}catch(e){r(e)}}function l(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((o=o.apply(e,t||[])).next())}))},_=function(e,t){var n,o,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}},k=function(){var e=((0,S.S)()||{}).onError,t=(0,i.useTranslation)().t,n=(0,u.useAlert)().addAlert,s=(0,o.useContext)(O.E),p=(0,d.hI)()||{},f=p.page,g=void 0===f?1:f,v=p.perPage,b=void 0===v?10:v,h=(0,r.useHistory)(),y=(0,(0,u.useBasename)().getBasename)(),k=(0,o.useState)(),I=k[0],C=k[1],x=(0,o.useState)(""),N=x[0],B=x[1],j=(0,o.useState)(0),F=j[0],R=j[1],z=(0,o.useState)(),V=z[0],L=z[1],M=(0,o.useState)(),D=M[0],G=M[1],A=(0,o.useState)({index:0,direction:"asc"}),Z=A[0],W=A[1];(0,o.useEffect)((function(){q()}),[N,V,D]),(0,c.K)((function(){return q()}),5e3),(0,o.useEffect)((function(){R(b*(g-1))}),[g,b]);var U=function(){h.push(y+"/topic/create")},H=function(e){h.push(y+"/topic/update/"+e)},K=function(e){H&&H(e)},Q=function(e,t,n){G({0:"name",1:"partitions",2:"retention.ms",3:"retention.bytes"}[t]),L(n),W({index:t,direction:n})},q=function(){return T(void 0,void 0,void 0,(function(){var t;return _(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(0,E.BB)(s,100,b,N,F,V,D).then((function(e){C(null==e?void 0:e.items)}))];case 1:return o.sent(),[3,3];case 2:return t=o.sent(),e&&401===t.response.data.code?e(t.response.data.code,t.response.data.error_message):n({title:t.response.data.error_message,variant:l.AlertVariant.danger}),[3,3];case 3:return[2]}}))}))};return a().createElement(a().Fragment,null,a().createElement(l.Card,{className:"kafka-ui-m-full-height","data-ouia-page-id":"tableTopics"},void 0===I?a().createElement(l.PageSection,{className:"kafka-ui-m-full-height",variant:l.PageSectionVariants.light,padding:{default:"noPadding"}},a().createElement(w.y,null)):I.length<1&&N.length<1?a().createElement(m.u,{emptyStateProps:{variant:m.j.NoItems,"data-ouia-page-id":"emptyStateTopics"},titleProps:{title:t("topic.empty_topics_title")},emptyStateBodyProps:{body:t("topic.empty_topics_body")},buttonProps:{title:t("topic.create_topic"),onClick:U,"data-testid":"actionCreateTopic"}}):I?a().createElement(P,{total:I.length||0,page:g,perPage:b,onCreateTopic:U,topicItems:N?null==I?void 0:I.slice(0,b):null==I?void 0:I.slice(F,F+b),filteredValue:N,setFilteredValue:B,refreshTopics:q,onEdit:K,onSort:Q,sortBy:Z}):a().createElement(a().Fragment,null)))};const I=k},80372:(e,t,n)=>{n.d(t,{B:()=>o,y:()=>a});var o=function(e){var t;return-1===e?"Unlimited":e<6e4?1===e?e+" millisecond":e+" milliseconds":e>=6e4&&e<36e5?(t=e/6e4,1===(t=Math.round(100*t)/100)?t+" minute":t+" minutes"):e>=36e5&&e<1728e5?(t=e/36e5,1===(t=Math.round(100*t)/100)?t+" hour":t+" hours"):e>=1728e5?(t=e/864e5,(t=Math.round(100*t)/100)+" days"):e.toString()},a=function(e){var t;return-1===e?"Unlimited":Math.abs(e)<1024?1===e?e+" byte":e+" bytes":Math.abs(e)>=1024&&Math.abs(e)<1048576?1===(t=e/1024)?t+" kibibyte":t+" kibibytes":Math.abs(e)>=1048576&&Math.abs(e)<1073741824?1===(t=e/1048576)?t+" mebibyte":t+" mebibytes":Math.abs(e)>=1073741824&&Math.abs(e)<10995116e5?1===(t=e/1073741824)?t+" gibibyte":t+" gibibytes":Math.abs(e)>=10995116e5?1===(t=e/10995116e5)?t+" tebibyte":t+" tebibytes":e.toString()}}}]);
//# sourceMappingURL=380.d71f85c1.js.map