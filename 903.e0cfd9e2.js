"use strict";(self.webpackChunkkafka_ui=self.webpackChunkkafka_ui||[]).push([[903],{8903:(e,t,i)=>{i.d(t,{o:()=>k});var n=i(75418),o=i.n(n),a=i(98068),l=i(11593),r=i(84669),c=i(95216),p=i(86737),s=(i(80358),i(39806)),m=i(80372),d=function(e){var t=e.topic,i=e.deleteTopic,n=(0,a.useHistory)(),d=(0,a.useParams)().topicName,_=(0,((0,c.useBasename)()||{getBasename:function(){return""}}).getBasename)(),f=(0,l.useTranslation)().t;return o().createElement(r.PageSection,{padding:{default:"noPadding"}},o().createElement(r.Sidebar,{hasGutter:!0},o().createElement(r.SidebarPanel,{variant:"sticky"},o().createElement(r.JumpLinks,{isVertical:!0,label:f("topic.jump_to_section"),scrollableSelector:".app-services-ui--u-display-contents > div:nth-child(1) > div:nth-child(1) > div:nth-child(1)",offset:-164,style:{position:"sticky"}},o().createElement(r.JumpLinksItem,{key:0,href:"#core-configuration"},f("topic.core_configuration")),o().createElement(r.JumpLinksItem,{key:1,href:"#messages"},f("topic.messages")),o().createElement(r.JumpLinksItem,{key:2,href:"#log"},f("topic.log")),o().createElement(r.JumpLinksItem,{key:3,href:"#replication"},f("topic.replication")),o().createElement(r.JumpLinksItem,{key:4,href:"#cleanup"},f("common.cleanup")),o().createElement(r.JumpLinksItem,{key:5,href:"#index"},f("topic.index")),o().createElement(r.JumpLinksItem,{key:6,href:"#flush"},f("topic.flush")),o().createElement(r.JumpLinksItem,{key:7,href:"#delete"},f("common.delete")))),o().createElement(r.SidebarContent,null,o().createElement(r.PageGroup,{hasOverflowScroll:!0,id:"topic-detail-view"},o().createElement(r.PageSection,{padding:{default:"noPadding"}},o().createElement(r.Split,null,o().createElement(r.SplitItem,{isFilled:!0},o().createElement(r.Form,{id:"topic-form"},o().createElement(r.FormSection,{title:f("topic.core_configuration"),id:"core-configuration",titleElement:"h2"},o().createElement(r.TextContent,null,o().createElement(r.Text,{component:r.TextVariants.p,className:"section-info"},f("topic.core_config_info"))),o().createElement(s.R,{fieldId:"topic-name",btnAriaLabel:f("common.name"),fieldLabel:f("topic.topic_name"),fieldValue:t.name,popoverBody:f("topic.topic_name_description"),popoverHeader:f("topic.topic_name")}),o().createElement(s.R,{fieldId:"partitions",btnAriaLabel:f("topic.partitions"),fieldLabel:f("topic.partitions"),fieldValue:t.numPartitions,popoverBody:f("topic.partitions_description"),popoverHeader:f("topic.partitions")}),o().createElement(s.R,{fieldId:"replicas",btnAriaLabel:f("topic.replicas"),fieldLabel:f("topic.replicas"),fieldValue:t.replicationFactor,popoverBody:f("topic.replicas_description"),popoverHeader:f("topic.replicas")}),o().createElement(s.R,{fieldId:"min-insync-replicas",btnAriaLabel:f("topic.min_insync_replicas"),fieldLabel:f("topic.min_insync_replicas"),fieldValue:p.MO,popoverBody:f("topic.min_insync_replicas_description"),popoverHeader:f("topic.min_insync_replicas")}),o().createElement(s.R,{fieldId:"retention-time",btnAriaLabel:f("topic.retention_time"),fieldLabel:f("topic.retention_time"),fieldValue:(0,m.B)(Number(t["retention.ms"])),popoverBody:f("topic.retention_time_description"),popoverHeader:f("topic.retention_time"),showUnlimited:!0}),o().createElement(s.R,{fieldId:"retention-size",btnAriaLabel:f("topic.retention_size"),fieldLabel:f("topic.retention_size"),fieldValue:(0,m.y)(Number(t["retention.bytes"])),popoverHeader:f("topic.retention_size"),popoverBody:f("topic.retention_size_description"),showUnlimited:!0})),o().createElement(r.FormSection,{title:f("topic.messages"),id:"messages",titleElement:"h2"},o().createElement(r.TextContent,null,o().createElement(r.Text,{component:r.TextVariants.p,className:"section-info"},f("topic.message_section_info"))),o().createElement(s.R,{fieldId:"max-message-size",btnAriaLabel:f("topic.max_message_size"),fieldLabel:f("topic.max_message_size"),fieldValue:p._$,popoverBody:f("topic.max_message_size_description"),popoverHeader:f("topic.max_message_size")}),o().createElement(s.R,{fieldId:"message-timestamp-type",btnAriaLabel:f("topic.message_timestamp_type"),fieldLabel:f("topic.message_timestamp_type"),fieldValue:p.K,popoverBody:f("topic.message_timestamp_type_description"),popoverHeader:f("topic.message_timestamp_type")}),o().createElement(s.R,{fieldId:"max-message-timestamp-diff",btnAriaLabel:f("topic.max_message_timestamp_diff"),fieldLabel:f("topic.max_message_timestamp_diff"),fieldValue:p.Y,popoverBody:f("topic.max_message_timestamp_diff_description"),popoverHeader:f("topic.max_message_timestamp_diff")}),o().createElement(s.R,{fieldId:"compression-type",btnAriaLabel:f("topic.compression_type"),fieldLabel:f("topic.compression_type"),fieldValue:"Producer",popoverBody:f("topic.compression_type_description"),popoverHeader:f("topic.compression_type")}),o().createElement(s.R,{fieldId:"message-format",btnAriaLabel:f("topic.message_format"),fieldLabel:f("topic.message_format"),fieldValue:"2.7-IV2",popoverBody:f("topic.message_format_description"),popoverHeader:f("topic.message_format")})),o().createElement(r.FormSection,{title:f("topic.log"),id:"log",titleElement:"h2"},o().createElement(r.TextContent,null,o().createElement(r.Text,{component:r.TextVariants.p},f("topic.log_section_info"),o().createElement(r.Text,{component:r.TextVariants.small,className:"section-info-note"},f("topic.log_section_info_note")))),o().createElement(s.R,{fieldId:"cleanup-policy",btnAriaLabel:f("topic.cleanup_policy"),fieldLabel:f("topic.cleanup_policy"),fieldValue:t["cleanup.policy"],popoverBody:f("topic.cleanup_policy_description"),popoverHeader:f("topic.cleanup_policy")}),o().createElement(s.R,{fieldId:"delete-retention-time",btnAriaLabel:f("topic.delete_retention_time"),fieldLabel:f("topic.delete_retention_time"),fieldValue:p.sN,popoverBody:f("topic.delete_retention_time_description"),popoverHeader:f("topic.delete_retention_time")}),o().createElement(s.R,{fieldId:"min-cleanable-ratio",btnAriaLabel:f("topic.min_cleanable_ratio"),fieldLabel:f("topic.min_cleanable_ratio"),fieldValue:p.PT,popoverBody:f("topic.min_cleanable_ratio_description"),popoverHeader:f("topic.min_cleanable_ratio")}),o().createElement(s.R,{fieldId:"min-compaction-lag-time",btnAriaLabel:f("topic.min_compaction_lag_time"),fieldLabel:f("topic.min_compaction_lag_time"),fieldValue:p.A7,popoverBody:f("topic.min_compaction_lag_time_description"),popoverHeader:f("topic.min_compaction_lag_time")})),o().createElement(r.FormSection,{title:f("topic.replication"),id:"replication",titleElement:"h2"},o().createElement(r.TextContent,null,o().createElement(r.Text,{component:r.TextVariants.p},f("topic.replication_section_info"),o().createElement(r.Text,{component:r.TextVariants.small},f("topic.replication_section_info_note")))),o().createElement(s.R,{fieldId:"unclean-leader-election",btnAriaLabel:f("topic.unclean_leader_election"),fieldLabel:f("topic.unclean_leader_election"),fieldValue:f("common.disabled"),popoverBody:f("topic.unclean_leader_election_description"),popoverHeader:f("topic.unclean_leader_election")})),o().createElement(r.FormSection,{title:f("common.cleanup"),id:"cleanup",titleElement:"h2"},o().createElement(r.TextContent,null,o().createElement(r.Text,{component:r.TextVariants.p,className:"section-info"},f("topic.cleanup_section_info"))),o().createElement(s.R,{fieldId:"log-segment-size",btnAriaLabel:f("topic.log_segment_size"),fieldLabel:f("topic.log_segment_size"),fieldValue:p.f8,popoverBody:f("topic.log_segment_size_description"),popoverHeader:f("topic.log_segment_size")}),o().createElement(s.R,{fieldId:"segement-time",btnAriaLabel:f("topic.segement_time"),fieldLabel:f("topic.segement_time"),fieldValue:p.$$,popoverBody:f("topic.segement_time_description"),popoverHeader:f("topic.segement_time")}),o().createElement(s.R,{fieldId:"segment-jitter-time",btnAriaLabel:f("topic.segment_jitter_time"),fieldLabel:f("topic.segment_jitter_time"),fieldValue:p.W$,popoverBody:f("topic.segment_jitter_time_description"),popoverHeader:f("topic.segment_jitter_time")}),o().createElement(s.R,{fieldId:"file-delete-delay",btnAriaLabel:f("topic.file_delete_delay"),fieldLabel:f("topic.file_delete_delay"),fieldValue:p.pJ,popoverBody:f("topic.file_delete_delay_description"),popoverHeader:f("topic.file_delete_delay")}),o().createElement(s.R,{fieldId:"preallocate-log-segment-files",btnAriaLabel:f("topic.preallocate_log_segment_files"),fieldLabel:f("topic.preallocate_log_segment_files"),fieldValue:f("common.disabled"),popoverBody:f("topic.preallocate_log_segment_files_description"),popoverHeader:f("topic.preallocate_log_segment_files")})),o().createElement(r.FormSection,{title:f("topic.index"),id:"index",titleElement:"h2"},o().createElement(r.TextContent,null,o().createElement(r.Text,{component:r.TextVariants.p,className:"section-info"},f("topic.index_section_info"))),o().createElement(s.R,{fieldId:"index-interval-size",btnAriaLabel:f("topic.index_interval_size"),fieldLabel:f("topic.index_interval_size"),fieldValue:p.Q_,popoverBody:f("topic.index_interval_size_description"),popoverHeader:f("topic.index_interval_size")}),o().createElement(s.R,{fieldId:"segment-index-size",btnAriaLabel:f("topic.segment_index_size"),fieldLabel:f("topic.segment_index_size"),fieldValue:p.nL,popoverBody:f("topic.segment_index_size_description"),popoverHeader:f("topic.segment_index_size")})),o().createElement(r.FormSection,{title:f("topic.flush"),id:"flush",titleElement:"h2"},o().createElement(r.TextContent,null,o().createElement(r.Text,{component:r.TextVariants.p,className:"section-info"},f("topic.flush_section_info"))),o().createElement(s.R,{fieldId:"flush-interval-messages",btnAriaLabel:f("topic.flush_interval_messages"),fieldLabel:f("topic.flush_interval_messages"),fieldValue:p.mr,popoverBody:f("topic.flush_interval_messages_description"),popoverHeader:f("topic.flush_interval_messages")}),o().createElement(s.R,{fieldId:"flush-interval-time",btnAriaLabel:f("topic.flush_interval_time"),fieldLabel:f("topic.flush_interval_time"),fieldValue:p.qh,popoverBody:f("topic.flush_interval_time_description"),popoverHeader:f("topic.flush_interval_time")}))),o().createElement(r.Divider,{className:"kafka-ui-divider__Margin"}),o().createElement(r.TextContent,null,o().createElement(r.Text,{component:r.TextVariants.h2,id:"delete"},f("topic.delete_topic")),o().createElement(r.Text,{component:r.TextVariants.p,className:"section-info"},f("topic.delete_topic_info")),o().createElement(r.Button,{variant:"danger",onClick:i,"data-testid":"tabProperties-actionDelete"},f("common.delete_topic")))),o().createElement(r.SplitItem,null,o().createElement(r.Button,{variant:"primary",onClick:function(){n.push(_+"/topic/update/"+d)},"data-testid":"tabProperties-actionEdit"},f("common.edit_props")))))))))},_=i(13985),f=i(60540),u=i(64517),b=i(3654),g=i(70705),v=i(5736),y=i(41861),E=i(52049),h=(i(41781),function(e,t,i,n){return new(i||(i=Promise))((function(o,a){function l(e){try{c(n.next(e))}catch(e){a(e)}}function r(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(l,r)}c((n=n.apply(e,t||[])).next())}))}),L=function(e,t){var i,n,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,n=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],n=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}},k=function(){var e=(0,u.S)()||{},t=e.activeTab,i=void 0===t?2:t,p=e.kafkaName,s=e.kafkaPageLink,m=e.kafkaInstanceLink,k=e.onError,x=(0,a.useHistory)(),T=(0,a.useParams)().topicName,I=(0,((0,c.useBasename)()||{getBasename:function(){return""}}).getBasename)(),V=(0,n.useState)({name:T,numPartitions:"","retention.ms":"","retention.ms.unit":"milliseconds","retention.bytes":"","retention.bytes.unit":"bytes","cleanup.policy":""}),B=V[0],A=V[1],R=(0,n.useState)(i),S=R[0],H=R[1],C=(0,n.useContext)(b.E),P=((0,c.useAlert)()||{addAlert:function(){}}).addAlert,z=(0,l.useTranslation)().t,w=o().createRef(),N=o().createRef(),M=(0,y.dd)().showModal,F=function(){x.push(I)};(0,n.useEffect)((function(){!function(e){h(void 0,void 0,void 0,(function(){var t,n,o,a;return L(this,(function(l){switch(l.label){case 0:if(2!==i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,(0,f.Rh)(e,C).then((function(e){A(e)}))];case 2:return l.sent(),[3,4];case 3:return t=l.sent(),(0,v.I)(t)&&(k&&k((null===(n=t.response)||void 0===n?void 0:n.data.code)||-1,null===(o=t.response)||void 0===o?void 0:o.data.error_message),404===(null===(a=t.response)||void 0===a?void 0:a.status)&&P({title:z("topic.topic_not_found",{name:e}),variant:r.AlertVariant.danger})),[3,4];case 4:return[2]}}))}))}(T)}),[T]);return o().createElement(o().Fragment,null,o().createElement(_.I,{topicName:T,kafkaName:p,kafkaPageLink:s,kafkaInstanceLink:m}),o().createElement(r.PageSection,{variant:r.PageSectionVariants.light,padding:{default:"noPadding"},className:"pf-c-page__main-tabs"},o().createElement(r.Tabs,{activeKey:S,onSelect:function(e,t){H(t)},isBox:!1,className:"pf-m-page-insets"},o().createElement(r.Tab,{eventKey:1,"data-testid":"pageTopic-tabConsumers",title:o().createElement(r.TabTitleText,null,z("consumerGroup.consumer_groups")),tabContentId:"kafka-ui-TabcontentConsumerGroupList",tabContentRef:w}),o().createElement(r.Tab,{eventKey:2,title:o().createElement(r.TabTitleText,null,z("common.properties")),"data-testid":"pageTopic-tabProperties",tabContentId:"kafka-ui-TabcontentProperties",tabContentRef:N}))),o().createElement(r.PageSection,{variant:2===S?r.PageSectionVariants.light:r.PageSectionVariants.default},o().createElement(r.TabContent,{eventKey:1,id:"kafka-ui-TabcontentConsumerGroupList",ref:w,className:"kafka-ui-m-full-height","aria-label":"Consumer groups.",hidden:!0},o().createElement(g.ConsumerGroups,{consumerGroupByTopic:!0,topic:T,rowDataTestId:"tableTopicConsumers-row"})),o().createElement(r.TabContent,{eventKey:2,id:"kafka-ui-TabcontentProperties",ref:N,className:"kafka-ui-m-full-height","aria-label":"Topic properties."},o().createElement(d,{topic:B,deleteTopic:function(){M(E.w.DeleteTopic,{topicName:T,onDeleteTopic:F})}}))))}},80372:(e,t,i)=>{i.d(t,{B:()=>n,y:()=>o});var n=function(e){var t;return-1===e?"Unlimited":e<6e4?1===e?e+" millisecond":e+" milliseconds":e>=6e4&&e<36e5?(t=e/6e4,1===(t=Math.round(100*t)/100)?t+" minute":t+" minutes"):e>=36e5&&e<1728e5?(t=e/36e5,1===(t=Math.round(100*t)/100)?t+" hour":t+" hours"):e>=1728e5?(t=e/864e5,(t=Math.round(100*t)/100)+" days"):e.toString()},o=function(e){var t;return-1===e?"Unlimited":Math.abs(e)<1024?1===e?e+" byte":e+" bytes":Math.abs(e)>=1024&&Math.abs(e)<1048576?1===(t=e/1024)?t+" kibibyte":t+" kibibytes":Math.abs(e)>=1048576&&Math.abs(e)<1073741824?1===(t=e/1048576)?t+" mebibyte":t+" mebibytes":Math.abs(e)>=1073741824&&Math.abs(e)<10995116e5?1===(t=e/1073741824)?t+" gibibyte":t+" gibibytes":Math.abs(e)>=10995116e5?1===(t=e/10995116e5)?t+" tebibyte":t+" tebibytes":e.toString()}}}]);
//# sourceMappingURL=903.e0cfd9e2.js.map