(self.webpackChunkkafka_ui=self.webpackChunkkafka_ui||[]).push([[991,721],{84564:(e,t,n)=>{"use strict";t.MX={name:"ExclamationCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},t.$O=n(35183).createIcon(t.MX),t.ZP=t.$O},14459:(e,t,n)=>{"use strict";n.r(t);var r,o=n(97522),a=n.n(o),i=n(69770),c=n.n(i),l=n(38936),u=n(55399),s=n(26302),p=n(26585),f=n(10107),m=n(84564),d=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasError:!1},t.onClickButton=function(){var e=t.props.history;t.setState({hasError:!1}),e&&e.push("/")},t}return d(t,e),t.getDerivedStateFromError=function(e){return{hasError:!0}},t.prototype.componentDidCatch=function(e,t){console.error("error:",e,t)},t.prototype.render=function(){var e=this.props.t;return this.state.hasError?a().createElement(f.PageSection,{padding:{default:"noPadding"}},a().createElement(f.EmptyState,{variant:f.EmptyStateVariant.full},a().createElement(f.EmptyStateIcon,{icon:m.ZP}),a().createElement(f.Title,{headingLevel:"h1",size:f.TitleSizes.lg},e("common.error_boundary_title")),a().createElement(f.EmptyStateBody,null,e("common.unexpected_error")),a().createElement(f.Button,{variant:f.ButtonVariant.primary,onClick:this.onClickButton},e("common.return_to_home")))):this.props.children},t}(o.Component),v=(0,u.withRouter)((0,l.withTranslation)()(h)),y=function(){return(y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},b=function(e){var t=e.alerts,n=e.onCloseAlert;return a().createElement(f.AlertGroup,{isToast:!0},t.map((function(e){var t=e.id,r=e.variant,o=e.title,i=e.description,c=e.dataTestId,l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["id","variant","title","description","dataTestId"]);return a().createElement(f.Alert,y({key:t,isLiveRegion:!0,variant:f.AlertVariant[r],variantLabel:"",title:o,actionClose:a().createElement(f.AlertActionCloseButton,{title:o,onClose:function(){return n(t)}}),"data-testid":c},l),i)})))},E=n(57473),g=function(){return(g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},T=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},k=function(e){var t=e.children,n=(0,o.useState)([]),r=n[0],i=n[1],c=(0,o.useState)([]),l=c[0],u=c[1];(0,o.useEffect)((function(){var e=l.map((function(e){return e.key})),t=r.filter((function(t){return!e.includes(null==t?void 0:t.id)})).map((function(e){var t=e.id,n=void 0===t?"":t,r=setTimeout((function(){return s(n)}),8e3);return{key:e.id,timeOut:r}}));return u(T(T([],l),t)),function(){return l.forEach((function(e){return(null==e?void 0:e.timeOut)&&clearTimeout(e.timeOut)}))}}),[r]);var s=function(e){i((function(t){return T([],t.filter((function(t){return t.id!==e})))})),u((function(t){return T([],t.filter((function(t){return t.key===e})))}))};return a().createElement(E.AlertContext.Provider,{value:{addAlert:function(e){var t=(new Date).getTime().toString();i(T(T([],r),[g(g({},e),{id:t})]))}}},a().createElement(b,{alerts:r,onCloseAlert:s}),t)},w=n(18416),P=n(66057),C=n(6275),O=n(67864),S=function(e){var t=e.children,n=(0,l.useTranslation)().t,r=(0,o.useState)(!1),i=r[0],c=r[1],u=[a().createElement(f.DropdownItem,{key:"logout"},"Logout")],s=a().createElement(f.Brand,{src:O,alt:n("common.red_hat_logo")}),p=a().createElement(f.DropdownToggle,{id:"user-dropdown-toggle",onToggle:function(){c(!i)},toggleIndicator:P.CaretDownIcon},"Ned Username"),m=a().createElement(f.Dropdown,{onSelect:function(){c(!i)},toggle:p,isOpen:i,isPlain:!0,dropdownItems:u}),d=a().createElement(a().Fragment,null,a().createElement(f.Avatar,{src:C,className:"app-masthead-avatar",alt:"avatar"})),h=a().createElement(f.PageHeaderTools,null,m,d);return a().createElement(f.Page,{mainContainerId:"scrollablePageMain",header:a().createElement((function(){return a().createElement(f.PageHeader,{logo:s,logoComponent:"h1",headerTools:h})}),null)},t)},x=n(42159),_=n(37009),N=function(){var e=(0,u.useHistory)(),t=function(t){e.push("/"+t)};return a().createElement(_.J.Provider,{value:{onConnectToRoute:t,getConnectToRoutePath:function(t,n){return n?e.createHref({pathname:"/"+t,key:n}):e.createHref({pathname:"/"+t})}}},a().createElement(x.v,{onCreateTopic:function(){t("topic/create")},onEditTopic:function(e){t("topic/update/"+e)},activeTab:1}))},I=n(47566),R=function(){var e=(0,u.useHistory)(),t=(0,u.useParams)().topicName;return a().createElement(_.J.Provider,{value:{topicName:t,activeTab:2}},a().createElement(I.o,{updateTopic:function(){e.push("/topic/update/"+t)},onDeleteTopic:function(){e.push("/topics")}}))},j=n(40568),A=function(){var e=(0,u.useHistory)();return a().createElement(j.e,{onCloseCreateTopic:function(){e.push("/topics")}})},D=n(45546),B=n(67568),L=n(72645),H=n(71302),G=n(53443),V=n(91674),U=(n(63168),function(){return(U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),z=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function c(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((r=r.apply(e,t||[])).next())}))},K=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},F=function(e){var t=e.topicName,n=e.onCancelUpdateTopic,r=e.onSaveTopic,i=e.onError,c=(0,l.useTranslation)().t,u=(0,o.useContext)(p.E),s=(0,E.useAlert)().addAlert,m={name:t,numPartitions:"","retention.ms":"","retention.ms.unit":"milliseconds","retention.bytes":"","retention.bytes.unit":"bytes","cleanup.policy":""},d=(0,o.useState)(m),h=d[0],v=d[1],y=(0,o.useState)(!1),b=y[0],g=y[1];return(0,o.useEffect)((function(){!function(e){z(void 0,void 0,void 0,(function(){var t,r,o,a,c,l,p,m;return K(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,(0,H.BN)(e,u)];case 1:return t=d.sent(),r={},null===(a=t.config)||void 0===a||a.forEach((function(e){r[e.key||""]=e.value||""})),v(U(U({},h),{numPartitions:(null===(c=null==t?void 0:t.partitions)||void 0===c?void 0:c.length.toString())||"","cleanup.policy":r["cleanup.policy"]||"delete","retention.bytes":r["retention.bytes"]||"-1","retention.ms":r["retention.ms"]||"604800000"})),[3,3];case 2:return o=d.sent(),(0,V.I)(o)&&(i&&i(null===(l=o.response)||void 0===l?void 0:l.data.code,null===(p=o.response)||void 0===p?void 0:p.data.error_message),404===(null===(m=o.response)||void 0===m?void 0:m.status)&&(s({variant:f.AlertVariant.danger,title:"Topic "+e+" does not exist"}),n())),[3,3];case 3:return[2]}}))}))}(t)}),[t]),a().createElement(a().Fragment,null,a().createElement(L.W,{isCreate:!1,saveTopic:function(){return z(void 0,void 0,void 0,(function(){var e,t,n,o,a,l,p;return K(this,(function(m){switch(m.label){case 0:for(a in e=(0,G.L3)(h),t=e.name,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["name"]),o=[],g(!0),n)a&&"numPartitions"!==a&&o.push({key:a,value:n[a].toString().toLowerCase()});l={numPartitions:Number(h.numPartitions),config:o},m.label=1;case 1:return m.trys.push([1,3,,4]),[4,(0,H.eR)(t,l,u).then((function(){s({title:c("topic.topic_successfully_updated"),variant:f.AlertVariant.success}),g(!1),r()}))];case 2:return m.sent(),[3,4];case 3:return p=m.sent(),i&&i(p.response.data.code,p.response.data.error_message),g(!1),s({title:p.response.data.error_message,variant:f.AlertVariant.danger}),[3,4];case 4:return[2]}}))}))},handleCancel:n,topicData:h,setTopicData:v,isLoadingSave:b}),a().createElement("br",null),a().createElement("br",null))},J=(n(41781),function(e){var t=e.onCancelUpdateTopic,n=e.onDeleteTopic,r=e.onSaveTopic,i=(0,l.useTranslation)().t,c=(0,_.S)(),u=c.topicName,s=void 0===u?"":u,p=c.kafkaName,m=c.kafkaPageLink,d=c.kafkaInstanceLink,h=c.onError,v=c.activeTab,y=void 0===v?0:v,b=(0,o.useState)(y),E=b[0],g=b[1],T=a().createRef(),k=a().createRef();return a().createElement(a().Fragment,null,a().createElement(B.I,{topicName:s,kafkaName:p,kafkaPageLink:m,kafkaInstanceLink:d}),a().createElement(f.PageSection,{variant:f.PageSectionVariants.light,className:"pf-c-page__main-tabs",padding:{default:"noPadding"}},a().createElement(f.Tabs,{onSelect:function(e,t){g(t)},activeKey:E,isBox:!1,className:"pf-m-page-insets"},a().createElement(f.Tab,{eventKey:0,title:a().createElement(f.TabTitleText,null,i("consumerGroup.consumer_groups")),tabContentId:"kafka-ui-TabcontentConsumerGroups",tabContentRef:T}),a().createElement(f.Tab,{eventKey:1,title:a().createElement(f.TabTitleText,null,i("common.properties")),tabContentId:"kafka-ui-TabcontentProperties",tabContentRef:k}))),a().createElement(f.PageSection,{variant:1===E?f.PageSectionVariants.light:f.PageSectionVariants.default},a().createElement(f.TabContent,{eventKey:0,id:"kafka-ui-TabcontentConsumerGroups",ref:T,className:"kafka-ui-m-full-height","aria-label":"Consumer groups.",hidden:0!==y},a().createElement(D.J,{topic:s,consumerGroupByTopic:!0})),a().createElement(f.TabContent,{eventKey:1,id:"kafka-ui-TabcontentProperties",ref:k,className:"kafka-ui-m-full-height","aria-label":"Topic properties",hidden:1!==y},a().createElement(F,{topicName:s,onCancelUpdateTopic:t,onDeleteTopic:n,onSaveTopic:r,onError:h}))))}),M=function(){var e=(0,u.useHistory)(),t=(0,u.useParams)().topicName;return a().createElement(_.J.Provider,{value:{activeTab:1,topicName:t}},a().createElement(J,{onCancelUpdateTopic:function(){e.push("/topics/"+t)},onDeleteTopic:function(){e.push("/topics")},onSaveTopic:function(){e.push("/topics/"+t)}}))},Z=function(){return a().createElement(x.v,{activeTab:2})},X=function(){var e=(0,u.useParams)().topicName,t=(0,u.useHistory)();return a().createElement(I.o,{updateTopic:function(){t.push("/topic/update/"+e)}})},$=function(){return a().createElement(u.HashRouter,null,a().createElement(u.Switch,null,a().createElement(u.Route,{path:"/",component:N,exact:!0}),a().createElement(u.Route,{path:"/topics",component:N,exact:!0}),a().createElement(u.Route,{path:"/topics/:topicName",component:R,exact:!0}),a().createElement(u.Route,{path:"/topic/create",component:A}),a().createElement(u.Route,{path:"/topic/update/:topicName",component:M,exact:!0}),a().createElement(u.Route,{path:"/consumerGroups",component:Z,exact:!0}),a().createElement(u.Route,{path:"/topics/consumerGroups/:topicName",component:X,exact:!0})))};c().render(a().createElement((function(){return a().createElement(l.I18nextProvider,{i18n:s.Z},a().createElement(p.E.Provider,{value:{basePath:"http://localhost:8000/data/kafka",getToken:function(){return e=void 0,t=void 0,r=function(){return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(e){return[2,""]}))},new((n=void 0)||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function c(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((r=r.apply(e,t||[])).next())}));var e,t,n,r}}},a().createElement(u.BrowserRouter,null,a().createElement(v,null,a().createElement(k,null,a().createElement(w.OU,null,a().createElement(S,null,a().createElement($,null))))))))}),null),document.getElementById("root"))},67864:(e,t,n)=>{"use strict";e.exports=n.p+"00a7463a99cd21018062.png"},6275:(e,t,n)=>{"use strict";e.exports=n.p+"78554e0da8ff8725e050.svg"}}]);
//# sourceMappingURL=991.5afe2892.bundle.js.map