"use strict";(self.webpackChunkkafka_ui=self.webpackChunkkafka_ui||[]).push([[5460],{38296:(e,t,o)=>{function a(...e){const t=[],o={}.hasOwnProperty;return e.filter(Boolean).forEach((e=>{const r=typeof e;if("string"===r||"number"===r)t.push(e);else if(Array.isArray(e)&&e.length){const o=a(...e);o&&t.push(o)}else if("object"===r)for(const a in e)o.call(e,a)&&e[a]&&t.push(a)})),t.join(" ")}o.r(t),o.d(t,{css:()=>a})},90732:(e,t,o)=>{o.d(t,{w:()=>p});var a=o(223),r=o(85893),s=o(57294),n=o(38296),i=o(75418);const l=(0,i.createContext)({activeRow:"",onRowClick:()=>"",loggedInUser:""}),c=l.Provider,u=e=>{const{activeRow:t,onRowClick:o,rowDataTestId:s}=(0,i.useContext)(l),c=e||{},{trRef:u,className:p,rowProps:m,row:g}=c,d=(0,a.__rest)(c,["trRef","className","rowProps","row"]),{rowIndex:_}=m||{},{isExpanded:b,originalData:f}=g||{};return(0,r.jsx)("tr",Object.assign({"data-testid":s,tabIndex:0,ref:"function"==typeof u?void 0:u,className:(0,n.css)(p,"pf-c-table-row__item",t&&t===(null==f?void 0:f.rowId)&&"pf-m-selected pf-m-selectable"),hidden:void 0!==b&&!b,onClick:e=>o&&o(e,_,g)},d))},p=({tableProps:e,tableHeaderProps:t,tableBodyProps:o,children:i,activeRow:l,onRowClick:p,rowDataTestId:m,loggedInUser:g})=>{const{cells:d,rows:_,actionResolver:b,onSort:f,sortBy:h,"aria-label":w,variant:v,className:C,shouldDefaultCustomRowWrapper:x=!1}=e,j=(0,a.__rest)(e,["cells","rows","actionResolver","onSort","sortBy","aria-label","variant","className","shouldDefaultCustomRowWrapper"]);return x&&(j.rowWrapper=u),(0,r.jsx)(c,Object.assign({value:{activeRow:l,onRowClick:p,rowDataTestId:m,loggedInUser:g}},{children:(0,r.jsxs)(s.Table,Object.assign({className:(0,n.css)(x&&"mas--table-view__table",C),cells:d,variant:v,rows:_,"aria-label":w,actionResolver:b,onSort:f,sortBy:h},j,{children:[(0,r.jsx)(s.TableHeader,Object.assign({},t)),(0,r.jsx)(s.TableBody,Object.assign({},o)),i]}))}))}},97416:(e,t,o)=>{o.d(t,{L:()=>n});var a=o(223),r=o(85893),s=o(99421);const n=({toolbarProps:e,toggleGroupProps:t,toolbarItems:o,toggleGroupItems:n})=>{const{id:i,clearAllFilters:l,collapseListedFiltersBreakpoint:c="md",inset:u}=e,p=(0,a.__rest)(e,["id","clearAllFilters","collapseListedFiltersBreakpoint","inset"]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.Toolbar,Object.assign({id:i,clearAllFilters:l,inset:u,collapseListedFiltersBreakpoint:c},p,{children:(0,r.jsxs)(s.ToolbarContent,{children:[t&&(0,r.jsx)(s.ToolbarToggleGroup,Object.assign({},t,{toggleIcon:t.toggleIcon},{children:n})),null==o?void 0:o.map(((e,t)=>{const{key:o="mas",variant:n,className:i,id:l,alignment:c,item:u}=e,p=(0,a.__rest)(e,["key","variant","className","id","alignment","item"]);return(0,r.jsx)(s.ToolbarItem,Object.assign({variant:n,className:i,id:l,alignment:c},p,{children:u}),`${o}-${t}`)}))]})}))})}},97369:(e,t,o)=>{o.d(t,{z:()=>s});var a=o(58496),r=o(98639);const s=e=>{const{t}=(0,a.useTranslation)(["kafkaTemporaryFixMe"]);switch(e){case r.ConsumerGroupState.Stable:return t("consumerGroup.state.stable_state");case r.ConsumerGroupState.Empty:return t("consumerGroup.state.empty_state");case r.ConsumerGroupState.Dead:return t("consumerGroup.state.dead_state");case r.ConsumerGroupState.CompletingRebalance:return t("consumerGroup.state.completing_rebalance_state");case r.ConsumerGroupState.PreparingRebalance:return t("consumerGroup.state.preparing_rebalance_state");case r.ConsumerGroupState.Unknown:return t("consumerGroup.state.unknown_state");default:return null}}},95460:(e,t,o)=>{o.r(t),o.d(t,{ConsumerGroupsTable:()=>b,default:()=>f});var a=o(85893),r=o(75418),s=o(58496),n=o(99421),i=o(57294),l=o(90732),c=o(91070),u=o(82639),p=o(97416),m=o(48418);const g=({search:e,setSearch:t,total:o,page:i,perPage:l})=>{const{t:c}=(0,s.useTranslation)(["kafkaTemporaryFixMe"]),[g,d]=(0,r.useState)(""),_=(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.ToolbarFilter,Object.assign({chips:e?[e]:[],deleteChip:()=>{t("")},categoryName:""},{children:(0,a.jsxs)(n.InputGroup,{children:[(0,a.jsx)(n.TextInput,{name:"searchConsumerGroups",id:"search-consumer-groups-input",type:"search","aria-label":c("consumerGroup.consumer_group_search_input"),placeholder:c("common.search"),value:g,onChange:e=>{d(e)}}),(0,a.jsx)(n.Button,Object.assign({variant:n.ButtonVariant.control,isDisabled:!g.length,onClick:()=>{t(g),d("")},"aria-label":c("consumerGroup.consumer_group_search")},{children:(0,a.jsx)(m.SearchIcon,{})}))]})}))}),b=[];return o&&o>0&&b.push({item:(0,a.jsx)(u.wu,{widgetId:"consumer-group-pagination-options-menu-top",itemCount:o,page:i,perPage:l,titles:{paginationTitle:c("common.minimal_pagination"),perPageSuffix:c("common.per_page_suffix"),toFirstPage:c("common.to_first_page"),toPreviousPage:c("common.to_previous_page"),toLastPage:c("common.to_last_page"),toNextPage:c("common.to_next_page"),optionsToggle:c("common.options_toggle"),currPage:c("common.curr_page")}}),variant:"pagination",alignment:{default:"alignRight"}}),(0,a.jsx)(p.L,{toolbarProps:{id:"instance-toolbar",clearAllFilters:()=>{t("")},collapseListedFiltersBreakpoint:"md",inset:{xl:"insetLg"}},toggleGroupProps:{toggleIcon:"",breakpoint:"md"},toggleGroupItems:_,toolbarItems:b})};var d=o(7451),_=o(97369);const b=({consumerGroups:e,total:t,page:o,perPage:p,search:m,setSearch:b,rowDataTestId:f,isDrawerOpen:h,onViewConsumerGroup:w,refreshConsumerGroups:v,onSort:C,sortBy:x})=>{const{t:j}=(0,s.useTranslation)(["kafkaTemporaryFixMe"]),{showModal:G}=(0,d.useModal)(),{showModal:P}=(0,d.useModal)(),[k,I]=(0,r.useState)(),T=[{title:j("consumerGroup.consumer_group_id"),transforms:[i.sortable]},{title:j("consumerGroup.active_members")},{title:j("consumerGroup.partitions_with_lag"),transforms:[(0,i.info)({popover:(0,a.jsx)("div",{children:j("consumerGroup.partitions_with_lag_description")}),ariaLabel:"partitions with lag",popoverProps:{headerContent:j("consumerGroup.partitions_with_lag_name")}})]},{title:j("consumerGroup.state_label")}];(0,r.useEffect)((()=>{h||I("")}),[h]);const y=e=>{const{groupId:t,state:o}=e;I(t),((e,t)=>{G(d.ModalType.KafkaDeleteConsumerGroup,{consumerName:e,refreshConsumerGroups:v,state:t})})(t,o)},R=e=>{var t;t=e,P(d.ModalType.KafkaConsumerGroupResetOffset,{refreshConsumerGroups:v,consumerGroupData:t})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g,{search:m,setSearch:b,total:t,perPage:p,page:o}),(0,a.jsx)(l.w,{tableProps:{cells:T,rows:(()=>{const t=[];return null==e||e.map((e=>{const{groupId:o,consumers:a,state:r}=e;t.push({cells:[o,a.reduce((function(e,t){return e+(-1!=t.partition?1:0)}),0),a.reduce((function(e,t){return e+(t.lag>0?1:0)}),0),(0,_.z)(r)],originalData:Object.assign(Object.assign({},e),{rowId:o})})})),t})(),"aria-label":j("consumerGroup.consumer_group_list"),actionResolver:e=>{const t=e.originalData,o={title:j("common.delete"),onClick:()=>y(t),"data-testid":"tableConsumers-actionDelete"},a={title:j("consumerGroup.view_partitions_offsets"),onClick:(e,t,o)=>(e=>{const{originalData:t}=e;w(t),I(null==t?void 0:t.groupId)})(o),"data-testid":"tableConsumers-actionOpenDrawer"},r={title:j("consumerGroup.reset_offset"),onClick:()=>R(t),"data-testid":"tableConsumers-resetOffset"};return[o,a,r]},shouldDefaultCustomRowWrapper:!0,variant:i.TableVariant.compact,onSort:C,sortBy:x},activeRow:k,onRowClick:(e,t,o)=>{if(null==e?void 0:e.target){const{originalData:t}=o||{},a=((null==e?void 0:e.target).tagName||"").toLocaleLowerCase();"button"!==a&&"a"!==a&&(w(t),I(null==t?void 0:t.groupId))}},rowDataTestId:f||"tableConsumers-row"}),t<1&&m.length>0&&(0,a.jsx)(c.u,{emptyStateProps:{variant:c.j.NoResult},titleProps:{title:j("common.no_results_title")},emptyStateBodyProps:{body:j("common.no_results_body")}}),t>0&&(0,a.jsx)(u.wu,{widgetId:"consumer-group-pagination-options-menu-bottom",itemCount:t,variant:n.PaginationVariant.bottom,page:o,perPage:p,titles:{paginationTitle:j("common.full_pagination"),perPageSuffix:j("common.per_page_suffix"),toFirstPage:j("common.to_first_page"),toPreviousPage:j("common.to_previous_page"),toLastPage:j("common.to_last_page"),toNextPage:j("common.to_next_page"),optionsToggle:j("common.options_toggle"),currPage:j("common.curr_page")}})]})},f=b}}]);
//# sourceMappingURL=5460.f5928d6b.js.map