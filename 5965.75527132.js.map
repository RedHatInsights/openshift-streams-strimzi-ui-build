{"version":3,"file":"5965.75527132.js","mappings":"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","sources":["webpack://kafka-ui/./src/components/MASTable/CustomRowWrapper.tsx","webpack://kafka-ui/./src/components/MASTable/MASTable.tsx","webpack://kafka-ui/./src/modules/Permissions/components/ManagePermissionsDialog/GoofyLabel.tsx","webpack://kafka-ui/./src/modules/Permissions/components/PermissionsTable/Cells.tsx","webpack://kafka-ui/./src/modules/Permissions/utils.ts","webpack://kafka-ui/./src/services/acls.ts"],"sourcesContent":["import React, { createContext, useContext } from 'react';\nimport { css } from '@patternfly/react-styles';\nimport './CustomRowWrapper.css';\nimport { IRowData, RowWrapperProps } from '@patternfly/react-table';\n\nexport type CustomRowWrapperContextProps = {\n  activeRow?: string;\n  onRowClick?: (\n    event: React.MouseEvent<HTMLTableRowElement, MouseEvent>,\n    rowIndex?: number,\n    row?: IRowData\n  ) => void;\n  rowDataTestId?: string;\n  loggedInUser?: string;\n};\n\nconst CustomRowWrapperContext = createContext<CustomRowWrapperContextProps>({\n  activeRow: '',\n  onRowClick: () => '',\n  loggedInUser: '',\n});\n\nexport const CustomRowWrapperProvider = CustomRowWrapperContext.Provider;\n\nexport const CustomRowWrapper = (\n  rowWrapperProps: RowWrapperProps\n): JSX.Element => {\n  const { activeRow, onRowClick, rowDataTestId } = useContext(\n    CustomRowWrapperContext\n  );\n  const { trRef, className, rowProps, row, ...props } = rowWrapperProps || {};\n  const { rowIndex } = rowProps || {};\n  const { isExpanded, originalData } = row || {};\n\n  return (\n    <tr\n      data-testid={rowDataTestId}\n      tabIndex={0}\n      ref={typeof trRef === 'function' ? undefined : trRef}\n      className={css(\n        className,\n        'pf-c-table-row__item',\n        activeRow &&\n          activeRow === originalData?.rowId &&\n          'pf-m-selected pf-m-selectable'\n      )}\n      hidden={isExpanded !== undefined && !isExpanded}\n      onClick={(event) => onRowClick && onRowClick(event, rowIndex, row)}\n      {...props}\n    />\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport {\n  TableHeader,\n  Table as PFTable,\n  TableBody,\n  TableProps as PFTableProps,\n  HeaderProps,\n  TableBodyProps,\n} from '@patternfly/react-table';\nimport { css } from '@patternfly/react-styles';\nimport {\n  CustomRowWrapper,\n  CustomRowWrapperProvider,\n  CustomRowWrapperContextProps,\n} from './CustomRowWrapper';\n\nexport type MASTableProps = CustomRowWrapperContextProps & {\n  tableProps: Omit<PFTableProps, 'children'> & {\n    shouldDefaultCustomRowWrapper?: boolean;\n  };\n  tableHeaderProps?: Omit<HeaderProps, 'children'>;\n  tableBodyProps?: Omit<TableBodyProps, 'children'>;\n  children?: React.ReactNode;\n};\n\nconst MASTable: FunctionComponent<MASTableProps> = ({\n  tableProps,\n  tableHeaderProps,\n  tableBodyProps,\n  children,\n  activeRow,\n  onRowClick,\n  rowDataTestId,\n  loggedInUser,\n}) => {\n  const {\n    cells,\n    rows,\n    actionResolver,\n    onSort,\n    sortBy,\n    'aria-label': ariaLabel,\n    variant,\n    className,\n    shouldDefaultCustomRowWrapper = false,\n    ...restProps\n  } = tableProps;\n\n  /**\n   * Handle CustomRowWrapper\n   */\n  if (shouldDefaultCustomRowWrapper) {\n    restProps['rowWrapper'] = CustomRowWrapper;\n  }\n\n  return (\n    <CustomRowWrapperProvider\n      value={{\n        activeRow,\n        onRowClick,\n        rowDataTestId,\n        loggedInUser,\n      }}\n    >\n      <PFTable\n        className={css(\n          shouldDefaultCustomRowWrapper && 'mas--table-view__table',\n          className\n        )}\n        cells={cells}\n        variant={variant}\n        rows={rows}\n        aria-label={ariaLabel}\n        actionResolver={actionResolver}\n        onSort={onSort}\n        sortBy={sortBy}\n        {...restProps}\n      >\n        <TableHeader {...tableHeaderProps} />\n        <TableBody {...tableBodyProps} />\n        {children}\n      </PFTable>\n    </CustomRowWrapperProvider>\n  );\n};\n\nexport { MASTable };\n","import React from 'react';\nimport { AclResourceType } from '@rhoas/kafka-instance-sdk';\n\nexport type GoofyLabelProps = {\n  variant: AclResourceType;\n};\n\nexport const GoofyLabel: React.FunctionComponent<GoofyLabelProps> = ({\n  variant,\n}) => {\n  const variantSwitch = (): { colorClass: string; content: string } => {\n    switch (variant) {\n      case AclResourceType.Group:\n        return { colorClass: 'pf-m-green', content: 'G' };\n        break;\n      case AclResourceType.Cluster:\n        return { colorClass: '', content: 'KI' };\n        break;\n      case AclResourceType.Topic:\n        return { colorClass: 'pf-m-blue', content: 'T' };\n        break;\n      case AclResourceType.TransactionalId:\n        return { colorClass: 'pf-m-orange', content: 'TI' };\n        break;\n    }\n  };\n  const { colorClass, content } = variantSwitch();\n  return (\n    <span className={`pf-c-label ${colorClass} mas-m-solid`}>\n      <span className='pf-c-label__content'>{content}</span>\n    </span>\n  );\n};\n","import { ICell } from '@patternfly/react-table';\nimport { useTranslation } from 'react-i18next';\nimport { InfoCircleIcon } from '@patternfly/react-icons';\nimport {\n  AclPatternType,\n  AclPermissionType,\n  AclResourceType,\n} from '@rhoas/kafka-instance-sdk';\nimport { Label, LabelGroup, Tooltip } from '@patternfly/react-core';\nimport { EnhancedAclBinding } from '@app/services/acls';\nimport React from 'react';\nimport { PrincipalType, usePrincipals } from '@rhoas/app-services-ui-shared';\nimport { sentenceCase } from 'sentence-case';\nimport { displayName } from '@app/modules/Permissions/utils';\nimport { GoofyLabel } from '@app/modules/Permissions/components/ManagePermissionsDialog/GoofyLabel';\n\nexport type CellBuilder<T extends EnhancedAclBinding> = (\n  item: T,\n  row: number\n) => ICell | string;\n\nconst AllAccountsPrincipal: React.FunctionComponent = () => {\n  const { t } = useTranslation();\n  return (\n    <>\n      <Label variant='outline'>{t('permission.table.all_accounts')}</Label>\n    </>\n  );\n};\n\ntype PrincipalWithTooltipProps = {\n  acl: EnhancedAclBinding;\n};\nconst PrincipalWithTooltip: React.FunctionComponent<PrincipalWithTooltipProps> =\n  ({ acl }) => {\n    const principals = usePrincipals().getAllPrincipals();\n\n    const locatedPrincipals = principals.filter((p) => p.id === acl.principal);\n\n    if (locatedPrincipals.length === 1) {\n      if (locatedPrincipals[0].principalType === PrincipalType.ServiceAccount) {\n        return (\n          <Tooltip\n            content={\n              <div>\n                Type: {locatedPrincipals[0].principalType} <br />\n              </div>\n            }\n          >\n            <span tabIndex={0}>\n              {' '}\n              {acl.principal} <InfoCircleIcon color='grey' />\n            </span>\n          </Tooltip>\n        );\n      } else {\n        return (\n          <Tooltip\n            content={\n              <div>\n                Type: {locatedPrincipals[0].principalType} <br />\n                Name: {locatedPrincipals[0].displayName} <br />\n                Email: {locatedPrincipals[0].emailAddress}\n              </div>\n            }\n          >\n            <span tabIndex={0}>\n              {' '}\n              {acl.principal} <InfoCircleIcon color='grey' />\n            </span>\n          </Tooltip>\n        );\n      }\n    }\n    return <span> {acl.principal}</span>;\n  };\n\nexport const principalCell: CellBuilder<EnhancedAclBinding> = (item) => {\n  switch (item.principal) {\n    case '*':\n      return {\n        title: <AllAccountsPrincipal />,\n        props: {},\n      };\n      break;\n    default:\n      return {\n        title: <PrincipalWithTooltip acl={item} />,\n        props: {},\n      };\n      break;\n  }\n};\n\nexport const permissionOperationCell: CellBuilder<EnhancedAclBinding> = (\n  item\n) => {\n  return {\n    title: (\n      <LabelGroup>\n        <Label variant='outline'>{sentenceCase(item.permission)}</Label>\n        <Label\n          variant='outline'\n          color={item.permission === AclPermissionType.Deny ? 'red' : undefined}\n        >\n          {sentenceCase(item.operation)}\n        </Label>\n      </LabelGroup>\n    ),\n    props: {},\n  } as ICell;\n};\n\nexport const resourceCell: CellBuilder<EnhancedAclBinding> = (item) => {\n  const PatternType: React.FunctionComponent = () => {\n    const { t } = useTranslation();\n    if (item.patternType === AclPatternType.Prefixed) {\n      return t('permission.cells.pattern_type_prefixed');\n    } else {\n      return t('permission.cells.pattern_type_literal');\n    }\n  };\n  if (item.resourceType === AclResourceType.Cluster) {\n    return {\n      title: (\n        <>\n          <GoofyLabel variant={item.resourceType} />{' '}\n          {displayName(item.resourceType)}\n        </>\n      ),\n    };\n  } else {\n    return {\n      title: (\n        <>\n          <GoofyLabel variant={item.resourceType} />{' '}\n          {displayName(item.resourceType)} <PatternType /> {item.resourceName}\n        </>\n      ),\n    };\n  }\n};\n","import { AclResourceType } from '@rhoas/kafka-instance-sdk';\nimport { sentenceCase } from 'sentence-case';\n\nexport const displayName = (resourceType: AclResourceType): string => {\n  switch (resourceType) {\n    case AclResourceType.Group:\n      return 'Consumer group';\n      break;\n    case AclResourceType.Topic:\n      return 'Topic';\n      break;\n    case AclResourceType.Cluster:\n      return 'Kafka instance';\n      break;\n    case AclResourceType.TransactionalId:\n      return 'Transactional ID';\n      break;\n    default:\n      return sentenceCase(resourceType);\n      break;\n  }\n};\n","import { AxiosResponse } from 'axios';\nimport {\n  AclBinding,\n  AclBindingListPage,\n  AclOperation,\n  AclOperationFilter,\n  AclPatternType,\n  AclPatternTypeFilter,\n  AclPermissionType,\n  AclPermissionTypeFilter,\n  AclResourceType,\n  AclResourceTypeFilter,\n  AclsApi,\n  Configuration,\n} from '@rhoas/kafka-instance-sdk';\nimport { IConfiguration } from '@app/contexts';\nimport objectHash from 'object-hash';\n\nexport type PermissionsService = {\n  getPermissions(\n    filter: AclFilter,\n    size?: number,\n    page?: number\n  ): Promise<EnhancedAclBindingListPage>;\n\n  addPermission(acl: AclBinding): Promise<void>;\n  deletePermission(acl: AclFilter): Promise<void>;\n  getResourceOperations(): Promise<{ [key: string]: Array<string> }>;\n};\n\nexport const convertEnum = <T extends { toString: () => string }, F>(\n  p: T,\n  filter: { [name: string]: unknown }\n): F => {\n  const [, v] =\n    Object.entries(filter).find(([, v]) => v === p.toString()) || [];\n  return v as F;\n};\n\nexport type EnhancedAclBinding = AclBinding & {\n  hash: () => string;\n};\n\nexport type EnhancedAclBindingListPage = Omit<AclBindingListPage, 'items'> & {\n  items?: Array<EnhancedAclBinding>;\n};\n\nexport type AclFilter = {\n  resourceType?: AclResourceTypeFilter;\n  resourceName?: string;\n  patternType?: AclPatternTypeFilter;\n  principal?: string;\n  operation?: AclOperationFilter;\n  permissionType?: AclPermissionTypeFilter;\n};\n\nexport const usePermissionsService = (\n  config: IConfiguration | undefined\n): PermissionsService => {\n  const getPermissions = async (\n    filter: AclFilter,\n    size?: number,\n    page?: number\n  ): Promise<EnhancedAclBindingListPage> => {\n    const accessToken = await config?.getToken();\n\n    const api = new AclsApi(\n      new Configuration({\n        accessToken,\n        basePath: config?.basePath,\n      })\n    );\n    const response: AxiosResponse<AclBindingListPage> = await api.getAcls(\n      filter.resourceType,\n      filter.resourceName,\n      filter.patternType,\n      filter.principal,\n      filter.operation,\n      filter.permissionType,\n      page,\n      size\n    );\n    return enhanceAclBindingListPage(response);\n  };\n\n  const addPermission = async (acl: AclBinding) => {\n    const accessToken = await config?.getToken();\n    const api = new AclsApi(\n      new Configuration({\n        accessToken,\n        basePath: config?.basePath,\n      })\n    );\n    await api.createAcl(acl);\n  };\n\n  const deletePermission = async (acl: AclFilter) => {\n    const accessToken = await config?.getToken();\n    const api = new AclsApi(\n      new Configuration({\n        accessToken,\n        basePath: config?.basePath,\n      })\n    );\n    await api.deleteAcls(\n      acl.resourceType,\n      acl.resourceName,\n      acl.patternType,\n      acl.principal,\n      acl.operation,\n      acl.permissionType\n    );\n  };\n\n  const getResourceOperations = async () => {\n    const accessToken = await config?.getToken();\n    const api = new AclsApi(\n      new Configuration({\n        accessToken,\n        basePath: config?.basePath,\n      })\n    );\n    return await api\n      .getAclResourceOperations()\n      .then((response) => response.data);\n  };\n\n  return {\n    getPermissions,\n    addPermission,\n    deletePermission,\n    getResourceOperations,\n  } as PermissionsService;\n};\n\nconst enhanceAclBindingListPage = (\n  response: AxiosResponse<AclBindingListPage>\n): EnhancedAclBindingListPage => {\n  return {\n    total: response.data.total,\n    size: response.data.size,\n    page: response.data.page,\n    items: response.data.items\n      ?.map((item) => {\n        return {\n          ...item,\n          // Strip out the \"User:\" prefix\n          principal: item.principal.substring(5),\n          toString: () => {\n            return `${item.principal} ${item.permission} ${item.operation} ${item.patternType} ${item.resourceType} ${item.resourceName}`;\n          },\n          hash: () => {\n            return objectHash(item);\n          },\n        } as EnhancedAclBinding;\n      })\n      .sort((a, b) => {\n        if (a.permission !== b.permission) {\n          if (a.permission === 'DENY') {\n            return -1;\n          } else {\n            return 1;\n          }\n        } else if (a.principal !== b.principal) {\n          return a.principal.localeCompare(b.principal);\n        } else if (a.resourceType !== b.resourceType) {\n          return a.resourceType.localeCompare(b.resourceType);\n        } else if (a.resourceName !== b.resourceName) {\n          return a.resourceName.localeCompare(b.resourceName);\n        } else if (a.operation !== b.operation) {\n          return a.operation.localeCompare(b.operation);\n        } else {\n          return 0;\n        }\n      }),\n  } as EnhancedAclBindingListPage;\n};\n\nexport const getPermissionsTypes = (): AclPermissionType[] => {\n  return Object.values(AclPermissionType);\n};\n\nexport const getOperations = (): AclOperation[] => {\n  return Object.values(AclOperation);\n};\n\nexport const getResourceTypes = (): AclResourceType[] => {\n  return Object.values(AclResourceType);\n};\n\nexport const getPatternTypes = (): AclPatternType[] => {\n  return Object.values(AclPatternType);\n};\n"],"names":["CustomRowWrapperContext","createContext","activeRow","onRowClick","loggedInUser","CustomRowWrapperProvider","Provider","CustomRowWrapper","rowWrapperProps","useContext","rowDataTestId","trRef","className","rowProps","row","props","rowIndex","isExpanded","originalData","tabIndex","ref","undefined","css","rowId","hidden","onClick","event","MASTable","tableProps","tableHeaderProps","tableBodyProps","children","cells","rows","actionResolver","onSort","sortBy","ariaLabel","variant","shouldDefaultCustomRowWrapper","restProps","value","TableHeader","TableBody","GoofyLabel","AclResourceType","colorClass","content","variantSwitch","AllAccountsPrincipal","t","useTranslation","Label","PrincipalWithTooltip","acl","locatedPrincipals","usePrincipals","getAllPrincipals","filter","p","id","principal","length","principalType","PrincipalType","Tooltip","InfoCircleIcon","color","displayName","emailAddress","principalCell","item","title","permissionOperationCell","LabelGroup","sentenceCase","permission","AclPermissionType","operation","resourceCell","resourceType","patternType","AclPatternType","resourceName","convertEnum","Object","entries","find","toString","usePermissionsService","config","getPermissions","size","page","Promise","getToken","accessToken","AclsApi","Configuration","basePath","getAcls","permissionType","response","enhanceAclBindingListPage","addPermission","createAcl","deletePermission","deleteAcls","getResourceOperations","getAclResourceOperations","then","data","total","items","map","substring","hash","sort","a","b","localeCompare","getPermissionsTypes","values","getOperations","AclOperation","getResourceTypes","getPatternTypes"],"sourceRoot":""}