/*!
 * Copyright Strimzi authors.
 * License: Apache License 2.0 (see the file LICENSE or http://apache.org/licenses/LICENSE-2.0.html).
 *
 */
(self.webpackChunkstrimzi_ui=self.webpackChunkstrimzi_ui||[]).push([[658],{5183:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createIcon=t.getSize=t.IconSize=void 0;const a=n(655),r=a.__importStar(n(2491));var l;!function(e){e.sm="sm",e.md="md",e.lg="lg",e.xl="xl"}(l=t.IconSize||(t.IconSize={})),t.getSize=e=>{switch(e){case l.sm:return"1em";case l.md:return"1.5em";case l.lg:return"2em";case l.xl:return"3em";default:return"1em"}};let i=0;t.createIcon=function createIcon({name:e,xOffset:n=0,yOffset:o=0,width:c,height:s,svgPath:u}){var p;return(p=class SVGIcon extends r.Component{constructor(){super(...arguments),this.id="icon-title-"+i++}render(){const e=this.props,{size:l,color:i,title:p,noVerticalAlign:f}=e,h=a.__rest(e,["size","color","title","noVerticalAlign"]),m=Boolean(p),d=t.getSize(l),v=-.125*Number.parseFloat(d),b=f?null:{verticalAlign:v+"em"},g=[n,o,c,s].join(" ");return r.createElement("svg",Object.assign({style:b,fill:i,height:d,width:d,viewBox:g,"aria-labelledby":m?this.id:null,"aria-hidden":!m||null,role:"img"},h),m&&r.createElement("title",{id:this.id},p),r.createElement("path",{d:u}))}}).displayName=e,p.defaultProps={color:"currentColor",size:l.sm,noVerticalAlign:!1},p}},777:(e,t,n)=>{"use strict";t.lb={name:"PlusCircleIcon",height:512,width:512,svgPath:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z",yOffset:0,xOffset:0},t.wl=n(5183).createIcon(t.lb),t.ZP=t.wl},1070:(e,t,n)=>{"use strict";t.xQ={name:"SearchIcon",height:512,width:512,svgPath:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z",yOffset:0,xOffset:0},t.W1=n(5183).createIcon(t.xQ),t.ZP=t.W1},3020:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FederatedTopics:()=>FederatedTopics,default:()=>h});var a=n(2491),r=n.n(a),l=(n(8482),n(7345)),i=n(8443),SearchTopics=function(e){var t=e.search,n=e.setSearch,a=e.onClear;return r().createElement(l.InputGroup,null,r().createElement(l.SearchInput,{name:"searchName",id:"search-topics-input",type:"search","aria-label":"search input ",placeholder:"Search",value:t,onChange:function(e){n(e)},onClear:function(){a(),n("")}}))},o=n(777),EmptyTopics=function(e){var t=e.onCreateTopic;return r().createElement(l.EmptyState,null,r().createElement(l.EmptyStateIcon,{icon:o.ZP}),r().createElement(l.Title,{headingLevel:"h5",size:"lg"},"You don't have any topics yet"),r().createElement(l.EmptyStateBody,null,"Create a topic by clicking the button below to get started"),r().createElement(l.Button,{variant:"primary",className:"topics-empty-page",onClick:t},"Create Topic"))},c=n(1070),EmptySearch=function(){return r().createElement(l.EmptyState,null,r().createElement(l.EmptyStateIcon,{icon:c.ZP}),r().createElement(l.Title,{headingLevel:"h5",size:"lg"},"No results found"),r().createElement(l.EmptyStateBody,null,"No result match the filter criteria. Remove filter or clear all filters to show results"))},s=n(7446),u=function(){function Configuration(e){void 0===e&&(e={}),this.apiKey=e.apiKey,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.baseOptions=e.baseOptions,this.formDataCtor=e.formDataCtor}return Configuration.prototype.isJsonMime=function(e){var t=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==e&&(t.test(e)||"application/json-patch+json"===e.toLowerCase())},Configuration}(),__awaiter=function(e,t,n,a){return new(n||(n=Promise))((function(r,l){function fulfilled(e){try{step(a.next(e))}catch(t){l(t)}}function rejected(e){try{step(a.throw(e))}catch(t){l(t)}}function step(e){e.done?r(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((a=a.apply(e,t||[])).next())}))},__generator=function(e,t){var n,a,r,l,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function verb(l){return function(o){return function step(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){i.label=l[1];break}if(6===l[0]&&i.label<r[1]){i.label=r[1],r=l;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(l);break}r[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(o){l=[6,o],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}},getTopics=function(e){return __awaiter(void 0,void 0,void 0,(function(){var t;return __generator(this,(function(n){switch(n.label){case 0:return[4,null==e?void 0:e.getToken()];case 1:return t=n.sent(),[4,new s.M2(new u({accessToken:t,basePath:null==e?void 0:e.basePath})).getTopicsList()];case 2:return[2,n.sent().data]}}))}))},p=n(69),DeleteTopics=function(e){var t=e.setDeleteModal,n=e.deleteModal,i=e.topicName,onClose=function(){t(!1)},o=(0,a.useContext)(p.E);return r().createElement(l.Modal,{variant:l.ModalVariant.small,isOpen:n,"aria-label":"Modal warning example",title:" Delete Topic  ?",titleIconVariant:"warning",showClose:!0,"aria-describedby":"no-header-example",onClose:onClose},r().createElement(l.Text,null," The Topic will be deleted "),r().createElement("br",null),r().createElement(l.Flex,null,r().createElement(l.FlexItem,null,r().createElement(l.Button,{variant:"danger",onClick:function(){i&&function(e,t){__awaiter(void 0,void 0,void 0,(function(){var n;return __generator(this,(function(a){switch(a.label){case 0:return[4,null==t?void 0:t.getToken()];case 1:return n=a.sent(),[4,new s.M2(new u({accessToken:n,basePath:null==t?void 0:t.basePath})).deleteTopic(e)];case 2:return a.sent(),[2]}}))}))}(i,o)}},"Delete Topic")),r().createElement(l.FlexItem,null,r().createElement(l.Button,{variant:"link",onClick:onClose},"Cancel"))))},f=n(5977),__assign=function(){return(__assign=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},TopicsList_patternfly_awaiter=function(e,t,n,a){return new(n||(n=Promise))((function(r,l){function fulfilled(e){try{step(a.next(e))}catch(t){l(t)}}function rejected(e){try{step(a.throw(e))}catch(t){l(t)}}function step(e){e.done?r(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((a=a.apply(e,t||[])).next())}))},TopicsList_patternfly_generator=function(e,t){var n,a,r,l,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function verb(l){return function(o){return function step(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){i.label=l[1];break}if(6===l[0]&&i.label<r[1]){i.label=r[1],r=l;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(l);break}r[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(o){l=[6,o],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}},TopicsListComponent=function(e){var t,n=e.onCreateTopic,o=(0,a.useState)(1),c=o[0],s=o[1],u=(0,a.useState)(10),h=u[0],m=u[1],d=(0,a.useState)(0),v=d[0],b=d[1],g=(0,a.useState)(""),E=g[0],y=g[1],w=(0,a.useState)(),C=w[0],S=w[1],T=(0,a.useState)(),P=T[0],k=T[1],x=(0,a.useState)(!1),I=x[0],z=x[1],M=(0,f.k6)(),O=(0,a.useContext)(p.E);(0,a.useEffect)((function(){TopicsList_patternfly_awaiter(void 0,void 0,void 0,(function(){var e;return TopicsList_patternfly_generator(this,(function(t){switch(t.label){case 0:return[4,getTopics(O)];case 1:return(e=t.sent())&&(S(e),k(e)),[2]}}))}))}),[]);var onSetPage=function(e,t){s(t),b(c*h)},onPerPageSelect=function(e,t){m(t)},j=(null===(t=null==P?void 0:P.items)||void 0===t?void 0:t.map((function(e){return[{title:r().createElement(l.Button,{variant:"link",onClick:function(){return function(e){M.push("/topics/consumerGroups/"+e)}(e&&e.name&&e.name.toString()||"")}},null==e?void 0:e.name)}]})))||[];(0,a.useEffect)((function(){if(E&&""!=E.trim()&&(null==C?void 0:C.items)&&C.items.length>0){var e=null==C?void 0:C.items.filter((function(e){return(null==e?void 0:e.name)&&e.name.includes(E)}));k((function(t){return t?__assign(__assign({},t),{items:e}):void 0}))}else k(C)}),[E]);var B=[{title:"Delete",onClick:function(){z(!0)}},{title:"Edit"}];return r().createElement(r().Fragment,null,r().createElement(l.Title,{headingLevel:"h2",size:"lg"},"Topics"),I&&r().createElement(DeleteTopics,{setDeleteModal:z,deleteModal:I}),j.length<1&&E.length<1?r().createElement(EmptyTopics,{onCreateTopic:n}):r().createElement(l.Card,null,r().createElement(l.Toolbar,null,r().createElement(l.ToolbarContent,null,r().createElement(l.ToolbarItem,null,r().createElement(SearchTopics,{onClear:function(){k(C)},search:E,setSearch:y})),r().createElement(l.ToolbarItem,null,r().createElement(l.Button,{id:"topic-list-create-topic-button",className:"topics-per-page",onClick:function(){n()}},"Create topic")),r().createElement(l.ToolbarItem,{variant:"pagination"},r().createElement(l.Pagination,{itemCount:j.length,perPage:h,page:c,onSetPage:onSetPage,widgetId:"topic-list-pagination-top",onPerPageSelect:onPerPageSelect})))),r().createElement(l.Divider,null),r().createElement(i.Table,{"aria-label":"Compact Table",variant:i.TableVariant.compact,cells:[{title:"Name"},{title:"Replicas"},{title:"Partitions"}],rows:1!=c?j.slice(v,v+h):j.slice(0,h),actions:B},r().createElement(i.TableHeader,null),r().createElement(i.TableBody,null))),j.length<1&&E.length>1&&r().createElement(EmptySearch,null),j.length>1&&r().createElement(l.Pagination,{itemCount:j.length,perPage:h,page:c,onSetPage:onSetPage,widgetId:"topic-list-pagination-bottom",onPerPageSelect:onPerPageSelect,offset:0}))},FederatedTopics=function(e){var t=e.getToken,n=e.apiBasePath,a=e.onCreateTopic;return r().createElement(p.E.Provider,{value:{basePath:n,getToken:t}},r().createElement(l.PageSection,{variant:l.PageSectionVariants.light},r().createElement(TopicsListComponent,{onCreateTopic:a})))};const h=FederatedTopics}}]);