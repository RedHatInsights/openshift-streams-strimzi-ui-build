{"version":3,"file":"16.93264ddc.bundle.js","mappings":"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","sources":["webpack://kafka-ui/./src/components/KafkaModal/ModalContext.tsx","webpack://kafka-ui/./src/components/KafkaModal/ModalTypes.ts","webpack://kafka-ui/./src/components/MASLoading/MASLoading.tsx","webpack://kafka-ui/./src/contexts/Api/Context.tsx","webpack://kafka-ui/./src/contexts/federated.ts","webpack://kafka-ui/./src/i18n/locale/index.ts","webpack://kafka-ui/./src/i18n/index.ts","webpack://kafka-ui/./src/utils/common.ts"],"sourcesContent":["import React, { createContext, useContext, useState } from 'react';\nimport { MASLoading } from '@app/components';\nimport {\n  BaseModalProps,\n  ModalType,\n  ModalTypeComponentsMap,\n  ModalTypePropsMap,\n} from '@app/components/KafkaModal/ModalTypes';\n\nexport type ModalContextProps<T extends ModalType> = {\n  showModal: (modalType: T, modalProps?: ModalTypePropsMap[T]) => void;\n  hideModal: () => void;\n};\n\ntype ActiveModalProps<T extends ModalType> = {\n  modalType: T;\n  modalProps: ModalTypePropsMap[T];\n};\n\ntype ModalProps = {\n  activeModal?: ActiveModalProps<ModalType>;\n  hideModal: () => void;\n};\n\nexport const ModalContext = createContext<\n  ModalContextProps<ModalType> | undefined\n>(undefined);\n\nexport const useModal = <T extends ModalType>(): ModalContextProps<T> => {\n  return (\n    useContext(ModalContext) ||\n    ({\n      hideModal: Function.prototype,\n      showModal: Function.prototype,\n    } as ModalContextProps<T>)\n  );\n};\n\nconst Modal: React.FunctionComponent<ModalProps> = ({\n  activeModal,\n  hideModal,\n}) => {\n  const loadModal = <T extends ModalType>(\n    modalType: T\n  ): React.LazyExoticComponent<\n    React.FunctionComponent<ModalTypePropsMap[T] & BaseModalProps>\n  > => {\n    return ModalTypeComponentsMap[modalType] as React.LazyExoticComponent<\n      React.FunctionComponent<ModalTypePropsMap[T] & BaseModalProps>\n    >;\n  };\n\n  if (activeModal === undefined) {\n    return <></>;\n  }\n\n  const ModalComponent = loadModal(activeModal.modalType);\n  return (\n    <React.Suspense fallback={<MASLoading />}>\n      <ModalComponent\n        hideModal={hideModal}\n        id='root-modal'\n        {...activeModal.modalProps}\n      />\n    </React.Suspense>\n  );\n};\n\nexport const ModalProvider: React.FunctionComponent = ({ children }) => {\n  const [activeModal, setActiveModal] = useState<\n    ActiveModalProps<ModalType> | undefined\n  >();\n\n  const modalProps: ModalContextProps<any> = {\n    hideModal: () => {\n      setActiveModal(undefined);\n    },\n\n    showModal: (modalType, modalProps) => {\n      setActiveModal({\n        modalType,\n        modalProps,\n      });\n    },\n  };\n\n  return (\n    <>\n      <Modal activeModal={activeModal} hideModal={modalProps.hideModal} />\n      <ModalContext.Provider value={modalProps}>\n        {children}\n      </ModalContext.Provider>\n    </>\n  );\n};\n","import {\n  DeleteTopicProps,\n  PartitionsChangeProps,\n} from '@app/modules/Topics/dialogs';\nimport { DeleteConsumerGroupProps } from '@app/modules/ConsumerGroups/dialogs';\nimport React from 'react';\n\n// The available types of modal\nexport enum ModalType {\n  DeleteTopic,\n  DeleteConsumerGroup,\n  UpdatePartitions,\n}\n\n// A map of modal types to their props\nexport interface ModalTypePropsMap {\n  [ModalType.DeleteTopic]: DeleteTopicProps;\n  [ModalType.UpdatePartitions]: PartitionsChangeProps;\n  [ModalType.DeleteConsumerGroup]: DeleteConsumerGroupProps;\n}\n\n// Properties available to all Modal components\nexport type BaseModalProps = {\n  id: string;\n  hideModal: () => void;\n};\n\n// A map of modal components to their lazy loaded implementations\nexport const ModalTypeComponentsMap: {\n  [T in ModalType]: React.LazyExoticComponent<\n    React.FunctionComponent<ModalTypePropsMap[T] & BaseModalProps>\n  >;\n} = {\n  [ModalType.DeleteTopic]: React.lazy(\n    () => import('@app/modules/Topics/dialogs/DeleteTopic/DeleteTopic')\n  ) as React.LazyExoticComponent<React.FunctionComponent<DeleteTopicProps>>,\n  [ModalType.UpdatePartitions]: React.lazy(\n    () =>\n      import('@app/modules/Topics/dialogs/PartitionsChange/PartitionsChange')\n  ) as React.LazyExoticComponent<\n    React.FunctionComponent<PartitionsChangeProps>\n  >,\n  [ModalType.DeleteConsumerGroup]: React.lazy(\n    () =>\n      import(\n        '@app/modules/ConsumerGroups/dialogs/DeleteConsumerGroup/DeleteConsumerGroup'\n      )\n  ) as React.LazyExoticComponent<\n    React.FunctionComponent<DeleteConsumerGroupProps>\n  >,\n};\n","import React from 'react';\nimport {\n  Bullseye,\n  BullseyeProps,\n  Spinner,\n  SpinnerProps,\n} from '@patternfly/react-core';\n\nexport type MASLoadingProps = {\n  bullseyeProps?: Omit<BullseyeProps, 'children'>;\n  spinnerProps?: SpinnerProps;\n};\n\nexport const MASLoading: React.FunctionComponent<MASLoadingProps> = ({\n  bullseyeProps,\n  spinnerProps,\n}: MASLoadingProps) => (\n  <Bullseye {...bullseyeProps}>\n    <Spinner {...spinnerProps} />\n  </Bullseye>\n);\n","import React from 'react';\n\nexport type IConfiguration = {\n  basePath: string;\n  getToken: () => Promise<string>;\n};\n\nexport const ConfigContext = React.createContext<IConfiguration | undefined>(\n  undefined\n);\n","import React, { useContext } from 'react';\n\nexport type FederatedProps = {\n  onConnectToRoute?: (routePath: string) => void;\n  getConnectToRoutePath?: (routePath: string, key?: string) => string;\n  activeTab?: number;\n  kafkaName?: string;\n  kafkaPageLink?: string;\n  kafkaInstanceLink?: string;\n  topicName?: string;\n  onError?: (errorCode: number, message?: string) => void;\n  handleInstanceDrawer?: (isOpen: boolean, activeTab?: string) => void;\n  setIsOpenDeleteInstanceModal?: (isOpenModal: boolean) => void;\n  dispatchKafkaAction?: (\n    action: string,\n    topicName?: string | undefined\n  ) => void;\n  showMetrics?: () => JSX.Element | undefined;\n};\n\nconst initialState: FederatedProps = {\n  onConnectToRoute: () => '',\n  getConnectToRoutePath: () => '',\n  activeTab: 0,\n  kafkaName: '',\n  kafkaPageLink: '',\n  kafkaInstanceLink: '',\n  topicName: '',\n  onError: () => '',\n  handleInstanceDrawer: () => '',\n  setIsOpenDeleteInstanceModal: () => '',\n  dispatchKafkaAction: () => '',\n  showMetrics: () => undefined,\n};\n\nexport const FederatedContext =\n  React.createContext<FederatedProps>(initialState);\nexport const useFederated = (): FederatedProps => useContext(FederatedContext);\n","import en from './en.json';\nimport de from './de.json';\n\nexport const resources = {\n  en: {\n    translation: en,\n  },\n  de: {\n    translation: de,\n  },\n};\n","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport { resources } from './locale';\n// don't want to use this?\n// have a look at the Quick start guide\n// for passing in lng and translations on init\n\nconst kafkai18n = i18n.createInstance();\n\nkafkai18n\n  // pass the i18n instance to react-i18next.\n  .use(initReactI18next)\n  .use(LanguageDetector)\n  // init i18next\n  // for all options read: https://www.i18next.com/overview/configuration-options\n  .init({\n    detection: {\n      order: ['htmlTag', 'navigator'],\n      caches: [],\n    },\n    fallbackLng: 'en',\n    debug: true,\n\n    interpolation: {\n      escapeValue: false, // not needed for react as it escapes by default\n    },\n    resources,\n  });\n\nexport default kafkai18n;\n","export interface FederatedProps {\n  onError: (errorCode: number, message: string) => void;\n}\n\nexport enum KafkaActions {\n  ViewTopics = 'ViewTopics',\n  CreateTopic = 'CreateTopic',\n  DetailsTopic = 'DetailsTopic',\n  UpdateTopic = 'UpdateTopic',\n}\n\nexport const convertRetentionTime = (milliseconds: number): string => {\n  let convertedValue;\n  if (milliseconds === -1) {\n    return 'Unlimited';\n  } else if (milliseconds < 60000) {\n    if (milliseconds === 1) return milliseconds + ' ' + 'millisecond';\n    else return milliseconds + ' ' + 'milliseconds';\n  } else if (milliseconds >= 60000 && milliseconds < 3.6e6) {\n    convertedValue = milliseconds / 60000;\n    convertedValue = Math.round(convertedValue * 100) / 100;\n    if (convertedValue === 1) return convertedValue + ' ' + 'minute';\n    else return convertedValue + ' ' + 'minutes';\n  } else if (milliseconds >= 3.6e6 && milliseconds < 1.728e8) {\n    convertedValue = milliseconds / 3.6e6;\n    convertedValue = Math.round(convertedValue * 100) / 100;\n    if (convertedValue === 1) return convertedValue + ' ' + 'hour';\n    else return convertedValue + ' ' + 'hours';\n  } else if (milliseconds >= 1.728e8) {\n    convertedValue = milliseconds / 8.64e7;\n    convertedValue = Math.round(convertedValue * 100) / 100;\n    return convertedValue + ' ' + 'days';\n  }\n  return milliseconds.toString();\n};\n\nexport const convertRetentionSize = (byte: number): string => {\n  let convertedByteValue;\n  if (byte === -1) {\n    return 'Unlimited';\n  } else if (Math.abs(byte) < 1024) {\n    if (byte === 1) return byte + ' ' + 'byte';\n    else return byte + ' ' + 'bytes';\n  } else if (Math.abs(byte) >= 1024 && Math.abs(byte) < 1048576) {\n    convertedByteValue = byte / 1024;\n    if (convertedByteValue === 1) return convertedByteValue + ' ' + 'kibibyte';\n    else return convertedByteValue + ' ' + 'kibibytes';\n  } else if (Math.abs(byte) >= 1048576 && Math.abs(byte) < 1073741824) {\n    convertedByteValue = byte / 1048576;\n    if (convertedByteValue === 1) return convertedByteValue + ' ' + 'mebibyte';\n    else return convertedByteValue + ' ' + 'mebibytes';\n  } else if (Math.abs(byte) >= 1073741824 && Math.abs(byte) < 1.0995116e12) {\n    convertedByteValue = byte / 1073741824;\n    if (convertedByteValue === 1) return convertedByteValue + ' ' + 'gibibyte';\n    else return convertedByteValue + ' ' + 'gibibytes';\n  } else if (Math.abs(byte) >= 1.0995116e12) {\n    convertedByteValue = byte / 1.0995116e12;\n    if (convertedByteValue === 1) return convertedByteValue + ' ' + 'tebibyte';\n    else return convertedByteValue + ' ' + 'tebibytes';\n  }\n  return byte.toString();\n};\n"],"names":["ModalContext","createContext","undefined","useModal","useContext","hideModal","Function","prototype","showModal","Modal","activeModal","modalType","ModalComponent","fallback","id","modalProps","ModalProvider","children","useState","setActiveModal","Provider","value","ModalType","ModalTypeComponentsMap","DeleteTopic","UpdatePartitions","DeleteConsumerGroup","MASLoading","bullseyeProps","spinnerProps","Bullseye","Spinner","ConfigContext","initialState","onConnectToRoute","getConnectToRoutePath","activeTab","kafkaName","kafkaPageLink","kafkaInstanceLink","topicName","onError","handleInstanceDrawer","setIsOpenDeleteInstanceModal","dispatchKafkaAction","showMetrics","FederatedContext","useFederated","resources","en","translation","de","kafkai18n","use","initReactI18next","init","detection","order","caches","fallbackLng","debug","interpolation","escapeValue","KafkaActions","convertRetentionTime","milliseconds","convertedValue","Math","round","toString","convertRetentionSize","byte","convertedByteValue","abs"],"sourceRoot":""}