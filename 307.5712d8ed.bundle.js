(self.webpackChunkkafka_ui=self.webpackChunkkafka_ui||[]).push([[307],{777:(e,t,n)=>{"use strict";t.lb={name:"PlusCircleIcon",height:512,width:512,svgPath:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z",yOffset:0,xOffset:0},t.wl=n(5183).createIcon(t.lb),t.ZP=t.wl},1070:(e,t,n)=>{"use strict";t.xQ={name:"SearchIcon",height:512,width:512,svgPath:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z",yOffset:0,xOffset:0},t.W1=n(5183).createIcon(t.xQ),t.ZP=t.W1},6351:()=>{},7955:(e,t,n)=>{"use strict";n.d(t,{g:()=>i});var r=n(7522),a=n.n(r),o=n(3004),i=function(){return a().createElement(o.Bullseye,null,a().createElement(o.Spinner,null))}},3526:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(7522),a=(n(3004),(0,r.createContext)({}))},9058:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var r=n(7522),a=function(e,t){var n=(0,r.useRef)();(0,r.useEffect)((function(){n.current=e}),[e]),(0,r.useEffect)((function(){if(null!==t){var e=setTimeout((function(){n.current()}),t);return function(){clearInterval(e)}}}),[e,t])}},699:(e,t,n)=>{"use strict";n.d(t,{i:()=>u});var r=n(7522),a=n.n(r),o=n(3004),i=n(9492),l=n(9115),c=n(3526),u=function(e){var t=e.setDeleteModal,n=e.deleteModal,u=e.topicName,s=e.onDeleteTopic,d=(0,r.useState)(""),f=d[0],v=d[1],p=(0,r.useContext)(c.w).addAlert,h=function(){t(!1)},m=(0,r.useContext)(l.E);return a().createElement(o.Modal,{variant:o.ModalVariant.small,isOpen:n,"aria-label":"Delete topic?",title:"Delete topic?",titleIconVariant:"warning",showClose:!0,"aria-describedby":"modal-message",onClose:h,actions:[a().createElement(o.Button,{variant:"danger",onClick:function(){return e=void 0,n=void 0,a=function(){var e;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),u?[4,(0,i.BK)(u,m)]:[3,2];case 1:n.sent(),n.label=2;case 2:return p("Successfully deleted topic "+u,o.AlertVariant.success),[3,4];case 3:return e=n.sent(),p(e.response.data.error,o.AlertVariant.danger),[3,4];case 4:return s(),t(!1),[2]}}))},new((r=void 0)||(r=Promise))((function(t,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function l(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,l)}c((a=a.apply(e,n||[])).next())}));var e,n,r,a},key:1,isDisabled:"DELETE"!=f.toUpperCase()},"Delete"),a().createElement(o.Button,{variant:"link",onClick:h,key:2},"Cancel")]},a().createElement(o.Text,{id:"modal-message"}," ",a().createElement("b",null,u)," will be deleted."," "),a().createElement("br",null),a().createElement("label",{htmlFor:"delete-text-input"},"Type DELETE to confirm:"),a().createElement(o.TextInput,{value:f,id:"delete-text-input",name:"delete-text-input",type:"text",onChange:function(e){v(e)},autoFocus:!0}))}},8613:(e,t,n)=>{"use strict";n.d(t,{c:()=>l});var r=n(7522),a=n.n(r),o=n(3004),i=n(1070),l=function(){return a().createElement(o.EmptyState,null,a().createElement(o.EmptyStateIcon,{icon:i.ZP}),a().createElement(o.Title,{headingLevel:"h5",size:"lg"},"No results found"),a().createElement(o.EmptyStateBody,null,"No result match the filter criteria. Remove filter or clear all filters to show results"))}},1307:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FederatedTopics:()=>T,default:()=>k});var r=n(7522),a=n.n(r),o=(n(6351),n(3004)),i=n(6401),l=n(9058),c=function(e){var t=e.search,n=e.setSearch,r=e.onClear;return a().createElement(o.InputGroup,null,a().createElement(o.SearchInput,{name:"searchName",id:"search-topics-input",type:"search","aria-label":"search input ",placeholder:"Search",value:t,onChange:function(e){n(e)},onClear:function(){r(),n("")}}))},u=n(777),s=function(e){var t=e.onCreateTopic;return a().createElement(o.EmptyState,null,a().createElement(o.EmptyStateIcon,{icon:u.ZP}),a().createElement(o.Title,{headingLevel:"h5",size:"lg"},"You don't have any topics yet"),a().createElement(o.EmptyStateBody,null,"Create a topic by clicking the button below to get started"),a().createElement(o.Button,{variant:"primary",className:"topics-empty-page",onClick:t},"Create Topic"))},d=n(8613),f=n(9492),v=n(699),p=n(9115),h=n(7955),m=n(3526),b=n(7194),g=function(){return(g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},y=function(e){var t,n=e.onCreateTopic,u=e.getTopicDetailsPath,y=e.onClickTopic,E=e.onDeleteTopic,w=e.onError,T=(0,r.useState)(!0),k=T[0],P=T[1],C=(0,r.useState)(1),S=C[0],x=C[1],M=(0,r.useState)(10),D=M[0],B=M[1],I=(0,r.useState)(0),V=I[0],N=I[1],K=(0,r.useState)(""),O=K[0],z=K[1],A=(0,r.useState)(),L=A[0],R=A[1],F=(0,r.useState)(),Z=F[0],G=F[1],U=(0,r.useState)(!1),j=U[0],H=U[1],Q=(0,r.useState)(),W=Q[0],_=Q[1],Y=(0,r.useContext)(m.w).addAlert,q=(0,r.useContext)(p.E),J=function(){return e=void 0,t=void 0,r=function(){var e,t;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,f.BB)(q)];case 1:return(e=n.sent())&&(R(e),G(e)),[3,3];case 2:return t=n.sent(),w&&401===t.response.data.code?w(t.response.data.code,t.response.data.error):Y(t.response.data.error,o.AlertVariant.danger),[3,3];case 3:return P(!1),[2]}}))},new((n=void 0)||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r};(0,r.useEffect)((function(){P(!0),J()}),[j]),(0,l.K)((function(){return J()}),5e3);var X=function(e,t){x(t),N(S*D)},$=function(e,t){B(t)},ee=[{title:"Name"},{title:"Partitions",transforms:[i.sortable]},{title:"Retention Time",transforms:[i.sortable]},{title:"Retention Size",transforms:[i.sortable]}],te=(null===(t=null==Z?void 0:Z.items)||void 0===t?void 0:t.map((function(e){var t,n,r,o,i,l,c,s,d;return[{title:a().createElement(b.Link,{to:u(e.name),onClick:function(t){t.preventDefault(),y(e.name)}},null==e?void 0:e.name)},null===(t=e.partitions)||void 0===t?void 0:t.length,(s=Number((null===(r=null===(n=e.config)||void 0===n?void 0:n.filter((function(e){return"retention.ms"===e.key}))[0])||void 0===r?void 0:r.value)||0),-1===s?"Unlimited":s<6e4?1===s?s+" millisecond":s+" milliseconds":s>=6e4&&s<36e5?(d=s/6e4,1==(d=Math.round(100*d)/100)?d+" minute":d+" minutes"):s>=36e5&&s<1728e5?(d=s/36e5,1==(d=Math.round(100*d)/100)?d+" hour":d+" hours"):s>=1728e5?(d=s/864e5,(d=Math.round(100*d)/100)+" days"):void 0),(l=Number((null===(i=null===(o=e.config)||void 0===o?void 0:o.filter((function(e){return"retention.bytes"===e.key}))[0])||void 0===i?void 0:i.value)||0),-1===l?"Unlimited":Math.abs(l)<1e3?1===l?l+" byte":l+" bytes":Math.abs(l)>=1e3&&Math.abs(l)<1e6?1==(c=l/1e3)?c+" kilobyte":c+" kilobytes":Math.abs(l)>=1e6&&Math.abs(l)<1e9?1==(c=l/1e6)?c+" megabyte":c+" megabytes":Math.abs(l)>=1e9&&Math.abs(l)<1e12?1==(c=l/1e9)?c+" gigabyte":c+" gigabytes":Math.abs(l)>=1e12?1==(c=l/1e12)?c+" terabyte":c+" terabytes":void 0)]})))||[];(0,r.useEffect)((function(){if(O&&""!=O.trim()&&(null==L?void 0:L.items)&&L.items.length>0){var e=null==L?void 0:L.items.filter((function(e){return(null==e?void 0:e.name)&&e.name.includes(O)}));G((function(t){return t?g(g({},t),{items:e}):void 0}))}else G(L)}),[O,L]);var ne=[{title:"Delete",onClick:function(e,t){return function(e){(null==Z?void 0:Z.items)&&_(Z.items[e].name),H(!0)}(t)}},{title:"Edit",onClick:function(e,t){return function(e){(null==Z?void 0:Z.items)&&y(Z.items[e].name)}(t)}}];return k?a().createElement(h.g,null):a().createElement(a().Fragment,null,j&&a().createElement(v.i,{topicName:W,setDeleteModal:H,deleteModal:j,onDeleteTopic:E}),te.length<1&&O.length<1?a().createElement(s,{onCreateTopic:n}):a().createElement(o.Card,null,a().createElement(o.Toolbar,null,a().createElement(o.ToolbarContent,null,a().createElement(o.ToolbarItem,{className:"pf-c-toolbar-item--search"},a().createElement(c,{onClear:function(){G(L)},search:O,setSearch:z})),a().createElement(o.ToolbarItem,null,a().createElement(o.Button,{id:"topic-list-create-topic-button",className:"topics-per-page",onClick:function(){n()}},"Create topic")),a().createElement(o.ToolbarItem,{variant:"pagination"},a().createElement(o.Pagination,{itemCount:te.length,perPage:D,page:S,onSetPage:X,widgetId:"topic-list-pagination-top",onPerPageSelect:$})))),a().createElement(i.Table,{"aria-label":"Compact Table",variant:i.TableVariant.compact,cells:ee,rows:1!=S?te.slice(V,V+D):te.slice(0,D),actions:ne},a().createElement(i.TableHeader,null),a().createElement(i.TableBody,null))),a().createElement(o.Divider,null),te.length<1&&O.length>1&&a().createElement(d.c,null),te.length>1&&a().createElement(o.Card,null,a().createElement(o.Pagination,{itemCount:te.length,perPage:D,page:S,onSetPage:X,widgetId:"topic-list-pagination-bottom",onPerPageSelect:$,offset:0,variant:o.PaginationVariant.bottom})))},E=n(6302),w=n(3006),T=function(e){var t=e.getToken,n=e.apiBasePath,r=e.onCreateTopic,i=e.getTopicDetailsPath,l=e.onClickTopic,c=e.addAlert,u=e.onDeleteTopic,s=e.onError,d={addAlert:c};return a().createElement(b.BrowserRouter,null,a().createElement(w.I18nextProvider,{i18n:E.Z},a().createElement(p.E.Provider,{value:{basePath:n,getToken:t}},a().createElement(m.w.Provider,{value:d},a().createElement(o.PageSection,{variant:o.PageSectionVariants.light},a().createElement(y,{onCreateTopic:r,onClickTopic:l,getTopicDetailsPath:i,onDeleteTopic:u,onError:s}))))))};const k=T},9492:(e,t,n)=>{"use strict";n.d(t,{BB:()=>l,Rh:()=>c,eR:()=>s,BN:()=>d,BK:()=>f});var r=n(7887),a=n(7830),o=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},i=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},l=function(e){return o(void 0,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,null==e?void 0:e.getToken()];case 1:return t=n.sent(),[4,new r.M2(new a.VK({accessToken:t,basePath:null==e?void 0:e.basePath})).getTopicsList()];case 2:return[2,n.sent().data]}}))}))},c=function(e,t){return o(void 0,void 0,void 0,(function(){var n,o;return i(this,(function(i){switch(i.label){case 0:return[4,null==t?void 0:t.getToken()];case 1:return n=i.sent(),[4,new r.M2(new a.VK({accessToken:n,basePath:null==t?void 0:t.basePath})).getTopic(e)];case 2:return o=i.sent().data,[2,u(o)]}}))}))},u=function(e){var t,n,r,a={};return a.name=e.name,null===(t=e.config)||void 0===t||t.forEach((function(e){e.key&&(a[e.key]=e.value)})),a.numPartitions=null===(n=null==e?void 0:e.partitions)||void 0===n?void 0:n.length,a.replicationFactor=null===(r=null==e?void 0:e.partitions)||void 0===r?void 0:r.map((function(e){var t;return null===(t=e.replicas)||void 0===t?void 0:t.length})).reduce((function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),e+t})),a},s=function(e,t,n){return o(void 0,void 0,void 0,(function(){var o;return i(this,(function(i){switch(i.label){case 0:return[4,null==n?void 0:n.getToken()];case 1:return o=i.sent(),[4,new r.M2(new a.VK({accessToken:o,basePath:null==n?void 0:n.basePath})).updateTopic(e,t)];case 2:return[2,i.sent().status]}}))}))},d=function(e,t){return o(void 0,void 0,void 0,(function(){var n,o,l,c,u,s;return i(this,(function(i){switch(i.label){case 0:return[4,null==t?void 0:t.getToken()];case 1:return n=i.sent(),[4,new r.M2(new a.VK({accessToken:n,basePath:null==t?void 0:t.basePath})).getTopic(e)];case 2:return o=i.sent(),(l=o.data).config=l.config||[],l.config.push({key:"replicationFactor",value:null===(s=null===(u=null===(c=o.data)||void 0===c?void 0:c.partitions)||void 0===u?void 0:u.map((function(e){var t;return null===(t=e.replicas)||void 0===t?void 0:t.length})).reduce((function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),e+t})))||void 0===s?void 0:s.toString()}),[2,o.data]}}))}))},f=function(e,t){return o(void 0,void 0,void 0,(function(){var n;return i(this,(function(o){switch(o.label){case 0:return[4,null==t?void 0:t.getToken()];case 1:return n=o.sent(),[4,new r.M2(new a.VK({accessToken:n,basePath:null==t?void 0:t.basePath})).deleteTopic(e)];case 2:return o.sent(),[2]}}))}))}}}]);
//# sourceMappingURL=307.5712d8ed.bundle.js.map