(self.webpackChunkkafka_ui=self.webpackChunkkafka_ui||[]).push([[127],{777:(e,t,n)=>{"use strict";t.lb={name:"PlusCircleIcon",height:512,width:512,svgPath:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z",yOffset:0,xOffset:0},t.wl=n(5183).createIcon(t.lb),t.ZP=t.wl},1070:(e,t,n)=>{"use strict";t.xQ={name:"SearchIcon",height:512,width:512,svgPath:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z",yOffset:0,xOffset:0},t.W1=n(5183).createIcon(t.xQ),t.ZP=t.W1},3526:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(7522),a=(n(6801),(0,r.createContext)({}))},194:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FederatedTopics:()=>T,default:()=>P});var r=n(7522),a=n.n(r),l=(n(6351),n(6801)),o=n(1851),i=function(e){var t=e.search,n=e.setSearch,r=e.onClear;return a().createElement(l.InputGroup,null,a().createElement(l.SearchInput,{name:"searchName",id:"search-topics-input",type:"search","aria-label":"search input ",placeholder:"Search",value:t,onChange:function(e){n(e)},onClear:function(){r(),n("")}}))},c=n(777),u=function(e){var t=e.onCreateTopic;return a().createElement(l.EmptyState,null,a().createElement(l.EmptyStateIcon,{icon:c.ZP}),a().createElement(l.Title,{headingLevel:"h5",size:"lg"},"You don't have any topics yet"),a().createElement(l.EmptyStateBody,null,"Create a topic by clicking the button below to get started"),a().createElement(l.Button,{variant:"primary",className:"topics-empty-page",onClick:t},"Create Topic"))},s=n(1070),f=function(){return a().createElement(l.EmptyState,null,a().createElement(l.EmptyStateIcon,{icon:s.ZP}),a().createElement(l.Title,{headingLevel:"h5",size:"lg"},"No results found"),a().createElement(l.EmptyStateBody,null,"No result match the filter criteria. Remove filter or clear all filters to show results"))},p=n(7887),h=n(7830),m=function(e,t,n,r){return new(n||(n=Promise))((function(a,l){function o(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}c((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},v=function(e){return m(void 0,void 0,void 0,(function(){var t;return d(this,(function(n){switch(n.label){case 0:return[4,null==e?void 0:e.getToken()];case 1:return t=n.sent(),[4,new p.M2(new h.VK({accessToken:t,basePath:null==e?void 0:e.basePath})).getTopicsList()];case 2:return[2,n.sent().data]}}))}))},b=function(e,t){return m(void 0,void 0,void 0,(function(){var n;return d(this,(function(r){switch(r.label){case 0:return[4,null==t?void 0:t.getToken()];case 1:return n=r.sent(),[4,new p.M2(new h.VK({accessToken:n,basePath:null==t?void 0:t.basePath})).deleteTopic(e)];case 2:return r.sent(),[2]}}))}))},y=n(9115),g=n(5977),E=n(3526),w=function(e){var t=e.setDeleteModal,n=e.deleteModal,o=e.topicName,i=(0,r.useContext)(E.w).addAlert,c=(0,g.k6)(),u=function(){t(!1)},s=(0,r.useContext)(y.E);return a().createElement(l.Modal,{variant:l.ModalVariant.small,isOpen:n,"aria-label":"Modal warning example",title:" Delete Topic  ?",titleIconVariant:"warning",showClose:!0,"aria-describedby":"no-header-example",onClose:u},a().createElement(l.Text,null," The Topic will be deleted "),a().createElement("br",null),a().createElement(l.Flex,null,a().createElement(l.FlexItem,null,a().createElement(l.Button,{variant:"danger",onClick:function(){return e=void 0,n=void 0,a=function(){var e;return function(e,t){var n,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),o?[4,b(o,s)]:[3,2];case 1:n.sent(),n.label=2;case 2:return i("Successfully deleted topic "+o,l.AlertVariant.success),[3,4];case 3:return e=n.sent(),i(e.response.data.err,l.AlertVariant.danger),[3,4];case 4:return c.push("/topics"),t(!1),[2]}}))},new((r=void 0)||(r=Promise))((function(t,l){function o(e){try{c(a.next(e))}catch(e){l(e)}}function i(e){try{c(a.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,i)}c((a=a.apply(e,n||[])).next())}));var e,n,r,a}},"Delete Topic")),a().createElement(l.FlexItem,null,a().createElement(l.Button,{variant:"link",onClick:u},"Cancel"))))},k=function(){return a().createElement(l.Bullseye,null,a().createElement(l.Spinner,null))},C=function(){return(C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},S=function(e){var t,n,c,s,p=e.onCreateTopic,h=(0,r.useState)(!0),m=h[0],d=h[1],b=(0,r.useState)(1),S=b[0],T=b[1],P=(0,r.useState)(10),x=P[0],I=P[1],M=(0,r.useState)(0),B=M[0],V=M[1],N=(0,r.useState)(""),O=N[0],z=N[1],D=(0,r.useState)(),A=D[0],F=D[1],G=(0,r.useState)(),L=G[0],Z=G[1],R=(0,r.useState)(!1),j=R[0],H=R[1],K=(0,r.useState)(),Q=K[0],W=K[1],_=(0,g.k6)(),Y=(0,r.useContext)(E.w).addAlert,q=(0,r.useContext)(y.E),J=function(){return e=void 0,t=void 0,r=function(){var e,t;return function(e,t){var n,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,v(q)];case 1:return(e=n.sent())&&(F(e),Z(e)),[3,3];case 2:return t=n.sent(),Y(t.response.data.err,l.AlertVariant.danger),[3,3];case 3:return d(!1),[2]}}))},new((n=void 0)||(n=Promise))((function(a,l){function o(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r};(0,r.useEffect)((function(){d(!0),J()}),[j]),n=function(){return J()},c=5e3,s=(0,r.useRef)(),(0,r.useEffect)((function(){s.current=n}),[n]),(0,r.useEffect)((function(){var e=setTimeout((function(){s.current()}),c);return function(){clearInterval(e)}}),[n,c]);var U=function(e,t){T(t),V(S*x)},X=function(e,t){I(t)},$=[{title:"Name"},{title:"Replicas",transforms:[o.sortable]},{title:"Partitions",transforms:[o.sortable]}],ee=(null===(t=null==L?void 0:L.items)||void 0===t?void 0:t.map((function(e){var t,n;return[{title:a().createElement(l.Button,{variant:"link",isInline:!0,onClick:function(){return function(e){_.push("/topic/"+e)}(e&&e.name&&e.name.toString()||"")}},null==e?void 0:e.name)},null===(t=e.partitions)||void 0===t?void 0:t.map((function(e){return e.replicas?e.replicas.length:0})).reduce((function(e,t){return e+t}),0),null===(n=e.partitions)||void 0===n?void 0:n.length]})))||[];(0,r.useEffect)((function(){if(O&&""!=O.trim()&&(null==A?void 0:A.items)&&A.items.length>0){var e=null==A?void 0:A.items.filter((function(e){return(null==e?void 0:e.name)&&e.name.includes(O)}));Z((function(t){return t?C(C({},t),{items:e}):void 0}))}else Z(A)}),[O]);var te=[{title:"Delete",onClick:function(e,t){return function(e){(null==L?void 0:L.items)&&W(L.items[e].name),H(!0)}(t)}},{title:"Edit"}];return m?a().createElement(k,null):a().createElement(a().Fragment,null,j&&a().createElement(w,{topicName:Q,setDeleteModal:H,deleteModal:j}),ee.length<1&&O.length<1?a().createElement(u,{onCreateTopic:p}):a().createElement(l.Card,null,a().createElement(l.Toolbar,null,a().createElement(l.ToolbarContent,null,a().createElement(l.ToolbarItem,{className:"pf-c-toolbar-item--search"},a().createElement(i,{onClear:function(){Z(A)},search:O,setSearch:z})),a().createElement(l.ToolbarItem,null,a().createElement(l.Button,{id:"topic-list-create-topic-button",className:"topics-per-page",onClick:function(){p()}},"Create topic")),a().createElement(l.ToolbarItem,{variant:"pagination"},a().createElement(l.Pagination,{itemCount:ee.length,perPage:x,page:S,onSetPage:U,widgetId:"topic-list-pagination-top",onPerPageSelect:X})))),a().createElement(o.Table,{"aria-label":"Compact Table",variant:o.TableVariant.compact,cells:$,rows:1!=S?ee.slice(B,B+x):ee.slice(0,x),actions:te},a().createElement(o.TableHeader,null),a().createElement(o.TableBody,null))),a().createElement(l.Divider,null),ee.length<1&&O.length>1&&a().createElement(f,null),ee.length>1&&a().createElement(l.Card,null,a().createElement(l.Pagination,{itemCount:ee.length,perPage:x,page:S,onSetPage:U,widgetId:"topic-list-pagination-bottom",onPerPageSelect:X,offset:0,variant:l.PaginationVariant.bottom})))},T=function(e){var t=e.getToken,n=e.apiBasePath,r=e.onCreateTopic;return a().createElement(y.E.Provider,{value:{basePath:n,getToken:t}},a().createElement(l.PageSection,{variant:l.PageSectionVariants.light},a().createElement(S,{onCreateTopic:r})))};const P=T}}]);
//# sourceMappingURL=127.1115abd7.bundle.js.map