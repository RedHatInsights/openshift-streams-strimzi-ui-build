"use strict";(self.webpackChunkkafka_ui=self.webpackChunkkafka_ui||[]).push([[5460],{38296:(e,o,t)=>{function r(...e){const o=[],t={}.hasOwnProperty;return e.filter(Boolean).forEach((e=>{const a=typeof e;if("string"===a||"number"===a)o.push(e);else if(Array.isArray(e)&&e.length){const t=r(...e);t&&o.push(t)}else if("object"===a)for(const r in e)t.call(e,r)&&e[r]&&o.push(r)})),o.join(" ")}t.r(o),t.d(o,{css:()=>r})},90732:(e,o,t)=>{t.d(o,{w:()=>p});var r=t(223),a=t(85893),s=t(57294),n=t(38296),i=t(75418);const l=(0,i.createContext)({activeRow:"",onRowClick:()=>"",loggedInUser:""}),c=l.Provider,u=e=>{const{activeRow:o,onRowClick:t,rowDataTestId:s}=(0,i.useContext)(l),c=e||{},{trRef:u,className:p,rowProps:m,row:g}=c,d=(0,r.__rest)(c,["trRef","className","rowProps","row"]),{rowIndex:_}=m||{},{isExpanded:b,originalData:f}=g||{};return(0,a.jsx)("tr",Object.assign({"data-testid":s,tabIndex:0,ref:"function"==typeof u?void 0:u,className:(0,n.css)(p,"pf-c-table-row__item",o&&o===(null==f?void 0:f.rowId)&&"pf-m-selected pf-m-selectable"),hidden:void 0!==b&&!b,onClick:e=>t&&t(e,_,g)},d))},p=({tableProps:e,tableHeaderProps:o,tableBodyProps:t,children:i,activeRow:l,onRowClick:p,rowDataTestId:m,loggedInUser:g})=>{const{cells:d,rows:_,actionResolver:b,onSort:f,sortBy:h,"aria-label":w,variant:v,className:C,shouldDefaultCustomRowWrapper:x=!1}=e,G=(0,r.__rest)(e,["cells","rows","actionResolver","onSort","sortBy","aria-label","variant","className","shouldDefaultCustomRowWrapper"]);return x&&(G.rowWrapper=u),(0,a.jsx)(c,Object.assign({value:{activeRow:l,onRowClick:p,rowDataTestId:m,loggedInUser:g}},{children:(0,a.jsxs)(s.Table,Object.assign({className:(0,n.css)(x&&"mas--table-view__table",C),cells:d,variant:v,rows:_,"aria-label":w,actionResolver:b,onSort:f,sortBy:h},G,{children:[(0,a.jsx)(s.TableHeader,Object.assign({},o)),(0,a.jsx)(s.TableBody,Object.assign({},t)),i]}))}))}},97416:(e,o,t)=>{t.d(o,{L:()=>n});var r=t(223),a=t(85893),s=t(99421);const n=({toolbarProps:e,toggleGroupProps:o,toolbarItems:t,toggleGroupItems:n})=>{const{id:i,clearAllFilters:l,collapseListedFiltersBreakpoint:c="md",inset:u}=e,p=(0,r.__rest)(e,["id","clearAllFilters","collapseListedFiltersBreakpoint","inset"]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.Toolbar,Object.assign({id:i,clearAllFilters:l,inset:u,collapseListedFiltersBreakpoint:c},p,{children:(0,a.jsxs)(s.ToolbarContent,{children:[o&&(0,a.jsx)(s.ToolbarToggleGroup,Object.assign({},o,{toggleIcon:o.toggleIcon},{children:n})),null==t?void 0:t.map(((e,o)=>{const{key:t="mas",variant:n,className:i,id:l,alignment:c,item:u}=e,p=(0,r.__rest)(e,["key","variant","className","id","alignment","item"]);return(0,a.jsx)(s.ToolbarItem,Object.assign({variant:n,className:i,id:l,alignment:c},p,{children:u}),`${t}-${o}`)}))]})}))})}},97369:(e,o,t)=>{t.d(o,{z:()=>s});var r=t(4716),a=t(98639);const s=e=>{const{t:o}=(0,r.useTranslation)(["kafka"]);switch(e){case a.ConsumerGroupState.Stable:return o("consumerGroup.stable_state");case a.ConsumerGroupState.Empty:return o("consumerGroup.empty_state");case a.ConsumerGroupState.Dead:return o("consumerGroup.dead_state");case a.ConsumerGroupState.CompletingRebalance:return o("consumerGroup.completing_rebalance_state");case a.ConsumerGroupState.PreparingRebalance:return o("consumerGroup.preparing_rebalance_state");case a.ConsumerGroupState.Unknown:return o("consumerGroup.unknown_state");default:return null}}},95460:(e,o,t)=>{t.r(o),t.d(o,{ConsumerGroupsTable:()=>b,default:()=>f});var r=t(85893),a=t(75418),s=t(4716),n=t(99421),i=t(57294),l=t(90732),c=t(91070),u=t(82639),p=t(97416),m=t(48418);const g=({search:e,setSearch:o,total:t,page:i,perPage:l})=>{const{t:c}=(0,s.useTranslation)(["kafkaTemporaryFixMe"]),[g,d]=(0,a.useState)(""),_=(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.ToolbarFilter,Object.assign({chips:e?[e]:[],deleteChip:()=>{o("")},categoryName:""},{children:(0,r.jsxs)(n.InputGroup,{children:[(0,r.jsx)(n.TextInput,{name:"searchConsumerGroups",id:"search-consumer-groups-input",type:"search","aria-label":c("consumerGroup.consumer_group_search_input"),placeholder:c("common.search"),value:g,onChange:e=>{d(e)}}),(0,r.jsx)(n.Button,Object.assign({variant:n.ButtonVariant.control,isDisabled:!g.length,onClick:()=>{o(g),d("")},"aria-label":c("consumerGroup.consumer_group_search")},{children:(0,r.jsx)(m.SearchIcon,{})}))]})}))}),b=[];return t&&t>0&&b.push({item:(0,r.jsx)(u.wu,{widgetId:"consumer-group-pagination-options-menu-top",itemCount:t,page:i,perPage:l,titles:{paginationTitle:c("common.minimal_pagination"),perPageSuffix:c("common.per_page_suffix"),toFirstPage:c("common.to_first_page"),toPreviousPage:c("common.to_previous_page"),toLastPage:c("common.to_last_page"),toNextPage:c("common.to_next_page"),optionsToggle:c("common.options_toggle"),currPage:c("common.curr_page")}}),variant:"pagination",alignment:{default:"alignRight"}}),(0,r.jsx)(p.L,{toolbarProps:{id:"instance-toolbar",clearAllFilters:()=>{o("")},collapseListedFiltersBreakpoint:"md",inset:{xl:"insetLg"}},toggleGroupProps:{toggleIcon:"",breakpoint:"md"},toggleGroupItems:_,toolbarItems:b})};var d=t(7451),_=t(97369);const b=({consumerGroups:e,total:o,page:t,perPage:p,search:m,setSearch:b,rowDataTestId:f,isDrawerOpen:h,onViewConsumerGroup:w,refreshConsumerGroups:v,consumerGroupByTopic:C,onSort:x,sortBy:G})=>{const{t:j}=(0,s.useTranslation)(["kafkaTemporaryFixMe"]),{showModal:P}=(0,d.useModal)(),{showModal:k}=(0,d.useModal)(),[I,T]=(0,a.useState)(),y=[{title:j("consumerGroup.consumer_group_id"),transforms:[i.sortable]},{title:j("consumerGroup.active_members")},{title:j("consumerGroup.partitions_with_lag"),transforms:[(0,i.info)({popover:(0,r.jsx)("div",{children:j("consumerGroup.partitions_with_lag_description")}),ariaLabel:"partitions with lag",popoverProps:{headerContent:j("consumerGroup.partitions_with_lag_name")}})]},{title:j("consumerGroup.state")}];(0,a.useEffect)((()=>{h||T("")}),[h]);const R=e=>{const{groupId:o,state:t}=e;T(o),((e,o)=>{P(d.ModalType.KafkaDeleteConsumerGroup,{consumerName:e,refreshConsumerGroups:v,state:o})})(o,t)},S=e=>{var o;o=e,k(d.ModalType.KafkaConsumerGroupResetOffset,{refreshConsumerGroups:v,consumerGroupData:o})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g,{search:m,setSearch:b,total:o,perPage:p,page:t}),(0,r.jsx)(l.w,{tableProps:{cells:y,rows:(()=>{const o=[];return null==e||e.map((e=>{const{groupId:t,consumers:r,state:a}=e;o.push({cells:[t,r.reduce((function(e,o){return e+(-1!=o.partition?1:0)}),0),r.reduce((function(e,o){return e+(o.lag>0?1:0)}),0),_.z[a]],originalData:Object.assign(Object.assign({},e),{rowId:t})})})),o})(),"aria-label":j("consumerGroup.consumer_group_list"),actionResolver:e=>{if(C)return[];const o=e.originalData,t={title:j("common.delete"),onClick:()=>R(o),"data-testid":"tableConsumers-actionDelete"},r={title:j("consumerGroup.view_partitions_offsets"),onClick:(e,o,t)=>(e=>{const{originalData:o}=e;w(o),T(null==o?void 0:o.groupId)})(t),"data-testid":"tableConsumers-actionOpenDrawer"},a={title:j("consumerGroup.reset_offset"),onClick:()=>S(o),"data-testid":"tableConsumers-resetOffset"};return[t,r,a]},shouldDefaultCustomRowWrapper:!0,variant:i.TableVariant.compact,onSort:x,sortBy:G},activeRow:I,onRowClick:(e,o,t)=>{if(null==e?void 0:e.target){const{originalData:o}=t||{},r=((null==e?void 0:e.target).tagName||"").toLocaleLowerCase();"button"!==r&&"a"!==r&&(w(o),T(null==o?void 0:o.groupId))}},rowDataTestId:f||"tableConsumers-row"}),o<1&&m.length>0&&(0,r.jsx)(c.u,{emptyStateProps:{variant:c.j.NoResult},titleProps:{title:j("common.no_results_title")},emptyStateBodyProps:{body:j("common.no_results_body")}}),o>0&&(0,r.jsx)(u.wu,{widgetId:"consumer-group-pagination-options-menu-bottom",itemCount:o,variant:n.PaginationVariant.bottom,page:t,perPage:p,titles:{paginationTitle:j("common.full_pagination"),perPageSuffix:j("common.per_page_suffix"),toFirstPage:j("common.to_first_page"),toPreviousPage:j("common.to_previous_page"),toLastPage:j("common.to_last_page"),toNextPage:j("common.to_next_page"),optionsToggle:j("common.options_toggle"),currPage:j("common.curr_page")}})]})},f=b}}]);
//# sourceMappingURL=5460.9e488712.js.map