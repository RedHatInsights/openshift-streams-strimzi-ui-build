{"version":3,"file":"2370.7d96b828.js","mappings":"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","sources":["webpack://kafka-ui/./node_modules/@patternfly/react-icons/dist/js/icons/help-icon.js","webpack://kafka-ui/./src/components/TextWithLabelPopover/TextWithLabelPopover.tsx","webpack://kafka-ui/./src/constant/constants.ts","webpack://kafka-ui/./src/modules/Topics/utils/utils.ts","webpack://kafka-ui/./src/services/topics.ts","webpack://kafka-ui/./src/utils/axios.ts"],"sourcesContent":["\"use strict\"\nexports.__esModule = true;\nexports.HelpIconConfig = {\n  name: 'HelpIcon',\n  height: 1024,\n  width: 1024,\n  svgPath: 'M521.3,576 C627.5,576 713.7,502 713.7,413.7 C713.7,325.4 627.6,253.6 521.3,253.6 C366,253.6 334.5,337.7 329.2,407.2 C329.2,414.3 335.2,416 343.5,416 L445,416 C450.5,416 458,415.5 460.8,406.5 C460.8,362.6 582.9,357.1 582.9,413.6 C582.9,441.9 556.2,470.9 521.3,473 C486.4,475.1 447.3,479.8 447.3,521.7 L447.3,553.8 C447.3,570.8 456.1,576 472,576 C487.9,576 521.3,576 521.3,576 M575.3,751.3 L575.3,655.3 C575.313862,651.055109 573.620137,646.982962 570.6,644 C567.638831,640.947672 563.552355,639.247987 559.3,639.29884 L463.3,639.29884 C459.055109,639.286138 454.982962,640.979863 452,644 C448.947672,646.961169 447.247987,651.047645 447.29884,655.3 L447.29884,751.3 C447.286138,755.544891 448.979863,759.617038 452,762.6 C454.961169,765.652328 459.047645,767.352013 463.3,767.30116 L559.3,767.30116 C563.544891,767.313862 567.617038,765.620137 570.6,762.6 C573.659349,759.643612 575.360354,755.553963 575.3,751.3 M512,896 C300.2,896 128,723.9 128,512 C128,300.3 300.2,128 512,128 C723.8,128 896,300.2 896,512 C896,723.8 723.7,896 512,896 M512.1,0 C229.7,0 0,229.8 0,512 C0,794.2 229.8,1024 512.1,1024 C794.4,1024 1024,794.3 1024,512 C1024,229.7 794.4,0 512.1,0',\n  yOffset: 0,\n  xOffset: 0,\n};\nexports.HelpIcon = require('../createIcon').createIcon(exports.HelpIconConfig);\nexports[\"default\"] = exports.HelpIcon;","import { Popover, FormGroup, TextInput } from '@patternfly/react-core';\nimport React from 'react';\nimport HelpIcon from '@patternfly/react-icons/dist/js/icons/help-icon';\n\nimport './TextWithLabelPopover.css';\n\nexport interface TextWithLabelPopoverProps {\n  /** Field id */\n  fieldId: string;\n  /** Field label */\n  fieldLabel: string;\n  /** Field value */\n  fieldValue?: string;\n  /** Header text for popover label */\n  popoverHeader: string;\n  /** Body text for popover label */\n  popoverBody: string;\n  /** Aria label for popover button */\n  btnAriaLabel: string;\n  /** Indicates if unlimited should be shown for negative numbers */\n  showUnlimited?: boolean;\n}\n\nexport const TextWithLabelPopover: React.FC<TextWithLabelPopoverProps> = ({\n  fieldId,\n  fieldLabel,\n  btnAriaLabel,\n  fieldValue,\n  popoverBody,\n  popoverHeader,\n  showUnlimited,\n}) => {\n  const preventButtonSubmit = (event) => event.preventDefault();\n\n  let displayText = '-';\n\n  if (\n    showUnlimited === true &&\n    fieldValue !== undefined &&\n    parseInt(fieldValue) < 0\n  ) {\n    displayText = 'Unlimited';\n  } else if (fieldValue) {\n    displayText = fieldValue;\n  }\n\n  return (\n    <FormGroup\n      fieldId={fieldId}\n      label={fieldLabel}\n      className='kafka-ui-form-group--readonly'\n      labelIcon={\n        <Popover\n          headerContent={<div>{popoverHeader}</div>}\n          bodyContent={<div>{popoverBody}</div>}\n        >\n          <button\n            aria-label={btnAriaLabel}\n            onClick={preventButtonSubmit}\n            className='pf-c-form__group-label-help'\n          >\n            <HelpIcon noVerticalAlign />\n          </button>\n        </Popover>\n      }\n    >\n      <TextInput\n        isReadOnly\n        type='text'\n        id={fieldId}\n        name={fieldId}\n        value={displayText}\n      />\n    </FormGroup>\n  );\n};\n","export const DEFAULT_REPLICAS = '3';\nexport const DEFAULT_MIN_CLEANBLE_RATIO = '0.5';\nexport const DEFAULT_MIN_INSYNC_REPLICAS = '2';\nexport const DEFAULT_SEGMENT_TIME = '604800000 milliseconds (7 days)';\nexport const DEFAULT_MAX_MESSAGE_TIMESTAMP_DIFF =\n  '9223372036854775807 milliseconds';\nexport const DEFAULT_SEGMENT_INDEX_SIZE = '10485760 bytes (10 mebibytes)';\nexport const DEFAULT_INDEX_INTERVAL_SIZE = '4096 bytes (4 kibibytes)';\nexport const DEFAULT_LOG_SEGMENT_SIZE = '1073741824 bytes (1 gibibyte)';\nexport const DEFAULT_DELETE_RETENTION_TIME = '86400000 milliseconds (1 day)';\nexport const DEFAULT_SEGMENT_JITTER_TIME = '0 milliseconds';\nexport const DEFAULT_FILE_DELETE_DELAY = '60000 milliseconds (1 minute)';\nexport const DEFAULT_MAXIMUM_MESSAGE_BYTES = '1048588 bytes';\nexport const DEFAULT_MESSAGE_TIMESTAMP_TYPE = 'CreateTime';\nexport const DEFAULT_MINIMUM_COMPACTION_LAG_TIME = '0 milliseconds';\nexport const DEFAULT_FLUSH_INTERVAL_MESSAGES = '9223372036854775807 messages';\nexport const DEFAULT_FLUSH_INTERVAL_TIME = '9223372036854775807 milliseconds';\nexport const MIN_PARTITIONS = 1;\nexport const MAX_PARTITIONS = 100;\n","import { ConfigEntry, NewTopicInput, Topic } from '@rhoas/kafka-instance-sdk';\nimport { IAdvancedTopic } from '@app/modules/Topics/utils';\n\nconst capitalizeText = (text: string) => {\n  return text.charAt(0).toUpperCase() + text.slice(1);\n};\n\nexport const kebabToCamel = function (kebabCase: string): string {\n  const words: string[] = kebabCase.split('-');\n\n  const camelCased: string[] = words.map((word: string, index: number) => {\n    return index > 0 ? capitalizeText(word) : word;\n  });\n\n  return camelCased.join('');\n};\n\nexport const kebabToDotSeparated = (val: string): string => {\n  if (typeof val === 'string') {\n    return val.replace(/-/g, '.');\n  }\n  return val;\n};\n\nexport enum RetentionTimeUnits {\n  MILLISECOND = 'milliseconds',\n  SECOND = 'seconds',\n  MINUTE = 'minutes',\n  HOUR = 'hours',\n  DAY = 'day',\n  WEEK = 'weeks',\n  CUSTOM = 'custom',\n  UNLIMITED = 'unlimited',\n}\n\nexport enum RetentionSizeUnits {\n  BYTE = 'bytes',\n  KIBIBYTE = 'kibibytes',\n  MEBIBYTE = 'mebibytes',\n  GIBIBYTE = 'gibibytes',\n  TEBIBYTE = 'tebibytes',\n  CUSTOM = 'custom',\n  UNLIMITED = 'unlimited',\n}\n\nexport const unitsToBytes = {\n  bytes: 1,\n  kibibytes: 1024,\n  mebibytes: 1048576,\n  gibibytes: 1073741824,\n  tebibytes: 1.0995116e12,\n};\n\nexport const unitsToMilliSecond = {\n  milliseconds: 1,\n  seconds: 1000,\n  minutes: 60000,\n  hours: 3600000,\n  days: 86400000,\n};\n\nexport const RetentionTimeUnitToValue = {\n  ...unitsToMilliSecond,\n  day: 1,\n  weeks: 7,\n};\n\ntype ConversionUnit = {\n  value: number;\n  unit: string;\n};\n\nexport const millisecondsToTime = (value: number): ConversionUnit => {\n  if (value) {\n    if (value % unitsToMilliSecond.days == 0)\n      return { value: value / unitsToMilliSecond.days, unit: 'days' };\n    if (value % unitsToMilliSecond.hours == 0)\n      return { value: value / unitsToMilliSecond.hours, unit: 'hours' };\n    if (value % unitsToMilliSecond.minutes == 0)\n      return { value: value / unitsToMilliSecond.minutes, unit: 'minutes' };\n    if (value % unitsToMilliSecond.seconds == 0)\n      return { value: value / unitsToMilliSecond.seconds, unit: 'seconds' };\n  }\n\n  return { value, unit: 'milliseconds' };\n};\n\nexport const formattedRetentionTime = (time: number): string => {\n  const { unit, value } = millisecondsToTime(time);\n  return Number(value) === -1 ? 'Unlimited' : `${time} ms (${value} ${unit})`;\n};\n\nexport const formattedRetentionSize = (size: number): string => {\n  const { unit, value } = bytesToMemorySize(size);\n  return Number(value) === -1\n    ? 'Unlimited'\n    : `${size} bytes (${value} ${unit})`;\n};\n\nexport const bytesToMemorySize = (value: number): ConversionUnit => {\n  if (value) {\n    if (value % unitsToBytes.tebibytes == 0)\n      return { value: value / unitsToBytes.tebibytes, unit: 'tebibytes' };\n    if (value % unitsToBytes.gibibytes == 0)\n      return { value: value / unitsToBytes.gibibytes, unit: 'gibibytes' };\n    if (value % unitsToBytes.mebibytes == 0)\n      return { value: value / unitsToBytes.mebibytes, unit: 'mebibytes' };\n    if (value % unitsToBytes.kibibytes == 0)\n      return { value: value / unitsToBytes.kibibytes, unit: 'kibibytes' };\n  }\n\n  return { value, unit: 'bytes' };\n};\n\nexport type KeyValue = {\n  key: string;\n  value: number;\n};\n\nexport const deserializeTopic = (topic: Topic): ConfigEntry => {\n  const newTopic = { ...topic };\n  const configEntries: ConfigEntry = {};\n\n  newTopic?.config?.forEach((e: ConfigEntry) => {\n    const { key = '', value } = e;\n\n    if (key === 'retention.ms' && Number(value) >= 0) {\n      const { value: newValue, unit } = millisecondsToTime(Number(value));\n      configEntries[key] = newValue;\n      configEntries[`${key}.unit`] = unit;\n      configEntries['selectedRetentionTimeOption'] = RetentionTimeUnits.CUSTOM;\n    } else if (key === 'retention.ms' && Number(value) === -1) {\n      configEntries['selectedRetentionTimeOption'] =\n        RetentionTimeUnits.UNLIMITED;\n    }\n\n    if (key === 'retention.bytes' && Number(value) >= 0) {\n      const { value: newValue, unit } = bytesToMemorySize(Number(value));\n      configEntries[key] = newValue;\n      configEntries[`${key}.unit`] = unit;\n      configEntries['selectedRetentionSizeOption'] = RetentionSizeUnits.CUSTOM;\n    } else if (key === 'retention.bytes' && Number(value) === -1) {\n      configEntries['selectedRetentionSizeOption'] =\n        RetentionSizeUnits.UNLIMITED;\n    }\n\n    if (key === 'cleanup.policy') {\n      configEntries[key] = value || 'delete';\n    }\n  });\n\n  return configEntries;\n};\n\nexport const serializeTopic = (\n  topicData: IAdvancedTopic,\n  addionalProperties: string[] = []\n): NewTopicInput => {\n  const configProperties = [\n    'retention.ms',\n    'retention.bytes',\n    'flush.messages',\n    ...addionalProperties,\n  ];\n  const tempProperties = [\n    'retention.ms.unit',\n    'retention.bytes.unit',\n    'selectedRetentionTimeOption',\n    'selectedRetentionSizeOption',\n  ];\n  const topic = { ...topicData };\n  const config: ConfigEntry[] = [];\n\n  for (const key in topic) {\n    let value;\n    //check key exist in include config proerties and add properties in config object\n    if (configProperties.includes(key)) {\n      //check unlimited retention time and size and set -1 value\n      if (\n        (topic.selectedRetentionTimeOption === RetentionTimeUnits.UNLIMITED &&\n          key === 'retention.ms') ||\n        (topic.selectedRetentionSizeOption === RetentionSizeUnits.UNLIMITED &&\n          key === 'retention.bytes')\n      ) {\n        value = '-1';\n      } else if (key === 'retention.ms' || key === 'retention.bytes') {\n        //calculate value based on entered value * selected unit\n        const unit =\n          key === 'retention.ms'\n            ? unitsToMilliSecond[topic[`${key}.unit`] || 'milliseconds']\n            : unitsToBytes[topic[`${key}.unit`] || 'bytes'];\n        value = Number(topic[key]) * unit;\n      } else {\n        value = topic[key];\n      }\n    }\n\n    //delete properties which are not required\n    if (key.split('.').pop() === 'unit' || tempProperties.includes(key)) {\n      delete topic[key];\n    }\n\n    //prepare config object with key/value\n    if (value && key) {\n      config.push({\n        key,\n        value: value.toString(),\n      });\n    }\n  }\n\n  return {\n    name: topic.name,\n    settings: {\n      numPartitions: Number(topic.numPartitions),\n      config,\n    },\n  };\n};\n","import { AxiosResponse } from 'axios';\nimport {\n  ConfigEntry,\n  TopicsApi,\n  Topic,\n  TopicSettings,\n  TopicsList,\n} from '@rhoas/kafka-instance-sdk';\nimport { Configuration } from '@rhoas/kafka-instance-sdk';\nimport { IConfiguration } from '@app/contexts';\nimport { IAdvancedTopic } from '@app/modules/Topics/utils';\nimport { SortByDirection } from '@patternfly/react-table';\n\nexport enum OrderKey {\n  name = 'name',\n  partitions = 'partitions',\n  retentionMs = 'retention.ms',\n  retentionSize = 'retention.bytes',\n}\n\nexport const getTopics = async (\n  config: IConfiguration | undefined,\n  page?: number,\n  size?: number,\n  filter?: string,\n  order: SortByDirection = SortByDirection.asc,\n  orderKey?: OrderKey\n): Promise<TopicsList> => {\n  const accessToken = await config?.getToken();\n\n  const api = new TopicsApi(\n    new Configuration({\n      accessToken,\n      basePath: config?.basePath,\n    })\n  );\n  const response: AxiosResponse<TopicsList> = await api.getTopics(\n    undefined,\n    undefined,\n    size,\n    filter,\n    page,\n    order,\n    orderKey\n  );\n  return response.data;\n};\n\nexport const getTopicDetail = async (\n  topicName: string,\n  config: IConfiguration | undefined\n): Promise<IAdvancedTopic> => {\n  const accessToken = await config?.getToken();\n\n  const api = new TopicsApi(\n    new Configuration({\n      accessToken,\n      basePath: config?.basePath,\n    })\n  );\n  const { data } = await api.getTopic(topicName);\n\n  return convertTopicResponse(data);\n};\n\nconst convertTopicResponse = (topic: Topic): IAdvancedTopic => {\n  const topicObj: IAdvancedTopic = { name: '', numPartitions: '0' };\n  if (topic && topic.name) topicObj.name = topic.name;\n\n  topic.config?.forEach((config) => {\n    if (config.key) {\n      topicObj[config.key] = config.value;\n    }\n  });\n\n  topicObj.numPartitions = topic?.partitions?.length.toString() || '0';\n\n  topicObj.replicationFactor =\n    (topic?.partitions && topic?.partitions[0].replicas?.length.toString()) ||\n    '0';\n\n  return topicObj;\n};\n\nexport const updateTopicModel = async (\n  topicName: string,\n  topicSettings: TopicSettings,\n  config: IConfiguration | undefined\n): Promise<number> => {\n  const accessToken = await config?.getToken();\n\n  const api = new TopicsApi(\n    new Configuration({\n      accessToken,\n      basePath: config?.basePath,\n    })\n  );\n  const response: AxiosResponse<Topic> = await api.updateTopic(\n    topicName,\n    topicSettings\n  );\n  return response.status;\n};\n\nexport const getTopic = async (\n  topicName: string,\n  config: IConfiguration | undefined\n): Promise<Topic> => {\n  const accessToken = await config?.getToken();\n\n  const api = new TopicsApi(\n    new Configuration({\n      accessToken,\n      basePath: config?.basePath,\n    })\n  );\n  const response = await api.getTopic(topicName);\n\n  const answer = response.data;\n  answer.config = answer.config || ([] as ConfigEntry[]);\n  answer.config.push({\n    key: 'replicationFactor',\n    value: response.data?.partitions\n      ?.map((p) => p.replicas?.length)\n      .reduce(\n        (previousValue = 0, currentValue = 0) => previousValue + currentValue\n      )\n      ?.toString(),\n  });\n  return response.data;\n};\n\nexport const deleteTopic = async (\n  topicName: string,\n  config: IConfiguration | undefined\n): Promise<void> => {\n  const accessToken = await config?.getToken();\n\n  const api = new TopicsApi(\n    new Configuration({\n      accessToken,\n      basePath: config?.basePath,\n    })\n  );\n  await api.deleteTopic(topicName);\n  return;\n};\n","import { AxiosError } from 'axios';\n\nexport type ErrorData = {\n  code: number;\n  error_message: string;\n};\n\nexport const isAxiosError = (\n  error: unknown\n): error is AxiosError<ErrorData> => {\n  return (error as AxiosError<ErrorData>) !== undefined;\n};\n"],"names":["exports","name","height","width","svgPath","yOffset","xOffset","TextWithLabelPopover","fieldId","fieldLabel","btnAriaLabel","fieldValue","popoverBody","popoverHeader","displayText","undefined","parseInt","FormGroup","label","className","labelIcon","Popover","headerContent","bodyContent","onClick","event","preventDefault","noVerticalAlign","TextInput","isReadOnly","type","id","value","DEFAULT_REPLICAS","DEFAULT_MIN_CLEANBLE_RATIO","DEFAULT_MIN_INSYNC_REPLICAS","DEFAULT_SEGMENT_TIME","DEFAULT_MAX_MESSAGE_TIMESTAMP_DIFF","DEFAULT_SEGMENT_INDEX_SIZE","DEFAULT_INDEX_INTERVAL_SIZE","DEFAULT_LOG_SEGMENT_SIZE","DEFAULT_DELETE_RETENTION_TIME","DEFAULT_SEGMENT_JITTER_TIME","DEFAULT_FILE_DELETE_DELAY","DEFAULT_MAXIMUM_MESSAGE_BYTES","DEFAULT_MESSAGE_TIMESTAMP_TYPE","DEFAULT_MINIMUM_COMPACTION_LAG_TIME","DEFAULT_FLUSH_INTERVAL_MESSAGES","DEFAULT_FLUSH_INTERVAL_TIME","MIN_PARTITIONS","MAX_PARTITIONS","RetentionTimeUnits","RetentionSizeUnits","kebabToCamel","kebabCase","split","map","word","index","text","charAt","toUpperCase","slice","join","kebabToDotSeparated","val","replace","unitsToBytes","bytes","kibibytes","mebibytes","gibibytes","tebibytes","unitsToMilliSecond","milliseconds","seconds","minutes","hours","days","RetentionTimeUnitToValue","day","weeks","millisecondsToTime","unit","formattedRetentionTime","time","Number","formattedRetentionSize","size","bytesToMemorySize","deserializeTopic","topic","newTopic","configEntries","config","forEach","e","key","newValue","CUSTOM","UNLIMITED","serializeTopic","topicData","addionalProperties","configProperties","tempProperties","includes","selectedRetentionTimeOption","selectedRetentionSizeOption","pop","push","toString","settings","numPartitions","OrderKey","getTopics","page","filter","order","orderKey","SortByDirection","Promise","getToken","accessToken","TopicsApi","Configuration","basePath","data","getTopicDetail","topicName","getTopic","convertTopicResponse","topicObj","partitions","length","replicationFactor","replicas","updateTopicModel","topicSettings","updateTopic","status","response","answer","p","reduce","previousValue","currentValue","deleteTopic","isAxiosError","error"],"sourceRoot":""}