(self.webpackChunkkafka_ui=self.webpackChunkkafka_ui||[]).push([[716],{3526:(e,t,a)=>{"use strict";a.d(t,{w:()=>r});var n=a(7522),r=(a(3004),(0,n.createContext)({}))},557:(e,t,a)=>{"use strict";a.r(t),a.d(t,{FederatedCreateTopic:()=>x,default:()=>y});var n=a(7522),r=a.n(n),i=(a(6351),a(9115)),o=a(3004),c=function(e){var t=e.isSwitchChecked,a=e.setIsSwitchChecked,n=r().createElement(o.Breadcrumb,null,r().createElement(o.BreadcrumbItem,{to:"/openshiftstreams"},"Red Hat OpenShift Streams for Apache Kafka"),r().createElement(o.BreadcrumbItem,{to:"/openshiftstreams"},"MK Cluster Instance"),r().createElement(o.BreadcrumbItem,{to:"#",isActive:!0},"Create topic"));return r().createElement(r().Fragment,null,r().createElement("section",{className:"pf-c-page__main-breadcrumb"},n),r().createElement(o.PageSection,{variant:o.PageSectionVariants.light},r().createElement(o.Title,{headingLevel:"h1",size:"2xl"},"Create topic"),r().createElement("br",null),r().createElement(o.Switch,{id:"simple-switch",label:"Show all available options",labelOff:"Show all available options",isChecked:t,onChange:a,className:"create-topic-wizard"})),r().createElement(o.Divider,null))},l=(a(3174),function(e){var t=e.topicNameInput,a=e.setTopicNameInput;return r().createElement(o.Stack,{hasGutter:!0,className:"kafka-ui--wizard-main-body__stack"},r().createElement(o.TextContent,null,r().createElement(o.Text,{component:o.TextVariants.h2},"Topic name"),r().createElement(o.Text,{component:o.TextVariants.p},"Unique name used to recognize your topic"),r().createElement(o.Text,{component:o.TextVariants.small},"The topic name is also used by your producers and consumers as part of the connection information, so make it something easy to recognize.")),r().createElement(o.Form,{onSubmit:function(e){return e.preventDefault()}},r().createElement(o.FormGroup,{label:"Topic name",fieldId:"step-topic-name-form",helperText:"Must be letters (Aa-Zz), numbers, underscores( _ ), or hyphens ( - ).",isRequired:!0},r().createElement(o.TextInput,{isRequired:!0,type:"text",id:"step-topic-name-input",name:"step-topic-name","aria-describedby":"step-topic-name-helper",value:t,onChange:function(e){a(e)},placeholder:"Enter topic name"}))))}),s=function(e){var t=e.partitionTouchspinValue,a=e.setPartitionTouchspinValue;return r().createElement(o.Stack,{hasGutter:!0,className:"kafka-ui--wizard-main-body__stack"},r().createElement(o.TextContent,null,r().createElement(o.Text,{component:o.TextVariants.h2},"Partitions"),r().createElement(o.Text,{component:o.TextVariants.p},"An ordered list of messages"),r().createElement(o.Text,{component:o.TextVariants.small},"One or more partitions make up a topic. Partitions are distributed across the brokers to increase the salability of your topic. You can also use them to distribute messages across the members of the consumer group.")),r().createElement(o.Form,null,r().createElement(o.FormGroup,{label:"Partitions",fieldId:"step-topic-name-form",helperText:"One partition is sufficient for getting started, but production systems often have more.",isRequired:!0},r().createElement(o.NumberInput,{onPlus:function(){a(t+1)},onMinus:function(){a(t-1)},value:t,inputName:"input",onChange:function(e){a(Number(e.target.value))},widthChars:20}))))},m=function(e){var t,a=e.setMsgRetentionValue,i=e.currentPeriod,c=e.setCurrentPeriod;!function(e){e[e.DAY=1]="DAY",e[e.WEEK=7]="WEEK",e[e.MONTH=30]="MONTH",e.CUSTOM="custom"}(t||(t={}));var l=(0,n.useState)(7),s=l[0],m=l[1],u=(0,n.useState)(!1),p=u[0],d=u[1],h=(0,n.useState)(!1),E=h[0],f=h[1],T=(0,n.useState)(1),b=T[0],g=T[1];(0,n.useEffect)((function(){i===t.DAY?a(864e5*t.DAY):i===t.WEEK?a(864e5*t.WEEK):i===t.MONTH?a(864e5*t.MONTH):i===t.CUSTOM&&a(b*s*864e5)}),[i,s,b]);var k=function(e,a){var n=a.target.name;"radio1"===n?c(t.DAY):"radio2"===n?c(t.WEEK):"radio3"===n?c(t.MONTH):"radio4"===n&&c(t.CUSTOM)};return r().createElement(r().Fragment,null,r().createElement(o.Stack,{hasGutter:!0,className:"kafka-ui--wizard-main-body__stack"},r().createElement(o.TextContent,null,r().createElement(o.Text,{component:o.TextVariants.h2},"Message retention"),r().createElement(o.Text,{component:o.TextVariants.p},"How long messages are retained and the maximum total size of all log segments in a partition before they are deleted to free up space"),r().createElement(o.Text,{component:o.TextVariants.small},"Messages that aren't read by a consumer within this time will be missed. By default, a limit is only applied to retention time.")),r().createElement(o.Form,{onSubmit:function(e){return e.preventDefault()}},r().createElement(o.FormGroup,{fieldId:"form-group-in-wizard",label:"Retention time"},r().createElement(o.Stack,{hasGutter:!0},r().createElement(o.Radio,{isChecked:i===t.DAY,name:"radio1",onChange:k,label:"A day","aria-label":"A day",id:"radio-controlled-1",value:"day"}),r().createElement(o.Radio,{isChecked:i===t.WEEK,name:"radio2",onChange:k,label:"A week","aria-label":"A week",id:"radio-controlled-2",value:"week"}),r().createElement(o.Radio,{isChecked:i===t.MONTH,name:"radio3",onChange:k,label:"A month","aria-label":"A month",id:"radio-controlled-3",value:"month"}),r().createElement(o.Radio,{isChecked:i===t.CUSTOM,name:"radio4",onChange:k,label:"Custom duration","aria-label":"custom input",id:"radio-controlled-4",value:"custom"}),r().createElement("div",{className:"kafka-ui--radio__parameters"},r().createElement(o.Flex,null,r().createElement(o.FlexItem,null,r().createElement(o.NumberInput,{onMinus:function(){m(s-1)},onPlus:function(){m(s+1)},value:s,onChange:function(e){m(Number(e.target.value))}})),r().createElement(o.FlexItem,null,r().createElement(o.Select,{variant:o.SelectVariant.single,"aria-label":"Select Input",onToggle:function(e){d(e)},onSelect:function(e,a){"days"===a?g(t.DAY):"weeks"===a?g(t.WEEK):"months"===a&&g(t.MONTH),f(a),d(!1)},selections:E,isOpen:p},r().createElement(o.SelectOption,{key:0,value:"days",isPlaceholder:!0}),r().createElement(o.SelectOption,{key:1,value:"weeks"}),r().createElement(o.SelectOption,{key:2,value:"months"}))))))))))},u=a(7253),p=a(3006),d=function(e){var t=e.replicationFactor,a=e.minInSyncReplica,n=(0,p.useTranslation)().t;return r().createElement(o.Stack,{hasGutter:!0,className:"kafka-ui--wizard-main-body__stack"},r().createElement(o.TextContent,null,r().createElement(o.Text,{component:o.TextVariants.h2},"Replicas"),r().createElement(o.Text,{component:o.TextVariants.p},"How many copies of a topic will be made for high availability."),r().createElement(o.Text,{component:o.TextVariants.small},"The partitions of each topic can be replicated across a configurable number of brokers.")),r().createElement(o.Alert,{variant:"info",isInline:!0,title:"Streams for Apache Kafka only supports 3 replicas and a minimum in-sync replica factor of 2."}),r().createElement(u.R,{btnAriaLabel:"topic detail replicas",fieldLabel:"Replicas",fieldValue:t.toString(),popoverBody:n("createTopic.replicasLabelBody"),popoverHeader:n("createTopic.replicasLabelHead")}),r().createElement(u.R,{btnAriaLabel:"topic detail min-in-sync replica",fieldLabel:"Minimum in-sync replicas",fieldValue:a.toString(),popoverBody:n("createTopic.inSyncReplicasLabelBody"),popoverHeader:n("createTopic.inSyncReplicasLabelHead")}))},h=a(8102),E=a(7887),f=a(9284),T=a(1249),b=a(7830),g=a(3526),k=a(5977),S=function(e){var t=e.setIsCreateTopic,a=e.isSwitchChecked,c=(0,n.useContext)(i.E),u=(0,k.k6)(),p=(0,n.useContext)(g.w).addAlert,S=(0,n.useState)(1),v=S[0],C=S[1],x=(0,n.useState)(""),y=x[0],w=x[1],P=(0,n.useState)(1),A=P[0],V=P[1],I=(0,n.useState)(3)[0],N=(0,n.useState)(2)[0],M=r().useState(1),R=M[0],F=M[1],O=r().useContext(f.J).store,_=function(){t&&t(!1)},z=function(){var e=a?(0,T.hM)((0,T.L3)(O)):{name:y,settings:{numPartitions:A,config:[{key:"retention.ms",value:v.toString()}]}};new E.M2(new b.VK({basePath:null==c?void 0:c.basePath,accessToken:null==c?void 0:c.getToken})).createTopic(e).then((function(e){200===e.status&&p("The topic was successfully created in the Kafka instance",o.AlertVariant.success),_()})).catch((function(e){p(e.response.data.err,o.AlertVariant.danger),_()}))},H=[{name:"Topic name",enableNext:""!==y.trim(),component:r().createElement(l,{topicNameInput:y,setTopicNameInput:w})},{name:"Partitions",canJumpTo:""!==y.trim(),component:r().createElement(s,{partitionTouchspinValue:A,setPartitionTouchspinValue:V})},{name:"Message retention",canJumpTo:""!==y.trim(),component:r().createElement(m,{setMsgRetentionValue:C,currentPeriod:R,setCurrentPeriod:F})},{name:"Replicas",canJumpTo:""!==y.trim(),component:r().createElement(d,{replicationFactor:I,minInSyncReplica:N}),nextButtonText:"Finish"}],K="Create topics wizard";return r().createElement(r().Fragment,null,a?r().createElement(r().Fragment,null,r().createElement(o.PageSection,{variant:o.PageSectionVariants.light},r().createElement(h.W,{isCreate:!0,saveTopic:z,handleCancel:function(){u.push("/topics")}}))):r().createElement(o.PageSection,{variant:o.PageSectionVariants.light,type:o.PageSectionTypes.wizard,isFilled:!0},r().createElement(o.Wizard,{navAriaLabel:K+" steps",mainAriaLabel:K+" content",steps:H,onClose:_,onSave:z})))},v=function(e){var t=e.setIsCreateTopic,a=(0,n.useState)(!1),i=a[0],o=a[1];return r().createElement(r().Fragment,null,r().createElement(c,{isSwitchChecked:i,setIsSwitchChecked:o}),r().createElement(S,{isSwitchChecked:i,setIsCreateTopic:t}))},C=a(6302),x=function(e){var t=e.getToken,a=e.apiBasePath,n=e.onCloseCreateTopic,c={addAlert:e.addAlert};return r().createElement(p.I18nextProvider,{i18n:C.Z},r().createElement(i.E.Provider,{value:{basePath:a,getToken:t}},r().createElement(g.w.Provider,{value:c},r().createElement(o.PageSection,{variant:o.PageSectionVariants.light},r().createElement(v,{setIsCreateTopic:function(e){e||n()}})))))};const y=x}}]);
//# sourceMappingURL=716.75daec09.bundle.js.map